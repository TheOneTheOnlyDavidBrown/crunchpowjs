"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function loadComponent(e,t){return new window[e](t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),BaseModel=function(){function e(t,n){_classCallCheck(this,e),this.modelName=t,this.data=n}return _createClass(e,[{key:"set",value:function(e,t){var n=this._existsInSchema(this.data,e,t);if(!n)return void console.warn('Not setting "'+e+'" in '+this.modelName+' model to "'+t+'". Doesnt exist in the schema');var r=this._checkType(this.data,e,t);return r?void this._setValue(this.data,e,t):void console.warn('Not setting "'+e+'" in '+this.modelName+' model to "'+t+'". It isnt the right type')}},{key:"get",value:function(e){return e?this._getValue(this.data,e):this._getData(this.data)}},{key:"_existsInSchema",value:function(e,t,n){return t="string"==typeof t?t.split("."):t,t.length>1&&e[t[0]]?this._existsInSchema(e[t.shift()].value,t,n):e[t[0]]?!0:!1}},{key:"_checkType",value:function(e,t,n){return t="string"==typeof t?t.split("."):t,t.length>1&&e[t[0]]?this._checkType(e[t.shift()].value,t,n):e[t[0]].type===typeof n}},{key:"_getData",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];for(var n in e)"object"===e[n].type?(t[n]={},this._getData(e[n].value,t[n])):t[n]=e[n].value;return t}},{key:"_setValue",value:function(e,t,n){t="string"==typeof t?t.split("."):t,t.length>1&&e[t[0]].value?this._setValue(e[t.shift()].value,t,n):e[t[0]].value&&(e[t[0]].value=n)}},{key:"_getValue",value:function(e,t){return t="string"==typeof t?t.split("."):t,t.length>1&&e[t[0]]?this._getValue(e[t.shift()].value,t):e[t[0]].value||""}},{key:"_checkStatus",value:function(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t}},{key:"_parseJSON",value:function(e){return e.json()}},{key:"save",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.get("id"):arguments[0],t=this.endpointPrefix+"/"+this.modelName+"/"+e,n={},r={method:"post",body:JSON.stringify(n)};return n[this.modelName]=this.get(),console.log("make post xhr call to "+t,n),fetch(t,r).then(this._checkStatus).then(this._parseJSON)}},{key:"fetch",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=arguments.length<=0||void 0===arguments[0]?this.get("id"):arguments[0],t=this.endpointPrefix+"/"+this.modelName+"/"+e,n={method:"get"};return console.log("make get xhr call to "+t),fetch(t,n).then(this._checkStatus).then(this._parseJSON)})},{key:"update",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.get("id"):arguments[0],t=this.endpointPrefix+"/"+this.modelName+"/"+e,n={};n[this.modelName]=this.get(),console.log("make update xhr call to "+t,n)}},{key:"destroy",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.get("id"):arguments[0],t=this.endpointPrefix+"/"+this.modelName+"/"+e,n={method:"delete"};return console.log("make delete xhr call to "+t),fetch(t,n).then(this._checkStatus).then(this._parseJSON)}},{key:"endpointPrefix",set:function(e){this._endpointPrefix=e},get:function(){return this._endpointPrefix||"api/vi"}}]),e}(),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();NodeList.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator];var Binding=function(){function e(t){var n=this;_classCallCheck(this,e),this.data=t,this._findBindable(),this.utils=new Utils;var r=r||{};setInterval(function(){n.utils.compare(r,n.data)===!1&&(r=JSON.parse(JSON.stringify(n.data)),n._populateBindings())},10)}return _createClass(e,[{key:"_populateBindings",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,a=document.querySelectorAll("[liaison-bind]")[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){var i=r.value,o=document.activeElement.getAttribute("liaison-bind");i===document.activeElement||i.getAttribute("liaison-bind")!==o&&null!==o||this._setElementContent(i,this._getValue(this.data,i.getAttribute("liaison-bind")))}}catch(s){t=!0,n=s}finally{try{!e&&a["return"]&&a["return"]()}finally{if(t)throw n}}}},{key:"_findBindable",value:function(){var e=this,t=!0,n=!1,r=void 0;try{for(var a,i=function(){var t=a.value;t.addEventListener("keydown",function(n){setTimeout(function(){return e._setValue(e.data,t.getAttribute("liaison-bind"),n.srcElement.value)})})},o=document.querySelectorAll("[liaison-bind]")[Symbol.iterator]();!(t=(a=o.next()).done);t=!0)i()}catch(s){n=!0,r=s}finally{try{!t&&o["return"]&&o["return"]()}finally{if(n)throw r}}}},{key:"_setElementContent",value:function(e,t){void 0!==t&&(e.innerHTML=t,e.value=t)}},{key:"_setValue",value:function(e,t,n){var r=t;"string"==typeof r&&(r=r.split(".")),r.length>1&&e[r[0]]?this._setValue(e[r.shift()],r,n):"string"==typeof e[r[0]]&&(e[r[0]]=n)}},{key:"_getValue",value:function(e,t){var n=t;return"string"==typeof n&&(n=n.split(".")),n.length>1&&e[n[0]]?this._getValue(e[n.shift()],n):e[n[0]]}},{key:"refresh",value:function(e){this.data=e,this._populateBindings()}}]),e}(),Liaison=function e(t){_classCallCheck(this,e);for(var n in t)n&&(this[n]=t[n])},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Router=function(){function e(){var t=this;_classCallCheck(this,e),this.utils=new Utils,this.view=document.querySelector("[liaison-view]"),this.paths=[],this.wildcards=[],setTimeout(function(){return t.go(window.location.hash.substring(1))},0),window.addEventListener("popstate",function(e){return t.go(e.state||window.location.hash.substring(1),!1)})}return _createClass(e,[{key:"state",value:function(e){return e.name.indexOf(":")>0?this.wildcards.push(e):this.paths.push(e),this}},{key:"fallback",value:function(e){this.paths.push(e),this._fallback=e}},{key:"go",value:function(e){var t=this;console.log("going to state "+e);var n=this._findRouteInPaths(e);return n?void fetch(n.templateUrl).then(function(e){return e.text()}).then(function(e){t.view.innerHTML=e}):(this.go(this._fallback.name),!1)}},{key:"_findRouteInPaths",value:function(e){var t=!0,n=!1,r=void 0;try{for(var a,i=this.paths[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;if(o.name===e)return o}}catch(s){n=!0,r=s}finally{try{!t&&i["return"]&&i["return"]()}finally{if(n)throw r}}var l=e.substring(1).split("/"),u=!0,c=!1,h=void 0;try{for(var f,d=this.wildcards[Symbol.iterator]();!(u=(f=d.next()).done);u=!0){var p=f.value,v=p.name.substring(1).split("/");if(v.length===l.length)for(var g=0,y=v.length;y>g;g++)if(0===v[g].indexOf(":")){var m=v;if(m[g]=l[g],this.utils.compare(m,l))return p}}}catch(s){c=!0,h=s}finally{try{!u&&d["return"]&&d["return"]()}finally{if(c)throw h}}return!1}}]),e}(),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Utils=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"_hasher",value:function(e){var t=0,n=void 0,r=void 0,a=e.toString();for(n=0,r=a.length;r>n;n++)t=(t<<5)-t+a.charCodeAt(n)&4294967295;return t}},{key:"_object",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?0:arguments[2],r=n;for(var a in t){if("object"==typeof t[a])return this._object(e,t[a],r);hasOwnProperty.call(t,a)&&(r+=e._hasher(a+e._hasher(t[a])))}return r}},{key:"hash",value:function(e){var t={string:this._hasher,number:this._hasher,"boolean":this._hasher,object:this.object},n=typeof e;return null!==e&&t[n]?t[n](this,e)+this._hasher(n):0}},{key:"compareHashes",value:function(e,t){return this.hash(e)===this.hash(t)}},{key:"compare",value:function(e,t){return JSON.stringify(e)===JSON.stringify(t)}}]),e}(),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Example=function(){function e(t){_classCallCheck(this,e),this.bind=new Liaison(t),console.log(this.bind),this.binding=new Binding(this.bind),this.exampleBinding(),this.exampleRouter()}return _createClass(e,[{key:"exampleBinding",value:function(){var e=new UserModel;e.set("age","8777"),e.set("name","my first name on user model"),e.set("age",{age:33}),e.set("age",999),e.set("address","my address"),e.set("address",e.upCase("my second address")),e.save().then(function(){console.log("then")})["catch"](function(e){console.log("request failed",e)}),e.update(),e.fetch().then(function(){console.log("then")})["catch"](function(e){console.log("request failed",e)}),e.destroy().then(function(){console.log("then")})["catch"](function(e){console.log("request failed",e)});var t=new ViewModel;t.set("single","updated via viewmodel model set function"),t.set("user.name","my second example name"),t.set("user.age",{age:22}),t.set("user.age",444),t.set("user.address",77878),t.set("user.address","my second address"),this.binding.refresh(this.bind)}},{key:"exampleRouter",value:function(){}}]),e}(),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Example2=function(){function e(t){_classCallCheck(this,e),this.bind=new Liaison(t),this.binding=new Binding(this.bind)}return _createClass(e,[{key:"anotherFunction",value:function(){console.log(this.bind.string)}}]),e}();window.router=window.router||new Router,window.router.state({name:"/users",templateUrl:"templates/userindex.html"}).state({name:"/user/:id",templateUrl:"templates/user.html"}).state({name:"/user/:id/details",templateUrl:"templates/userdetails.html"}).state({name:"/user/:id/:subid",templateUrl:"templates/usersub.html"}).state({name:"/list",templateUrl:"templates/list.html"}).state({name:"/",templateUrl:"templates/list.html"}).fallback({name:"/404",templateUrl:"templates/404.html"});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;s=u=l=void 0,r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(o)}var u=Object.getPrototypeOf(a);if(null===u)return void 0;e=u,t=i,n=o,r=!0}},UserModel=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"user",{id:{value:789787,type:"number"},name:{value:"name",type:"string"},address:{value:"221b bake",type:"string"},age:{value:null,type:"number"}})}return _inherits(t,e),_createClass(t,[{key:"upCase",value:function(e){return e.toUpperCase()}}]),t}(BaseModel),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;s=u=l=void 0,r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(o)}var u=Object.getPrototypeOf(a);if(null===u)return void 0;e=u,t=i,n=o,r=!0}},ViewModel=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"view",{single:{type:"string",value:"from schema"},user:{type:"object",value:{id:{type:"number",value:88888},name:{type:"string",value:"Sherlock Holmes"},address:{type:"string",value:"221b Baker Street"}}},programmingLanguages:{type:"array",value:["javascript","ruby"]}})}return _inherits(t,e),t}(BaseModel);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5taW4uanMiLCJMaWFpc29uLmpzIiwiQmFzZU1vZGVsLmpzIiwiQmluZGluZy5qcyIsIlJvdXRlci5qcyIsIlV0aWxzLmpzIiwic2NyaXB0cy9FeGFtcGxlLmpzIiwic2NyaXB0cy9FeGFtcGxlMi5qcyIsInNjcmlwdHMvUm91dGVzLmpzIiwic2NyaXB0cy9Vc2VyTW9kZWwuanMiLCJzY3JpcHRzL1ZpZXdNb2RlbC5qcyJdLCJuYW1lcyI6WyJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwibG9hZENvbXBvbmVudCIsIm1vZHVsZSIsImRhdGEiLCJ3aW5kb3ciLCJfaW5oZXJpdHMiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsInZhbHVlIiwiZW51bWVyYWJsZSIsIndyaXRhYmxlIiwiY29uZmlndXJhYmxlIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImRlZmluZVByb3BlcnR5Iiwia2V5IiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiQmFzZU1vZGVsIiwibW9kZWxOYW1lIiwic2NoZW1hIiwidGhpcyIsImV4aXN0c0luU2NoZW1hIiwiX2V4aXN0c0luU2NoZW1hIiwiY29uc29sZSIsIndhcm4iLCJ0eXBlTWF0Y2hlcyIsIl9jaGVja1R5cGUiLCJfc2V0VmFsdWUiLCJhY2Nlc3MiLCJfZ2V0VmFsdWUiLCJfZ2V0RGF0YSIsIm9iaiIsInNwbGl0Iiwic2hpZnQiLCJ0eXBlIiwibmV3T2JqIiwiYXJndW1lbnRzIiwidW5kZWZpbmVkIiwiZWxlbWVudCIsInJlc3BvbnNlIiwic3RhdHVzIiwiZXJyb3IiLCJFcnJvciIsInN0YXR1c1RleHQiLCJqc29uIiwiaWQiLCJnZXQiLCJ1cmwiLCJlbmRwb2ludFByZWZpeCIsInNlbmRPYmoiLCJ4aHJQcm9wZXJ0aWVzIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJsb2ciLCJmZXRjaCIsInRoZW4iLCJfY2hlY2tTdGF0dXMiLCJfcGFyc2VKU09OIiwiX2ZldGNoIiwiYXBwbHkiLCJ0b1N0cmluZyIsInNldCIsInByZWZpeCIsIl9lbmRwb2ludFByZWZpeCIsIk5vZGVMaXN0IiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJBcnJheSIsIkJpbmRpbmciLCJfdGhpcyIsIl9maW5kQmluZGFibGUiLCJ1dGlscyIsIlV0aWxzIiwiY3VycmVudERhdGEiLCJzZXRJbnRlcnZhbCIsImNvbXBhcmUiLCJwYXJzZSIsIl9wb3B1bGF0ZUJpbmRpbmdzIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiIsIl9kaWRJdGVyYXRvckVycm9yIiwiX2l0ZXJhdG9yRXJyb3IiLCJfc3RlcCIsIl9pdGVyYXRvciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsIm5leHQiLCJkb25lIiwiZWxtIiwiYmluZE5hbWUiLCJhY3RpdmVFbGVtZW50IiwiZ2V0QXR0cmlidXRlIiwiX3NldEVsZW1lbnRDb250ZW50IiwiZXJyIiwiX3RoaXMyIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIiLCJfZGlkSXRlcmF0b3JFcnJvcjIiLCJfaXRlcmF0b3JFcnJvcjIiLCJfc3RlcDIiLCJfbG9vcCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsInNldFRpbWVvdXQiLCJzcmNFbGVtZW50IiwiX2l0ZXJhdG9yMiIsImlubmVySFRNTCIsIl9hY2Nlc3MiLCJMaWFpc29uIiwiZGF0dW0iLCJSb3V0ZXIiLCJ2aWV3IiwicXVlcnlTZWxlY3RvciIsInBhdGhzIiwid2lsZGNhcmRzIiwiZ28iLCJsb2NhdGlvbiIsImhhc2giLCJzdWJzdHJpbmciLCJzdGF0ZSIsIm5hbWUiLCJpbmRleE9mIiwicHVzaCIsIl9mYWxsYmFjayIsInJvdXRlIiwiX2ZpbmRSb3V0ZUluUGF0aHMiLCJ0ZW1wbGF0ZVVybCIsInRleHQiLCJ0ZW1wbGF0ZSIsInBhdGgiLCJfcm91dGUiLCJ3aWxkY2FyZCIsIl93aWxkY2FyZCIsImluZGV4IiwibGVuIiwidGVtcCIsInZhbCIsInN0cmluZyIsImNoYXJDb2RlQXQiLCJzZWxmIiwicmVzdWx0IiwiX3Jlc3VsdCIsInByb3BlcnR5IiwiX29iamVjdCIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIl9oYXNoZXIiLCJpbnB1dCIsInR5cGVzIiwibnVtYmVyIiwiYm9vbGVhbiIsIm9iamVjdCIsIml0ZW1BIiwiaXRlbUIiLCJFeGFtcGxlIiwiYmluZCIsImJpbmRpbmciLCJleGFtcGxlQmluZGluZyIsImV4YW1wbGVSb3V0ZXIiLCJ1c2VyIiwiVXNlck1vZGVsIiwiYWdlIiwidXBDYXNlIiwic2F2ZSIsInVwZGF0ZSIsImRlc3Ryb3kiLCJ2aWV3bW9kZWwiLCJWaWV3TW9kZWwiLCJyZWZyZXNoIiwiRXhhbXBsZTIiLCJyb3V0ZXIiLCJmYWxsYmFjayIsIl9nZXQiLCJfeCIsIl94MiIsIl94MyIsIl9hZ2FpbiIsInJlY2VpdmVyIiwiZGVzYyIsInBhcmVudCIsImdldHRlciIsIkZ1bmN0aW9uIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZ2V0UHJvdG90eXBlT2YiLCJfQmFzZU1vZGVsIiwiYWRkcmVzcyIsInN0ciIsInRvVXBwZXJDYXNlIiwic2luZ2xlIiwicHJvZ3JhbW1pbmdMYW5ndWFnZXMiXSwibWFwcGluZ3MiOiJBQUNBLFlBSUEsU0FBU0EsaUJBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUlDLFdBQVUscUNBb01oSCxRQUFTSCxpQkFBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSUMsV0FBVSxxQ0FnSmhILFFBQVNILGlCQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQ2hWakcsUUFBU0MsZUFBY0MsRUFB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IjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbbnVsbCwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGlhaXNvbiB7XG4gIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICBmb3IgKGNvbnN0IGRhdHVtIGluIGRhdGEpIHtcbiAgICAgIGlmIChkYXR1bSkge1xuICAgICAgICB0aGlzW2RhdHVtXSA9IGRhdGFbZGF0dW1dO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbG9hZENvbXBvbmVudChtb2R1bGUsIGRhdGEpIHtcbiAgcmV0dXJuIG5ldyB3aW5kb3dbbW9kdWxlXShkYXRhKTtcbn1cbiIsIi8vIFRPRE86IGFsbG93IGEgc2hhcmVkIGZyb250ZW5kL2JhY2tlbmQgc2NoZW1hIGZpbGVcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhc2VNb2RlbCB7XG4gIGNvbnN0cnVjdG9yKG1vZGVsTmFtZSwgc2NoZW1hKSB7XG4gICAgdGhpcy5tb2RlbE5hbWUgPSBtb2RlbE5hbWU7XG4gICAgdGhpcy5kYXRhID0gc2NoZW1hO1xuICB9XG5cbiAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICBjb25zdCBleGlzdHNJblNjaGVtYSA9IHRoaXMuX2V4aXN0c0luU2NoZW1hKHRoaXMuZGF0YSwga2V5LCB2YWx1ZSk7XG4gICAgaWYgKCFleGlzdHNJblNjaGVtYSkge1xuICAgICAgY29uc29sZS53YXJuKGBOb3Qgc2V0dGluZyBcIiR7a2V5fVwiIGluICR7dGhpcy5tb2RlbE5hbWV9IG1vZGVsIHRvIFwiJHt2YWx1ZX1cIi4gRG9lc250IGV4aXN0IGluIHRoZSBzY2hlbWFgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdHlwZU1hdGNoZXMgPSB0aGlzLl9jaGVja1R5cGUodGhpcy5kYXRhLCBrZXksIHZhbHVlKTtcbiAgICBpZiAoIXR5cGVNYXRjaGVzKSB7XG4gICAgICBjb25zb2xlLndhcm4oYE5vdCBzZXR0aW5nIFwiJHtrZXl9XCIgaW4gJHt0aGlzLm1vZGVsTmFtZX0gbW9kZWwgdG8gXCIke3ZhbHVlfVwiLiBJdCBpc250IHRoZSByaWdodCB0eXBlYCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX3NldFZhbHVlKHRoaXMuZGF0YSwga2V5LCB2YWx1ZSk7XG4gIH1cblxuICBnZXQoYWNjZXNzKSB7XG4gICAgaWYgKGFjY2Vzcykge1xuICAgICAgcmV0dXJuIHRoaXMuX2dldFZhbHVlKHRoaXMuZGF0YSwgYWNjZXNzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuX2dldERhdGEodGhpcy5kYXRhKTtcbiAgICB9XG4gIH1cblxuICBfZXhpc3RzSW5TY2hlbWEob2JqLCBhY2Nlc3MsIHZhbHVlKSB7XG4gICAgYWNjZXNzID0gKHR5cGVvZihhY2Nlc3MpID09PSAnc3RyaW5nJykgPyBhY2Nlc3Muc3BsaXQoJy4nKSA6IGFjY2VzcztcbiAgICBpZiAoYWNjZXNzLmxlbmd0aCA+IDEgJiYgb2JqW2FjY2Vzc1swXV0pIHtcbiAgICAgIHJldHVybiB0aGlzLl9leGlzdHNJblNjaGVtYShvYmpbYWNjZXNzLnNoaWZ0KCldLnZhbHVlLCBhY2Nlc3MsIHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG9ialthY2Nlc3NbMF1dID8gdHJ1ZSA6IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIF9jaGVja1R5cGUob2JqLCBhY2Nlc3MsIHZhbHVlKSB7XG4gICAgYWNjZXNzID0gKHR5cGVvZihhY2Nlc3MpID09PSAnc3RyaW5nJykgPyBhY2Nlc3Muc3BsaXQoJy4nKSA6IGFjY2VzcztcbiAgICBpZiAoYWNjZXNzLmxlbmd0aCA+IDEgJiYgb2JqW2FjY2Vzc1swXV0pIHtcbiAgICAgIHJldHVybiB0aGlzLl9jaGVja1R5cGUob2JqW2FjY2Vzcy5zaGlmdCgpXS52YWx1ZSwgYWNjZXNzLCB2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBvYmpbYWNjZXNzWzBdXS50eXBlID09PSB0eXBlb2YgdmFsdWU7XG4gICAgfVxuICB9XG5cbiAgX2dldERhdGEob2JqLCBuZXdPYmogPSB7fSkge1xuICAgIGZvciAoY29uc3QgZWxlbWVudCBpbiBvYmopIHtcbiAgICAgIGlmIChvYmpbZWxlbWVudF0udHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgbmV3T2JqW2VsZW1lbnRdID0ge307XG4gICAgICAgIHRoaXMuX2dldERhdGEob2JqW2VsZW1lbnRdLnZhbHVlLCBuZXdPYmpbZWxlbWVudF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3T2JqW2VsZW1lbnRdID0gb2JqW2VsZW1lbnRdLnZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3T2JqO1xuICB9XG5cbiAgX3NldFZhbHVlKG9iaiwgYWNjZXNzLCB2YWx1ZSkge1xuICAgIGFjY2VzcyA9ICh0eXBlb2YoYWNjZXNzKSA9PT0gJ3N0cmluZycpID8gYWNjZXNzLnNwbGl0KCcuJykgOiBhY2Nlc3M7XG4gICAgaWYgKGFjY2Vzcy5sZW5ndGggPiAxICYmIG9ialthY2Nlc3NbMF1dLnZhbHVlKSB7XG4gICAgICB0aGlzLl9zZXRWYWx1ZShvYmpbYWNjZXNzLnNoaWZ0KCldLnZhbHVlLCBhY2Nlc3MsIHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKG9ialthY2Nlc3NbMF1dLnZhbHVlKSB7XG4gICAgICBvYmpbYWNjZXNzWzBdXS52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIF9nZXRWYWx1ZShvYmosIGFjY2Vzcykge1xuICAgIGFjY2VzcyA9ICh0eXBlb2YoYWNjZXNzKSA9PT0gJ3N0cmluZycpID8gYWNjZXNzLnNwbGl0KCcuJykgOiBhY2Nlc3M7XG4gICAgaWYgKGFjY2Vzcy5sZW5ndGggPiAxICYmIG9ialthY2Nlc3NbMF1dKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZ2V0VmFsdWUob2JqW2FjY2Vzcy5zaGlmdCgpXS52YWx1ZSwgYWNjZXNzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG9ialthY2Nlc3NbMF1dLnZhbHVlIHx8ICcnO1xuICAgIH1cbiAgfVxuXG4gIHNldCBlbmRwb2ludFByZWZpeChwcmVmaXgpIHtcbiAgICB0aGlzLl9lbmRwb2ludFByZWZpeCA9IHByZWZpeDtcbiAgfVxuXG4gIGdldCBlbmRwb2ludFByZWZpeCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZW5kcG9pbnRQcmVmaXggfHwgJ2FwaS92aSc7XG4gIH1cblxuICAvLyBUT0RPOiByZWZhY3RvciB0aGlzIHRvIGhlbHBlclxuICBfY2hlY2tTdGF0dXMocmVzcG9uc2UpIHtcbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCAzMDApIHtcbiAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dCk7XG4gICAgICBlcnJvci5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgX3BhcnNlSlNPTihyZXNwb25zZSkge1xuICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gIH1cblxuICAvLyBUT0RPOiBDUlVEIG9wZXJhdGlvbnMgeGhyIGNhbGxzLiByZXR1cm4gcHJvbWlzZXNcbiAgc2F2ZShpZCA9IHRoaXMuZ2V0KCdpZCcpKSB7XG4gICAgY29uc3QgdXJsID0gYCR7dGhpcy5lbmRwb2ludFByZWZpeH0vJHt0aGlzLm1vZGVsTmFtZX0vJHtpZH1gO1xuICAgIGNvbnN0IHNlbmRPYmogPSB7fTtcbiAgICBjb25zdCB4aHJQcm9wZXJ0aWVzID0ge1xuICAgICAgbWV0aG9kOiAncG9zdCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShzZW5kT2JqKSxcbiAgICB9O1xuXG4gICAgc2VuZE9ialt0aGlzLm1vZGVsTmFtZV0gPSB0aGlzLmdldCgpO1xuICAgIGNvbnNvbGUubG9nKGBtYWtlIHBvc3QgeGhyIGNhbGwgdG8gJHt1cmx9YCwgc2VuZE9iaik7XG5cbiAgICByZXR1cm4gZmV0Y2godXJsLCB4aHJQcm9wZXJ0aWVzKVxuICAgICAgLnRoZW4odGhpcy5fY2hlY2tTdGF0dXMpXG4gICAgICAudGhlbih0aGlzLl9wYXJzZUpTT04pO1xuICB9XG5cbiAgZmV0Y2goaWQgPSB0aGlzLmdldCgnaWQnKSkge1xuICAgIGNvbnN0IHVybCA9IGAke3RoaXMuZW5kcG9pbnRQcmVmaXh9LyR7dGhpcy5tb2RlbE5hbWV9LyR7aWR9YDtcbiAgICBjb25zdCB4aHJQcm9wZXJ0aWVzID0ge1xuICAgICAgbWV0aG9kOiAnZ2V0JyxcbiAgICB9O1xuICAgIGNvbnNvbGUubG9nKGBtYWtlIGdldCB4aHIgY2FsbCB0byAke3VybH1gKTtcblxuICAgIHJldHVybiBmZXRjaCh1cmwsIHhoclByb3BlcnRpZXMpXG4gICAgICAudGhlbih0aGlzLl9jaGVja1N0YXR1cylcbiAgICAgIC50aGVuKHRoaXMuX3BhcnNlSlNPTik7XG4gIH1cblxuICB1cGRhdGUoaWQgPSB0aGlzLmdldCgnaWQnKSkge1xuICAgIGNvbnN0IHVybCA9IGAke3RoaXMuZW5kcG9pbnRQcmVmaXh9LyR7dGhpcy5tb2RlbE5hbWV9LyR7aWR9YDtcbiAgICBjb25zdCBzZW5kT2JqID0ge307XG4gICAgc2VuZE9ialt0aGlzLm1vZGVsTmFtZV0gPSB0aGlzLmdldCgpO1xuICAgIGNvbnNvbGUubG9nKGBtYWtlIHVwZGF0ZSB4aHIgY2FsbCB0byAke3VybH1gLCBzZW5kT2JqKTtcblxuICAgIC8vIEdpdGh1YidzIGZldGNoIHByb2plY3QgZG9lc250IGFwcGVhciB0byBzdXBwb3J0IFVQREFURVxuICAgIC8vIFRPRE86IGludmVzdGlnYXRlIHRoZSBhYm92ZSBzdGF0ZW1lbnRcbiAgICAvLyBmZXRjaCh1cmwsIHtcbiAgICAvLyAgIG1ldGhvZDogJ1VQREFURScsXG4gICAgLy8gICBib2R5OiBKU09OLnN0cmluZ2lmeShzZW5kT2JqKVxuICAgIC8vIH0pO1xuICB9XG5cbiAgZGVzdHJveShpZCA9IHRoaXMuZ2V0KCdpZCcpKSB7XG4gICAgY29uc3QgdXJsID0gYCR7dGhpcy5lbmRwb2ludFByZWZpeH0vJHt0aGlzLm1vZGVsTmFtZX0vJHtpZH1gO1xuICAgIGNvbnN0IHhoclByb3BlcnRpZXMgPSB7XG4gICAgICBtZXRob2Q6ICdkZWxldGUnLFxuICAgIH07XG4gICAgY29uc29sZS5sb2coYG1ha2UgZGVsZXRlIHhociBjYWxsIHRvICR7dXJsfWApO1xuXG4gICAgcmV0dXJuIGZldGNoKHVybCwgeGhyUHJvcGVydGllcylcbiAgICAgIC50aGVuKHRoaXMuX2NoZWNrU3RhdHVzKVxuICAgICAgLnRoZW4odGhpcy5fcGFyc2VKU09OKTtcbiAgfVxufVxuIiwiLy8gYWxsb3dpbmcgZm9yLi5vZiBvZiBub2RlbGlzdHMgZm9yIENocm9tZSBzdXBwb3J0XG5Ob2RlTGlzdC5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IEFycmF5LnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdO1xuaW1wb3J0IHtVdGlsc30gZnJvbSAnLi9VdGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJpbmRpbmcge1xuICBjb25zdHJ1Y3RvcihkYXRhKSB7XG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB0aGlzLl9maW5kQmluZGFibGUoKTtcbiAgICB0aGlzLnV0aWxzID0gbmV3IFV0aWxzKCk7XG5cbiAgICBsZXQgY3VycmVudERhdGEgPSBjdXJyZW50RGF0YSB8fCB7fTtcblxuICAgIC8vIHdhdGNoaW5nIHRoaXMuZGF0YSBmb3IgcHJvZ3JhbW1hdGljYWwgdXBkYXRlc1xuICAgIHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGlmICh0aGlzLnV0aWxzLmNvbXBhcmUoY3VycmVudERhdGEsIHRoaXMuZGF0YSkgPT09IGZhbHNlKSB7XG4gICAgICAgIGN1cnJlbnREYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmRhdGEpKTtcbiAgICAgICAgdGhpcy5fcG9wdWxhdGVCaW5kaW5ncygpO1xuICAgICAgfVxuICAgIH0sIDEwKTtcbiAgfVxuXG4gIF9wb3B1bGF0ZUJpbmRpbmdzKCkge1xuICAgIGZvciAoY29uc3QgZWxtIG9mIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tsaWFpc29uLWJpbmRdJykpIHtcbiAgICAgIGNvbnN0IGJpbmROYW1lID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2xpYWlzb24tYmluZCcpO1xuXG4gICAgICAvLyBwcmV2ZW50IHRoZSBpbnB1dCB5b3VyZSB0eXBpbmcgaW4gZnJvbSB1cGRhdGluZy4gcHJldmVudHMgdGhlIGN1cnNvciBmcm9tIGp1bXBpbmcgdG8gdGhlIGVuZFxuICAgICAgLy8gb25seSB1cGRhdGVzIGJpbmRpbmdzIHRoYXQgbmVlZCB0byBiZSB1cGRhdGVkXG4gICAgICBpZiAoZWxtICE9PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmIChlbG0uZ2V0QXR0cmlidXRlKCdsaWFpc29uLWJpbmQnKSA9PT0gYmluZE5hbWUgfHwgYmluZE5hbWUgPT09IG51bGwpKSB7XG4gICAgICAgIHRoaXMuX3NldEVsZW1lbnRDb250ZW50KGVsbSwgdGhpcy5fZ2V0VmFsdWUodGhpcy5kYXRhLCBlbG0uZ2V0QXR0cmlidXRlKCdsaWFpc29uLWJpbmQnKSkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9maW5kQmluZGFibGUoKSB7XG4gICAgZm9yIChjb25zdCBlbG0gb2YgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2xpYWlzb24tYmluZF0nKSkge1xuICAgICAgZWxtLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICAgICAgLy8gc2V0dGltZW91dCBhbGxvd3MgdGhlIGtleWRvd24gZXZlbnQgZ28gZ2V0IHRoZSBuZXcgdmFsdWVcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLl9zZXRWYWx1ZSh0aGlzLmRhdGEsIGVsbS5nZXRBdHRyaWJ1dGUoJ2xpYWlzb24tYmluZCcpLCBldmVudC5zcmNFbGVtZW50LnZhbHVlKSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBfc2V0RWxlbWVudENvbnRlbnQoZWxlbWVudCwgdmFsdWUpIHtcbiAgICAvLyBhbGxvd3MgbXVsdGlwbGUgY29tcG9uZW50c1xuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgZWxlbWVudC5pbm5lckhUTUwgPSB2YWx1ZTtcbiAgICBlbGVtZW50LnZhbHVlID0gdmFsdWU7XG4gIH1cblxuICBfc2V0VmFsdWUob2JqLCBhY2Nlc3MsIHZhbHVlKSB7XG4gICAgbGV0IF9hY2Nlc3MgPSBhY2Nlc3M7XG4gICAgaWYgKHR5cGVvZihfYWNjZXNzKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIF9hY2Nlc3MgPSBfYWNjZXNzLnNwbGl0KCcuJyk7XG4gICAgfVxuICAgIGlmIChfYWNjZXNzLmxlbmd0aCA+IDEgJiYgb2JqW19hY2Nlc3NbMF1dKSB7XG4gICAgICB0aGlzLl9zZXRWYWx1ZShvYmpbX2FjY2Vzcy5zaGlmdCgpXSwgX2FjY2VzcywgdmFsdWUpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9ialtfYWNjZXNzWzBdXSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIG9ialtfYWNjZXNzWzBdXSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIF9nZXRWYWx1ZShvYmosIGFjY2Vzcykge1xuICAgIGxldCBfYWNjZXNzID0gYWNjZXNzO1xuICAgIGlmICh0eXBlb2YoX2FjY2VzcykgPT09ICdzdHJpbmcnKSB7XG4gICAgICBfYWNjZXNzID0gX2FjY2Vzcy5zcGxpdCgnLicpO1xuICAgIH1cbiAgICBpZiAoX2FjY2Vzcy5sZW5ndGggPiAxICYmIG9ialtfYWNjZXNzWzBdXSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2dldFZhbHVlKG9ialtfYWNjZXNzLnNoaWZ0KCldLCBfYWNjZXNzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG9ialtfYWNjZXNzWzBdXTtcbiAgICB9XG4gIH1cblxuICByZWZyZXNoKGRhdGEpIHtcbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIHRoaXMuX3BvcHVsYXRlQmluZGluZ3MoKTtcbiAgfVxufVxuIiwiaW1wb3J0IHtVdGlsc30gZnJvbSAnLi9VdGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJvdXRlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMudXRpbHMgPSBuZXcgVXRpbHMoKTtcbiAgICB0aGlzLnZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbGlhaXNvbi12aWV3XScpO1xuICAgIHRoaXMucGF0aHMgPSBbXTtcbiAgICB0aGlzLndpbGRjYXJkcyA9IFtdO1xuICAgIC8vIGdvZXMgdG8gaGFzaCB1cmxcbiAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuZ28od2luZG93LmxvY2F0aW9uLmhhc2guc3Vic3RyaW5nKDEpKSwgMCk7XG4gICAgLy8gYWxsb3dzIGJhY2svZm9yd2FyZCBidXR0b25zXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgKGV2ZW50KSA9PiB0aGlzLmdvKGV2ZW50LnN0YXRlIHx8IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnN1YnN0cmluZygxKSwgZmFsc2UpKTtcbiAgfVxuXG4gIHN0YXRlKGRhdGEpIHtcbiAgICBpZiAoZGF0YS5uYW1lLmluZGV4T2YoJzonKSA+IDApIHtcbiAgICAgIHRoaXMud2lsZGNhcmRzLnB1c2goZGF0YSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucGF0aHMucHVzaChkYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBmYWxsYmFjayhkYXRhKSB7XG4gICAgdGhpcy5wYXRocy5wdXNoKGRhdGEpO1xuICAgIHRoaXMuX2ZhbGxiYWNrID0gZGF0YTtcbiAgfVxuXG4gIC8vIGludGVncmF0aW9uIHRlc3RzIGNvdmVyIHRoaXNcbiAgZ28ocm91dGUpIHtcbiAgICBjb25zb2xlLmxvZyhgZ29pbmcgdG8gc3RhdGUgJHtyb3V0ZX1gKTtcbiAgICBjb25zdCBvYmogPSB0aGlzLl9maW5kUm91dGVJblBhdGhzKHJvdXRlKTtcbiAgICBpZiAoIW9iaikge1xuICAgICAgdGhpcy5nbyh0aGlzLl9mYWxsYmFjay5uYW1lKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZmV0Y2gob2JqLnRlbXBsYXRlVXJsKVxuICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIHJldHVybiByZXNwb25zZS50ZXh0KCk7XG4gICAgICB9KS50aGVuKCh0ZW1wbGF0ZSkgPT4ge1xuICAgICAgICB0aGlzLnZpZXcuaW5uZXJIVE1MID0gdGVtcGxhdGU7XG4gICAgICB9KTtcbiAgfVxuXG4gIC8vIFRPRE86IGNsZWFuIHRoaXMgdXAuIHRoZXJlIGhhcyB0byBiZSBhIGJldHRlciB3YXlcbiAgX2ZpbmRSb3V0ZUluUGF0aHMocm91dGUpIHtcbiAgICBmb3IgKGNvbnN0IHBhdGggb2YgdGhpcy5wYXRocykge1xuICAgICAgaWYgKHBhdGgubmFtZSA9PT0gcm91dGUpIHJldHVybiBwYXRoO1xuICAgIH1cbiAgICBjb25zdCBfcm91dGUgPSByb3V0ZS5zdWJzdHJpbmcoMSkuc3BsaXQoJy8nKTtcbiAgICBmb3IgKGNvbnN0IHdpbGRjYXJkIG9mIHRoaXMud2lsZGNhcmRzKSB7XG4gICAgICBjb25zdCBfd2lsZGNhcmQgPSB3aWxkY2FyZC5uYW1lLnN1YnN0cmluZygxKS5zcGxpdCgnLycpO1xuICAgICAgaWYgKF93aWxkY2FyZC5sZW5ndGggPT09IF9yb3V0ZS5sZW5ndGgpIHtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwLCBsZW4gPSBfd2lsZGNhcmQubGVuZ3RoOyBpbmRleCA8IGxlbjsgaW5kZXgrKykge1xuICAgICAgICAgIGlmIChfd2lsZGNhcmRbaW5kZXhdLmluZGV4T2YoJzonKSA9PT0gMCkge1xuICAgICAgICAgICAgY29uc3QgdGVtcCA9IF93aWxkY2FyZDtcbiAgICAgICAgICAgIHRlbXBbaW5kZXhdID0gX3JvdXRlW2luZGV4XTtcbiAgICAgICAgICAgIGlmICh0aGlzLnV0aWxzLmNvbXBhcmUodGVtcCwgX3JvdXRlKSkge1xuICAgICAgICAgICAgICByZXR1cm4gd2lsZGNhcmQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vLyAqIG9uIHBhZ2UgbG9hZCwgZ2V0IHVybCBhbmQgbG9hZCBhcHByb3ByaWF0ZSB0ZW10cGxhdGVcbi8vICogb24gdXJsIGNoYW5nZSwgdXBkYXRlIHRlbXBsYXRlXG4vLyAqIGFsbG93IHdpbGRjYXJkcyBpbiBwYXRocyAvdGVtcGxhdGUvdXNlci86aWRcbi8vIHBhc3MgdmFyaWFibGVzIHRvIHRlbXBsYXRlXG4vLyBhbGxvdyBjb21wb25lbnQgdG8gYmUgZGVjbGFyZWQgaW4gcm91dGUgb2JqZWN0XG4vLyAqIGdldCBzdGF0ZSAoaWYgc3RhdGUgPT0gJ2h1aG9ob2hhbycpLi4uXG4vLyAqIHVwZGF0ZSBzdGF0ZSBvbiBmb3J3YXJkL2JhY2tcbi8vICogcm91dGVzIG9uIHJlZnJlc2hcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFV0aWxzIHtcbiAgY29uc3RydWN0b3IoKSB7fVxuXG4gIF9oYXNoZXIodmFsKSB7XG4gICAgbGV0IGhhc2ggPSAwO1xuICAgIGxldCBpbmRleDtcbiAgICBsZXQgbGVuO1xuICAgIGNvbnN0IHN0cmluZyA9IHZhbC50b1N0cmluZygpO1xuICAgIGZvciAoaW5kZXggPSAwLCBsZW4gPSBzdHJpbmcubGVuZ3RoOyBpbmRleCA8IGxlbjsgaW5kZXgrKykge1xuICAgICAgaGFzaCA9ICgoKGhhc2ggPDwgNSkgLSBoYXNoKSArIHN0cmluZy5jaGFyQ29kZUF0KGluZGV4KSkgJiAweEZGRkZGRkZGO1xuICAgIH1cbiAgICByZXR1cm4gaGFzaDtcbiAgfVxuXG4gIF9vYmplY3Qoc2VsZiwgb2JqLCByZXN1bHQgPSAwKSB7XG4gICAgbGV0IF9yZXN1bHQgPSByZXN1bHQ7XG4gICAgZm9yIChjb25zdCBwcm9wZXJ0eSBpbiBvYmopIHtcbiAgICAgIGlmICh0eXBlb2Ygb2JqW3Byb3BlcnR5XSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29iamVjdChzZWxmLCBvYmpbcHJvcGVydHldLCBfcmVzdWx0KTtcbiAgICAgIH1cbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcGVydHkpKSB7XG4gICAgICAgIF9yZXN1bHQgKz0gc2VsZi5faGFzaGVyKHByb3BlcnR5ICsgc2VsZi5faGFzaGVyKG9ialtwcm9wZXJ0eV0pKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIF9yZXN1bHQ7XG4gIH1cblxuICBoYXNoKGlucHV0KSB7XG4gICAgY29uc3QgdHlwZXMgPSB7XG4gICAgICAnc3RyaW5nJzogdGhpcy5faGFzaGVyLFxuICAgICAgJ251bWJlcic6IHRoaXMuX2hhc2hlcixcbiAgICAgICdib29sZWFuJzogdGhpcy5faGFzaGVyLFxuICAgICAgJ29iamVjdCc6IHRoaXMub2JqZWN0LFxuICAgIH07XG4gICAgY29uc3QgdHlwZSA9IHR5cGVvZiBpbnB1dDtcblxuICAgIHJldHVybiBpbnB1dCAhPT0gbnVsbCAmJiB0eXBlc1t0eXBlXSA/IHR5cGVzW3R5cGVdKHRoaXMsIGlucHV0KSArIHRoaXMuX2hhc2hlcih0eXBlKSA6IDA7XG4gIH1cblxuICBjb21wYXJlSGFzaGVzKGl0ZW1BLCBpdGVtQikge1xuICAgIHJldHVybiB0aGlzLmhhc2goaXRlbUEpID09PSB0aGlzLmhhc2goaXRlbUIpO1xuICB9XG5cbiAgLy8gZmFzdGVyIHRoYW4gY29tcGFyZUhhc2hlc1xuICBjb21wYXJlKGl0ZW1BLCBpdGVtQikge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShpdGVtQSkgPT09IEpTT04uc3RyaW5naWZ5KGl0ZW1CKTtcbiAgfVxufVxuIiwiaW1wb3J0IExpYWlzb24gZnJvbSAnLi9MaWFpc29uJztcbmltcG9ydCBCaW5kaW5nIGZyb20gJy4vQmluZGluZyc7XG5pbXBvcnQgVXNlck1vZGVsIGZyb20gJy4vVXNlck1vZGVsJztcbmltcG9ydCBWaWV3TW9kZWwgZnJvbSAnLi9WaWV3TW9kZWwnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFeGFtcGxlIHtcbiAgY29uc3RydWN0b3IoZGF0YSkge1xuICAgIHRoaXMuYmluZCA9IG5ldyBMaWFpc29uKGRhdGEpO1xuICAgIGNvbnNvbGUubG9nKHRoaXMuYmluZCk7XG4gICAgdGhpcy5iaW5kaW5nID0gbmV3IEJpbmRpbmcodGhpcy5iaW5kKTtcbiAgICB0aGlzLmV4YW1wbGVCaW5kaW5nKCk7XG4gICAgdGhpcy5leGFtcGxlUm91dGVyKCk7XG4gIH1cblxuICBleGFtcGxlQmluZGluZygpIHtcbiAgICAvLyBoZXJlIHlvdSBoYXZlIGFjY2VzcyB0byB0aGlzLmJpbmQudXNlciBhbmQgdGhpcy5iaW5kLnByb2dyYW1taW5nX2xhbmd1YWdlc1xuICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuYmluZC51c2VyKTtcbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmJpbmQucHJvZ3JhbW1pbmdfbGFuZ3VhZ2VzKTtcblxuICAgIC8vIG1vZGVsIGV4YW1wbGVzXG4gICAgY29uc3QgdXNlciA9IG5ldyBVc2VyTW9kZWwoKTtcbiAgICB1c2VyLnNldCgnYWdlJywgJzg3NzcnKTsgLy8gc2hvdWxkIGZhaWxcbiAgICB1c2VyLnNldCgnbmFtZScsICdteSBmaXJzdCBuYW1lIG9uIHVzZXIgbW9kZWwnKTsgLy8gc2hvdWxkIHBhc3NcbiAgICB1c2VyLnNldCgnYWdlJywge1xuICAgICAgYWdlOiAzMyxcbiAgICB9KTsgLy8gc2hvdWxkIGZhaWxcbiAgICB1c2VyLnNldCgnYWdlJywgOTk5KTsgLy8gc2hvdWxkIHBhc3NcbiAgICB1c2VyLnNldCgnYWRkcmVzcycsICdteSBhZGRyZXNzJyk7IC8vIHNob3VsZCBwYXNzXG5cbiAgICAvLyBzZXRzIGRhdGEgYmluZGluZ1xuICAgIC8vIHRoaXMuYmluZC51c2VyLm5hbWUgPSB1c2VyLmdldCgnbmFtZScpXG4gICAgdXNlci5zZXQoJ2FkZHJlc3MnLCB1c2VyLnVwQ2FzZSgnbXkgc2Vjb25kIGFkZHJlc3MnKSk7IC8vIHNob3VsZCBwYXNzIGFuZCBwb3N0Zml4IFwiIVwiIHRvIHRoZSBhZGRyZXNzXG5cbiAgICB1c2VyLnNhdmUoKS50aGVuKCgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCd0aGVuJyk7XG4gICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygncmVxdWVzdCBmYWlsZWQnLCBlcnJvcik7XG4gICAgfSk7XG4gICAgdXNlci51cGRhdGUoKTtcbiAgICB1c2VyLmZldGNoKCkudGhlbigoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygndGhlbicpO1xuICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ3JlcXVlc3QgZmFpbGVkJywgZXJyb3IpO1xuICAgIH0pO1xuICAgIHVzZXIuZGVzdHJveSgpLnRoZW4oKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ3RoZW4nKTtcbiAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdyZXF1ZXN0IGZhaWxlZCcsIGVycm9yKTtcbiAgICB9KTtcblxuICAgIC8vIHNlY29uZCBtb2RlbFxuICAgIGNvbnN0IHZpZXdtb2RlbCA9IG5ldyBWaWV3TW9kZWwoKTtcbiAgICAvLyBzaG91bGQgcGFzc1xuICAgIHZpZXdtb2RlbC5zZXQoJ3NpbmdsZScsICd1cGRhdGVkIHZpYSB2aWV3bW9kZWwgbW9kZWwgc2V0IGZ1bmN0aW9uJyk7XG4gICAgLy8gc2hvdWxkIHBhc3NcbiAgICB2aWV3bW9kZWwuc2V0KCd1c2VyLm5hbWUnLCAnbXkgc2Vjb25kIGV4YW1wbGUgbmFtZScpO1xuICAgIC8vIHNob3VsZCBmYWlsXG4gICAgdmlld21vZGVsLnNldCgndXNlci5hZ2UnLCB7XG4gICAgICBhZ2U6IDIyLFxuICAgIH0pO1xuICAgIC8vIHNob3VsZCBmYWlsXG4gICAgdmlld21vZGVsLnNldCgndXNlci5hZ2UnLCA0NDQpO1xuICAgIC8vIHNob3VsZCBmYWlsXG4gICAgdmlld21vZGVsLnNldCgndXNlci5hZGRyZXNzJywgNzc4NzgpO1xuICAgIC8vIHNob3VsZCBwYXNzXG4gICAgdmlld21vZGVsLnNldCgndXNlci5hZGRyZXNzJywgJ215IHNlY29uZCBhZGRyZXNzJyk7XG5cbiAgICAvLyBzZXRzIGRhdGEgYmluZGluZ1xuICAgIC8vIHRoaXMuYmluZCA9IHZpZXdtb2RlbC5nZXQoKVxuICAgIC8vIHRoaXMuYmluZC51c2VyID0gdXNlci5nZXQoKVxuICAgIHRoaXMuYmluZGluZy5yZWZyZXNoKHRoaXMuYmluZCk7XG4gIH1cblxuICBleGFtcGxlUm91dGVyKCkge1xuICAgIC8vIGNoYW5nZSBzdGF0ZSB0byAvbGlzdFxuICAgIC8vIHJvdXRlci5nbygnaG9kb3IvMTInLCB7bXlkYXRhOjEyMzQ1NTYsIG15b2JqOntuYW1lOidzaGVybG9jayd9fSk7XG4gICAgLy8gc2V0VGltZW91dCgoKT0+IHdpbmRvdy5yb3V0ZXIuZ28oJ2xpc3QnKSwyMDAwKVxuICB9XG59XG4iLCJpbXBvcnQgTGlhaXNvbiBmcm9tICcuL0xpYWlzb24nO1xuaW1wb3J0IEJpbmRpbmcgZnJvbSAnLi9CaW5kaW5nJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXhhbXBsZTIge1xuICBjb25zdHJ1Y3RvcihkYXRhKSB7XG4gICAgdGhpcy5iaW5kID0gbmV3IExpYWlzb24oZGF0YSk7XG4gICAgdGhpcy5iaW5kaW5nID0gbmV3IEJpbmRpbmcodGhpcy5iaW5kKTtcbiAgICAgIC8vIHRoaXMuYW5vdGhlckZ1bmN0aW9uKClcbiAgfVxuXG4gIGFub3RoZXJGdW5jdGlvbigpIHtcbiAgICAvLyBoZXJlIHlvdSBoYXZlIGFjY2VzcyB0byB0aGlzLmRhdGEudXNlciBhbmQgdGhpcy5kYXRhLnByb2dyYW1taW5nX2xhbmd1YWdlc1xuICAgIGNvbnNvbGUubG9nKHRoaXMuYmluZC5zdHJpbmcpO1xuICB9XG59XG4iLCIvLyBwdXRzIHJvdXRlcyBvbiB0aGUgcm91dGVyIGNsYXNzXG5cbmltcG9ydCBSb3V0ZXIgZnJvbSAnLi9Sb3V0ZXInO1xuLy8gVE9ETzogbm90IGF0dGFjaCB0aGlzIHRvIHRoZSBnbG9iYWwgbmFtZXNwYWNlXG53aW5kb3cucm91dGVyID0gd2luZG93LnJvdXRlciB8fCBuZXcgUm91dGVyKCk7XG53aW5kb3cucm91dGVyLnN0YXRlKHtcbiAgbmFtZTogJy91c2VycycsXG4gIHRlbXBsYXRlVXJsOiAndGVtcGxhdGVzL3VzZXJpbmRleC5odG1sJyxcbn0pLnN0YXRlKHtcbiAgbmFtZTogJy91c2VyLzppZCcsXG4gIHRlbXBsYXRlVXJsOiAndGVtcGxhdGVzL3VzZXIuaHRtbCcsXG59KS5zdGF0ZSh7XG4gIG5hbWU6ICcvdXNlci86aWQvZGV0YWlscycsXG4gIHRlbXBsYXRlVXJsOiAndGVtcGxhdGVzL3VzZXJkZXRhaWxzLmh0bWwnLFxufSkuc3RhdGUoe1xuICBuYW1lOiAnL3VzZXIvOmlkLzpzdWJpZCcsXG4gIHRlbXBsYXRlVXJsOiAndGVtcGxhdGVzL3VzZXJzdWIuaHRtbCcsXG59KS5zdGF0ZSh7XG4gIG5hbWU6ICcvbGlzdCcsXG4gIHRlbXBsYXRlVXJsOiAndGVtcGxhdGVzL2xpc3QuaHRtbCcsXG59KS5zdGF0ZSh7XG4gIG5hbWU6ICcvJyxcbiAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZXMvbGlzdC5odG1sJyxcbn0pLmZhbGxiYWNrKHtcbiAgbmFtZTogJy80MDQnLFxuICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlcy80MDQuaHRtbCcsXG59KTtcbiIsImltcG9ydCBCYXNlTW9kZWwgZnJvbSAnLi9CYXNlTW9kZWwnO1xuXG5leHBvcnQgY2xhc3MgVXNlck1vZGVsIGV4dGVuZHMgQmFzZU1vZGVsIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3VzZXInLCB7XG4gICAgICBpZDoge1xuICAgICAgICB2YWx1ZTogNzg5Nzg3LFxuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgIH0sXG4gICAgICBuYW1lOiB7XG4gICAgICAgIHZhbHVlOiAnbmFtZScsXG4gICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgfSxcbiAgICAgIGFkZHJlc3M6IHtcbiAgICAgICAgdmFsdWU6ICcyMjFiIGJha2UnLFxuICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgIH0sXG4gICAgICBhZ2U6IHtcbiAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8vIGV4YW1wbGUgbW9kZWwgaGVscGVyXG4gIHVwQ2FzZShzdHIpIHtcbiAgICByZXR1cm4gc3RyLnRvVXBwZXJDYXNlKCk7XG4gIH1cbn1cbiIsImltcG9ydCBCYXNlTW9kZWwgZnJvbSAnLi9CYXNlTW9kZWwnO1xuXG5leHBvcnQgY2xhc3MgVmlld01vZGVsIGV4dGVuZHMgQmFzZU1vZGVsIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3ZpZXcnLCB7XG4gICAgICBzaW5nbGU6IHtcbiAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgIHZhbHVlOiAnZnJvbSBzY2hlbWEnLFxuICAgICAgfSxcbiAgICAgIHVzZXI6IHtcbiAgICAgICAgdHlwZTogJ29iamVjdCcsXG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgaWQ6IHtcbiAgICAgICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICAgICAgdmFsdWU6IDg4ODg4LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgbmFtZToge1xuICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgICAgICB2YWx1ZTogJ1NoZXJsb2NrIEhvbG1lcycsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBhZGRyZXNzOiB7XG4gICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgIHZhbHVlOiAnMjIxYiBCYWtlciBTdHJlZXQnLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcHJvZ3JhbW1pbmdMYW5ndWFnZXM6IHtcbiAgICAgICAgdHlwZTogJ2FycmF5JyxcbiAgICAgICAgdmFsdWU6IFsnamF2YXNjcmlwdCcsICdydWJ5J10sXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
