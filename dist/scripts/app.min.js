"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function load_component(e,t){new window[e](t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),BaseModel=function(){function e(t,n){_classCallCheck(this,e),this.modelName=t,this.data=n}return _createClass(e,[{key:"set",value:function(e,t){var n=this.existsInSchema(this.data,e,t);if(!n)return void console.warn('Not setting "'+e+'" in '+this.modelName+' model to "'+t+'" because it doesnt exist in the schema');var r=this.checkType(this.data,e,t);return r?void this.setValue(this.data,e,t):void console.warn('Not setting "'+e+'" in '+this.modelName+' model to "'+t+'" because it it isnt the right type')}},{key:"get",value:function(e){return e?this.getValue(this.data,e):this.getData(this.data)}},{key:"existsInSchema",value:function(e,t,n){return t="string"==typeof t?t.split("."):t,t.length>1&&e[t[0]]?this.existsInSchema(e[t.shift()].value,t,n):e[t[0]]?!0:!1}},{key:"checkType",value:function(e,t,n){return t="string"==typeof t?t.split("."):t,t.length>1&&e[t[0]]?this.checkType(e[t.shift()].value,t,n):e[t[0]].type===typeof n}},{key:"getData",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];for(var n in e)"object"===e[n].type?(t[n]={},this.getData(e[n].value,t[n])):t[n]=e[n].value;return t}},{key:"setValue",value:function(e,t,n){t="string"==typeof t?t.split("."):t,t.length>1&&e[t[0]].value?this.setValue(e[t.shift()].value,t,n):e[t[0]].value&&(e[t[0]].value=n)}},{key:"getValue",value:function(e,t){return t="string"==typeof t?t.split("."):t,t.length>1&&e[t[0]]?this.getValue(e[t.shift()].value,t):e[t[0]].value||""}},{key:"checkStatus",value:function(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t}},{key:"parseJSON",value:function(e){return e.json()}},{key:"save",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.get("id"):arguments[0],t=this.endpointPrefix+"/"+this.modelName+"/"+e,n={};return n[this.modelName]=this.get(),console.log("make post xhr call to "+t,n),fetch(t,{method:"post",body:JSON.stringify(n)}).then(this.checkStatus).then(this.parseJSON)}},{key:"fetch",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=arguments.length<=0||void 0===arguments[0]?this.get("id"):arguments[0],t=this.endpointPrefix+"/"+this.modelName+"/"+e;return console.log("make get xhr call to "+t),fetch(t,{method:"get"}).then(this.checkStatus).then(this.parseJSON)})},{key:"update",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.get("id"):arguments[0],t=this.endpointPrefix+"/"+this.modelName+"/"+e,n={};n[this.modelName]=this.get(),console.log("make update xhr call to "+t,n)}},{key:"destroy",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.get("id"):arguments[0],t=this.endpointPrefix+"/"+this.modelName+"/"+e;return console.log("make delete xhr call to "+t),fetch(t,{method:"delete"}).then(this.checkStatus).then(this.parseJSON)}},{key:"endpointPrefix",set:function(e){this._endpointPrefix=e},get:function(){return this._endpointPrefix||"api/vi"}}]),e}(),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();NodeList.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator];var Binding=function(){function e(t){var n=this;_classCallCheck(this,e),this.data=t,this.findBindable(),this.utils=new Utils;var r=r||{};setInterval(function(){n.utils.compareByConvert(r,n.data)===!1&&(r=JSON.parse(JSON.stringify(n.data)),n.populateBindings())},10)}return _createClass(e,[{key:"populateBindings",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,a=document.querySelectorAll("[liaison-bind]")[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){var i=r.value,o=document.activeElement.getAttribute("liaison-bind");i===document.activeElement||i.getAttribute("liaison-bind")!==o&&null!==o||this.setElementContent(i,this.getValue(this.data,i.getAttribute("liaison-bind")))}}catch(s){t=!0,n=s}finally{try{!e&&a["return"]&&a["return"]()}finally{if(t)throw n}}}},{key:"findBindable",value:function(){var e=this,t=!0,n=!1,r=void 0;try{for(var a,i=function(){var t=a.value;t.addEventListener("keydown",function(n){setTimeout(function(){return e.setValue(e.data,t.getAttribute("liaison-bind"),n.srcElement.value)})})},o=document.querySelectorAll("[liaison-bind]")[Symbol.iterator]();!(t=(a=o.next()).done);t=!0)i()}catch(s){n=!0,r=s}finally{try{!t&&o["return"]&&o["return"]()}finally{if(n)throw r}}}},{key:"setElementContent",value:function(e,t){void 0!==t&&(e.innerHTML=t,e.value=t)}},{key:"setValue",value:function(e,t,n){"string"==typeof t&&(t=t.split(".")),t.length>1&&e[t[0]]?this.setValue(e[t.shift()],t,n):"string"==typeof e[t[0]]&&(e[t[0]]=n)}},{key:"getValue",value:function(e,t){return"string"==typeof t&&(t=t.split(".")),t.length>1&&e[t[0]]?this.getValue(e[t.shift()],t):e[t[0]]}},{key:"refresh",value:function(e){this.data=e,this.populateBindings()}}]),e}(),Liaison=function e(t){_classCallCheck(this,e);var n=void 0;for(n in t)this[n]=t[n]},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Router=function(){function e(){var t=this;_classCallCheck(this,e),this.view=document.querySelector("[liaison-view]"),this.paths=[],this.wildcards=[],setTimeout(function(){return t.go(window.location.hash.substring(1))},0),window.addEventListener("popstate",function(e){return t.go(e.state||window.location.hash.substring(1),!1)})}return _createClass(e,[{key:"state",value:function(e){return e.name.indexOf(":")>0?this.wildcards.push(e):this.paths.push(e),this}},{key:"fallback",value:function(e){this.paths.push(e),this._fallback=e}},{key:"go",value:function(e){var t=this;console.log("going to state "+e);var n=this.findRouteInPaths(e);return n?void fetch(n.templateUrl).then(function(e){return e.text()}).then(function(e){t.view.innerHTML=e}):(this.go(this._fallback.name),!1)}},{key:"findRouteInPaths",value:function(e){var t=!0,n=!1,r=void 0;try{for(var a,i=this.paths[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;if(o.name===e)return o}}catch(s){n=!0,r=s}finally{try{!t&&i["return"]&&i["return"]()}finally{if(n)throw r}}console.log("not found natural path. searching wildcards"),e=e.substring(1).split("/");var l=!0,u=!1,c=void 0;try{for(var h,f=this.wildcards[Symbol.iterator]();!(l=(h=f.next()).done);l=!0){var d=h.value,v=d.name.substring(1).split("/");if(v.length===e.length)for(var p=0,g=v.length;g>p;p++)if(0===v[p].indexOf(":")){var y=v;if(y[p]=e[p],this.isIdentical(y,e))return d}}}catch(s){u=!0,c=s}finally{try{!l&&f["return"]&&f["return"]()}finally{if(u)throw c}}return console.log("going to fallback"),!1}},{key:"isIdentical",value:function(e,t){var n=e.length;if(n!=t.length)return!1;for(;n--;)if(e[n]!==t[n])return!1;return!0}}]),e}(),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Utils=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"hasher",value:function(e){var t=0,n=void 0,r=void 0,a=e.toString();for(n=0,r=a.length;r>n;n++)t=(t<<5)-t+a.charCodeAt(n)&4294967295;return t}},{key:"object",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];for(var r in t){if("object"==typeof t[r])return this.object(e,t[r],n);hasOwnProperty.call(t,r)&&(n+=e.hasher(r+e.hasher(t[r])))}return n}},{key:"hash",value:function(e){var t={string:this.hasher,number:this.hasher,"boolean":this.hasher,object:this.object},n=typeof e;return null!=e&&t[n]?t[n](this,e)+this.hasher(n):0}},{key:"compare",value:function(e,t){return this.hash(e)===this.hash(t)}},{key:"compareByConvert",value:function(e,t){return JSON.stringify(e)===JSON.stringify(t)}}]),e}(),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Example=function(){function e(t){_classCallCheck(this,e),this.bind=new Liaison(t),console.log(this.bind),this.binding=new Binding(this.bind),this.exampleBinding(),this.exampleRouter()}return _createClass(e,[{key:"exampleBinding",value:function(){var e=new UserModel;e.set("age","8777"),e.set("name","my first name on user model"),e.set("age",{age:33}),e.set("age",999),e.set("address","my address"),e.set("address",e.upCase("my second address")),e.save().then(function(){console.log("then")})["catch"](function(e){console.log("request failed",e)}),e.update(),e.fetch().then(function(){console.log("then")})["catch"](function(e){console.log("request failed",e)}),e.destroy().then(function(){console.log("then")})["catch"](function(e){console.log("request failed",e)});var t=new ViewModel;t.set("single","updated via viewmodel model set function"),t.set("user.name","my second example name"),t.set("user.age",{age:22}),t.set("user.age",444),t.set("user.address",77878),t.set("user.address","my second address"),this.binding.refresh(this.bind)}},{key:"exampleRouter",value:function(){}}]),e}(),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Example2=function(){function e(t){_classCallCheck(this,e),this.bind=new Liaison(t),new Binding(this.bind)}return _createClass(e,[{key:"anotherFunction",value:function(){console.log(this.bind.string)}}]),e}();window.router=window.router||new Router,router.state({name:"/users",templateUrl:"templates/userindex.html"}).state({name:"/user/:id",templateUrl:"templates/user.html"}).state({name:"/user/:id/details",templateUrl:"templates/userdetails.html"}).state({name:"/user/:id/:subid",templateUrl:"templates/usersub.html"}).state({name:"/list",templateUrl:"templates/list.html"}).state({name:"/",templateUrl:"templates/list.html"}).fallback({name:"/404",templateUrl:"templates/404.html"});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;s=u=l=void 0,r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(o)}var u=Object.getPrototypeOf(a);if(null===u)return void 0;e=u,t=i,n=o,r=!0}},UserModel=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"user",{id:{value:789787,type:"number"},name:{value:"name",type:"string"},address:{value:"221b bake",type:"string"},age:{value:null,type:"number"}})}return _inherits(t,e),_createClass(t,[{key:"upCase",value:function(e){return e.toUpperCase()}}]),t}(BaseModel),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;s=u=l=void 0,r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(o)}var u=Object.getPrototypeOf(a);if(null===u)return void 0;e=u,t=i,n=o,r=!0}},ViewModel=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"view",{single:{type:"string",value:"from schema"},user:{type:"object",value:{id:{type:"number",value:88888},name:{type:"string",value:"Sherlock Holmes"},address:{type:"string",value:"221b Baker Street"}}},programming_languages:{type:"array",value:["javascript","ruby"]}})}return _inherits(t,e),t}(BaseModel);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5taW4uanMiLCJMaWFpc29uLmpzIiwiQmFzZU1vZGVsLmpzIiwiQmluZGluZy5qcyIsIlJvdXRlci5qcyIsIlV0aWxzLmpzIiwic2NyaXB0cy9FeGFtcGxlLmpzIiwic2NyaXB0cy9FeGFtcGxlMi5qcyIsInNjcmlwdHMvUm91dGVzLmpzIiwic2NyaXB0cy9Vc2VyTW9kZWwuanMiLCJzY3JpcHRzL1ZpZXdNb2RlbC5qcyJdLCJuYW1lcyI6WyJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwibG9hZF9jb21wb25lbnQiLCJtb2R1bGUiLCJkYXRhIiwid2luZG93IiwiX2luaGVyaXRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJ2YWx1ZSIsImVudW1lcmFibGUiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiaSIsImxlbmd0aCIsImRlc2NyaXB0b3IiLCJkZWZpbmVQcm9wZXJ0eSIsImtleSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIkJhc2VNb2RlbCIsIm1vZGVsTmFtZSIsInNjaGVtYSIsInRoaXMiLCJleGlzdHNJblNjaGVtYSIsImNvbnNvbGUiLCJ3YXJuIiwidHlwZU1hdGNoZXMiLCJjaGVja1R5cGUiLCJzZXRWYWx1ZSIsImFjY2VzcyIsImdldFZhbHVlIiwiZ2V0RGF0YSIsIm9iaiIsInNwbGl0Iiwic2hpZnQiLCJ0eXBlIiwibmV3T2JqIiwiYXJndW1lbnRzIiwidW5kZWZpbmVkIiwiZWxlbWVudCIsInJlc3BvbnNlIiwic3RhdHVzIiwiZXJyb3IiLCJFcnJvciIsInN0YXR1c1RleHQiLCJqc29uIiwiaWQiLCJnZXQiLCJ1cmwiLCJlbmRwb2ludFByZWZpeCIsInNlbmRPYmoiLCJsb2ciLCJmZXRjaCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwidGhlbiIsImNoZWNrU3RhdHVzIiwicGFyc2VKU09OIiwiX2ZldGNoIiwiYXBwbHkiLCJ0b1N0cmluZyIsInNldCIsInByZWZpeCIsIl9lbmRwb2ludFByZWZpeCIsIk5vZGVMaXN0IiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJBcnJheSIsIkJpbmRpbmciLCJfdGhpcyIsImZpbmRCaW5kYWJsZSIsInV0aWxzIiwiVXRpbHMiLCJjdXJyZW50RGF0YSIsInNldEludGVydmFsIiwiY29tcGFyZUJ5Q29udmVydCIsInBhcnNlIiwicG9wdWxhdGVCaW5kaW5ncyIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24iLCJfZGlkSXRlcmF0b3JFcnJvciIsIl9pdGVyYXRvckVycm9yIiwiX3N0ZXAiLCJfaXRlcmF0b3IiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJuZXh0IiwiZG9uZSIsImVsbSIsImJpbmROYW1lIiwiYWN0aXZlRWxlbWVudCIsImdldEF0dHJpYnV0ZSIsInNldEVsZW1lbnRDb250ZW50IiwiZXJyIiwiX3RoaXMyIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIiLCJfZGlkSXRlcmF0b3JFcnJvcjIiLCJfaXRlcmF0b3JFcnJvcjIiLCJfc3RlcDIiLCJfbG9vcCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwic2V0VGltZW91dCIsInNyY0VsZW1lbnQiLCJfaXRlcmF0b3IyIiwiaW5uZXJIVE1MIiwiTGlhaXNvbiIsImRhdHVtIiwiUm91dGVyIiwidmlldyIsInF1ZXJ5U2VsZWN0b3IiLCJwYXRocyIsIndpbGRjYXJkcyIsImdvIiwibG9jYXRpb24iLCJoYXNoIiwic3Vic3RyaW5nIiwiZXZlbnQiLCJzdGF0ZSIsIm5hbWUiLCJpbmRleE9mIiwicHVzaCIsIl9mYWxsYmFjayIsInJvdXRlIiwiZmluZFJvdXRlSW5QYXRocyIsInRlbXBsYXRlVXJsIiwidGV4dCIsInRlbXBsYXRlIiwicGF0aCIsIndpbGRjYXJkIiwiX3dpbGRjYXJkIiwibCIsInRlbXAiLCJpc0lkZW50aWNhbCIsImEiLCJiIiwidmFsIiwic3RyaW5nIiwiY2hhckNvZGVBdCIsInNlbGYiLCJyZXN1bHQiLCJwcm9wZXJ0eSIsIm9iamVjdCIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImhhc2hlciIsImlucHV0IiwidHlwZXMiLCJudW1iZXIiLCJib29sZWFuIiwiRXhhbXBsZSIsImJpbmQiLCJiaW5kaW5nIiwiZXhhbXBsZUJpbmRpbmciLCJleGFtcGxlUm91dGVyIiwidXNlciIsIlVzZXJNb2RlbCIsImFnZSIsInVwQ2FzZSIsInNhdmUiLCJ1cGRhdGUiLCJkZXN0cm95Iiwidmlld21vZGVsIiwiVmlld01vZGVsIiwicmVmcmVzaCIsIkV4YW1wbGUyIiwicm91dGVyIiwiZmFsbGJhY2siLCJfZ2V0IiwiX3giLCJfeDIiLCJfeDMiLCJfYWdhaW4iLCJyZWNlaXZlciIsImRlc2MiLCJwYXJlbnQiLCJnZXR0ZXIiLCJGdW5jdGlvbiIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImdldFByb3RvdHlwZU9mIiwiX0Jhc2VNb2RlbCIsImFkZHJlc3MiLCJzdHIiLCJ0b1VwcGVyQ2FzZSIsInNpbmdsZSIsInByb2dyYW1taW5nX2xhbmd1YWdlcyJdLCJtYXBwaW5ncyI6IkFBQ0EsWUFJQSxTQUFTQSxpQkFBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSUMsV0FBVSxxQ0FnTWhILFFBQVNILGlCQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQThJaEgsUUFBU0gsaUJBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUlDLFdBQVUscUNDM1VqRyxRQUFTQyxnQkFBZUMsRUFBUUMsR0FDN0MsR0FBSUMsUUFBT0YsR0FBUUMsR0Q0VnJCLFFBQVNOLGlCQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQWdLaEgsUUFBU0gsaUJBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUlDLFdBQVUscUNBbUVoSCxRQUFTSCxpQkFBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSUMsV0FBVSxxQ0FrRmhILFFBQVNILGlCQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQXVEaEgsUUFBU0gsaUJBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUlDLFdBQVUscUNBRWhILFFBQVNLLFdBQVVDLEVBQVVDLEdBQWMsR0FBMEIsa0JBQWZBLElBQTRDLE9BQWZBLEVBQXVCLEtBQU0sSUFBSVAsV0FBVSxpRUFBb0VPLEdBQWVELEdBQVNFLFVBQVlDLE9BQU9DLE9BQU9ILEdBQWNBLEVBQVdDLFdBQWFHLGFBQWVDLE1BQU9OLEVBQVVPLFlBQVksRUFBT0MsVUFBVSxFQUFNQyxjQUFjLEtBQWVSLElBQVlFLE9BQU9PLGVBQWlCUCxPQUFPTyxlQUFlVixFQUFVQyxHQUFjRCxFQUFTVyxVQUFZVixHQTJDamUsUUFBU1YsaUJBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUlDLFdBQVUscUNBRWhILFFBQVNLLFdBQVVDLEVBQVVDLEdBQWMsR0FBMEIsa0JBQWZBLElBQTRDLE9BQWZBLEVBQXVCLEtBQU0sSUFBSVAsV0FBVSxpRUFBb0VPLEdBQWVELEdBQVNFLFVBQVlDLE9BQU9DLE9BQU9ILEdBQWNBLEVBQVdDLFdBQWFHLGFBQWVDLE1BQU9OLEVBQVVPLFlBQVksRUFBT0MsVUFBVSxFQUFNQyxjQUFjLEtBQWVSLElBQVlFLE9BQU9PLGVBQWlCUCxPQUFPTyxlQUFlVixFQUFVQyxHQUFjRCxFQUFTVyxVQUFZVixHQTd2QmplLEdBQUlXLGNBQWUsV0FBZSxRQUFTQyxHQUFpQkMsRUFBUUMsR0FBUyxJQUFLLEdBQUlDLEdBQUksRUFBR0EsRUFBSUQsRUFBTUUsT0FBUUQsSUFBSyxDQUFFLEdBQUlFLEdBQWFILEVBQU1DLEVBQUlFLEdBQVdYLFdBQWFXLEVBQVdYLGFBQWMsRUFBT1csRUFBV1QsY0FBZSxFQUFVLFNBQVdTLEtBQVlBLEVBQVdWLFVBQVcsR0FBTUwsT0FBT2dCLGVBQWVMLEVBQVFJLEVBQVdFLElBQUtGLElBQWlCLE1BQU8sVUFBVXpCLEVBQWE0QixFQUFZQyxHQUFpSixNQUE5SEQsSUFBWVIsRUFBaUJwQixFQUFZUyxVQUFXbUIsR0FBaUJDLEdBQWFULEVBQWlCcEIsRUFBYTZCLEdBQXFCN0IsTUVGNWdCOEIsVUFBUyxXQUNqQixRQURRQSxHQUNQQyxFQUFXQyxHRk9yQmxDLGdCQUFnQm1DLEtFUkNILEdBRWpCRyxLQUFLRixVQUFZQSxFQUNqQkUsS0FBSzdCLEtBQU80QixFRjBMZCxNQS9LQWIsY0VkbUJXLElGZWpCSCxJQUFLLE1BQ0xkLE1FVkMsU0FBQ2MsRUFBS2QsR0FDUCxHQUFJcUIsR0FBaUJELEtBQUtDLGVBQWVELEtBQUs3QixLQUFNdUIsRUFBS2QsRUFDekQsS0FBS3FCLEVBRUgsV0FEQUMsU0FBUUMsS0FBSSxnQkFBaUJULEVBQUcsUUFBUU0sS0FBS0YsVUFBUyxjQUFjbEIsRUFBSywwQ0FHM0UsSUFBSXdCLEdBQWNKLEtBQUtLLFVBQVVMLEtBQUs3QixLQUFNdUIsRUFBS2QsRUFDakQsT0FBS3dCLE9BSUxKLE1BQUtNLFNBQVNOLEtBQUs3QixLQUFNdUIsRUFBS2QsT0FINUJzQixTQUFRQyxLQUFJLGdCQUFpQlQsRUFBRyxRQUFRTSxLQUFLRixVQUFTLGNBQWNsQixFQUFLLDBDRmdCM0VjLElBQUssTUFDTGQsTUVYQyxTQUFDMkIsR0FDRixNQUFJQSxHQUNLUCxLQUFLUSxTQUFTUixLQUFLN0IsS0FBTW9DLEdBRXpCUCxLQUFLUyxRQUFRVCxLQUFLN0IsU0ZlM0J1QixJQUFLLGlCQUNMZCxNRVpZLFNBQUM4QixFQUFLSCxFQUFRM0IsR0FFMUIsTUFEQTJCLEdBQTRCLGdCQUFYQSxHQUF1QkEsRUFBT0ksTUFBTSxLQUFPSixFQUN4REEsRUFBT2hCLE9BQVMsR0FBS21CLEVBQUlILEVBQU8sSUFDM0JQLEtBQUtDLGVBQWVTLEVBQUlILEVBQU9LLFNBQVNoQyxNQUFPMkIsRUFBUTNCLEdBRXZEOEIsRUFBSUgsRUFBTyxLQUFNLEdBQU8sS0ZnQmpDYixJQUFLLFlBQ0xkLE1FYk8sU0FBQzhCLEVBQUtILEVBQVEzQixHQUVyQixNQURBMkIsR0FBNEIsZ0JBQVhBLEdBQXVCQSxFQUFPSSxNQUFNLEtBQU9KLEVBQ3hEQSxFQUFPaEIsT0FBUyxHQUFLbUIsRUFBSUgsRUFBTyxJQUMzQlAsS0FBS0ssVUFBVUssRUFBSUgsRUFBT0ssU0FBU2hDLE1BQU8yQixFQUFRM0IsR0FFbEQ4QixFQUFJSCxFQUFPLElBQUlNLGFBQWdCakMsTUZpQnhDYyxJQUFLLFVBQ0xkLE1FZEssU0FBQzhCLEdGZUosR0VmU0ksR0FBTUMsVUFBQXhCLFFBQUEsR0FBQXlCLFNBQUFELFVBQUEsTUFBS0EsVUFBQSxFQUN0QixLQUFLLEdBQUlFLEtBQVdQLEdBQ1EsV0FBdEJBLEVBQUlPLEdBQVNKLE1BQ2ZDLEVBQU9HLE1BQ1BqQixLQUFLUyxRQUFRQyxFQUFJTyxHQUFTckMsTUFBT2tDLEVBQU9HLEtBRXhDSCxFQUFPRyxHQUFXUCxFQUFJTyxHQUFTckMsS0FHbkMsT0FBT2tDLE1GbUJQcEIsSUFBSyxXQUNMZCxNRWpCTSxTQUFDOEIsRUFBS0gsRUFBUTNCLEdBQ3BCMkIsRUFBNEIsZ0JBQVhBLEdBQXVCQSxFQUFPSSxNQUFNLEtBQU9KLEVBQ3hEQSxFQUFPaEIsT0FBUyxHQUFLbUIsRUFBSUgsRUFBTyxJQUFJM0IsTUFDdENvQixLQUFLTSxTQUFTSSxFQUFJSCxFQUFPSyxTQUFTaEMsTUFBTzJCLEVBQVEzQixHQUN4QzhCLEVBQUlILEVBQU8sSUFBSTNCLFFBQ3hCOEIsRUFBSUgsRUFBTyxJQUFJM0IsTUFBUUEsTUZxQnpCYyxJQUFLLFdBQ0xkLE1FbEJNLFNBQUM4QixFQUFLSCxHQUVaLE1BREFBLEdBQTRCLGdCQUFYQSxHQUF1QkEsRUFBT0ksTUFBTSxLQUFPSixFQUN4REEsRUFBT2hCLE9BQVMsR0FBS21CLEVBQUlILEVBQU8sSUFDM0JQLEtBQUtRLFNBQVNFLEVBQUlILEVBQU9LLFNBQVNoQyxNQUFPMkIsR0FFekNHLEVBQUlILEVBQU8sSUFBSTNCLE9BQVMsTUZzQmpDYyxJQUFLLGNBR0xkLE1FWlMsU0FBQ3NDLEdBQ1YsR0FBSUEsRUFBU0MsUUFBVSxLQUFPRCxFQUFTQyxPQUFTLElBQzlDLE1BQU9ELEVBRVAsSUFBSUUsR0FBUSxHQUFJQyxPQUFNSCxFQUFTSSxXQUUvQixNQURBRixHQUFNRixTQUFXQSxFQUNYRSxLRmdCUjFCLElBQUssWUFDTGQsTUViTyxTQUFDc0MsR0FDUixNQUFPQSxHQUFTSyxVRmtCaEI3QixJQUFLLE9BQ0xkLE1FZkUsV0ZnQkEsR0VoQkM0QyxHQUFFVCxVQUFBeEIsUUFBQSxHQUFBeUIsU0FBQUQsVUFBQSxHQUFHZixLQUFLeUIsSUFBSSxNQUFLVixVQUFBLEdBQ2xCVyxFQUFTMUIsS0FBSzJCLGVBQWMsSUFBSTNCLEtBQUtGLFVBQVMsSUFBSTBCLEVBQ2xESSxJQUlKLE9BSEFBLEdBQVE1QixLQUFLRixXQUFhRSxLQUFLeUIsTUFDL0J2QixRQUFRMkIsSUFBRyx5QkFBMEJILEVBQU9FLEdBRXJDRSxNQUFNSixHQUNUSyxPQUFRLE9BQ1JDLEtBQU1DLEtBQUtDLFVBQVVOLEtBQ3BCTyxLQUFLbkMsS0FBS29DLGFBQ1pELEtBQUtuQyxLQUFLcUMsY0ZtQmIzQyxJQUFLLFFBQ0xkLE1BQU8sU0FBVzBELEdBQ2hCLFFBQVNSLEtBQ1AsTUFBT1EsR0FBT0MsTUFBTXZDLEtBQU1lLFdBTzVCLE1BSkFlLEdBQU1VLFNBQVcsV0FDZixNQUFPRixHQUFPRSxZQUdUVixHRTFCTixXRjRCRCxHRTVCRU4sR0FBRVQsVUFBQXhCLFFBQUEsR0FBQXlCLFNBQUFELFVBQUEsR0FBR2YsS0FBS3lCLElBQUksTUFBS1YsVUFBQSxHQUNuQlcsRUFBUzFCLEtBQUsyQixlQUFjLElBQUkzQixLQUFLRixVQUFTLElBQUkwQixDQUd0RCxPQUZBdEIsU0FBUTJCLElBQUcsd0JBQXlCSCxHQUU3QkksTUFBTUosR0FDVEssT0FBUSxRQUNQSSxLQUFLbkMsS0FBS29DLGFBQ1pELEtBQUtuQyxLQUFLcUMsZUYrQmIzQyxJQUFLLFNBQ0xkLE1FN0JJLFdGOEJGLEdFOUJHNEMsR0FBRVQsVUFBQXhCLFFBQUEsR0FBQXlCLFNBQUFELFVBQUEsR0FBR2YsS0FBS3lCLElBQUksTUFBS1YsVUFBQSxHQUNwQlcsRUFBUzFCLEtBQUsyQixlQUFjLElBQUkzQixLQUFLRixVQUFTLElBQUkwQixFQUNsREksSUFDSkEsR0FBUTVCLEtBQUtGLFdBQWFFLEtBQUt5QixNQUMvQnZCLFFBQVEyQixJQUFHLDJCQUE0QkgsRUFBT0UsTUZ5QzlDbEMsSUFBSyxVQUNMZCxNRWhDSyxXRmlDSCxHRWpDSTRDLEdBQUVULFVBQUF4QixRQUFBLEdBQUF5QixTQUFBRCxVQUFBLEdBQUdmLEtBQUt5QixJQUFJLE1BQUtWLFVBQUEsR0FDckJXLEVBQVMxQixLQUFLMkIsZUFBYyxJQUFJM0IsS0FBS0YsVUFBUyxJQUFJMEIsQ0FHdEQsT0FGQXRCLFNBQVEyQixJQUFHLDJCQUE0QkgsR0FFaENJLE1BQU1KLEdBQ1RLLE9BQVEsV0FDUEksS0FBS25DLEtBQUtvQyxhQUNaRCxLQUFLbkMsS0FBS3FDLGNGb0NiM0MsSUFBSyxpQkFDTCtDLElFekdnQixTQUFDQyxHQUNqQjFDLEtBQUsyQyxnQkFBa0JELEdGMkd2QmpCLElFeEdnQixXQUNoQixNQUFPekIsTUFBSzJDLGlCQUFtQixhQWpGZDlDLEtGa01qQlgsYUFBZSxXQUFlLFFBQVNDLEdBQWlCQyxFQUFRQyxHQUFTLElBQUssR0FBSUMsR0FBSSxFQUFHQSxFQUFJRCxFQUFNRSxPQUFRRCxJQUFLLENBQUUsR0FBSUUsR0FBYUgsRUFBTUMsRUFBSUUsR0FBV1gsV0FBYVcsRUFBV1gsYUFBYyxFQUFPVyxFQUFXVCxjQUFlLEVBQVUsU0FBV1MsS0FBWUEsRUFBV1YsVUFBVyxHQUFNTCxPQUFPZ0IsZUFBZUwsRUFBUUksRUFBV0UsSUFBS0YsSUFBaUIsTUFBTyxVQUFVekIsRUFBYTRCLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZUixFQUFpQnBCLEVBQVlTLFVBQVdtQixHQUFpQkMsR0FBYVQsRUFBaUJwQixFQUFhNkIsR0FBcUI3QixLR2xNamlCNkUsVUFBU3BFLFVBQVVxRSxPQUFPQyxVQUFZQyxNQUFNdkUsVUFBVXFFLE9BQU9DLFNId003RCxJR3JNcUJFLFNBQU8sV0FDZixRQURRQSxHQUNQN0UsR0hzTVYsR0FBSThFLEdBQVFqRCxJQUVabkMsaUJBQWdCbUMsS0d6TUNnRCxHQUVqQmhELEtBQUs3QixLQUFPQSxFQUNaNkIsS0FBS2tELGVBQ0xsRCxLQUFLbUQsTUFBUSxHQUFJQyxNQUVqQixJQUFJQyxHQUFjQSxLQUdsQkMsYUFBWSxXQUNOTCxFQUFLRSxNQUFNSSxpQkFBaUJGLEVBQWFKLEVBQUs5RSxTQUFVLElBQzFEa0YsRUFBY3BCLEtBQUt1QixNQUFNdkIsS0FBS0MsVUFBVWUsRUFBSzlFLE9BQzdDOEUsRUFBS1EscUJBRU4sSUg2VEwsTUFqSEF2RSxjRzFObUI4RCxJSDJOakJ0RCxJQUFLLG1CQUNMZCxNRzNNYyxXSDRNWixHQUFJOEUsSUFBNEIsRUFDNUJDLEdBQW9CLEVBQ3BCQyxFQUFpQjVDLE1BRXJCLEtHL01GLElBQUEsR0FBMkQ2QyxHQUEzREMsRUFBZ0JDLFNBQVNDLGlCQUFpQixrQkFBaUJuQixPQUFBQyxjQUFBWSxHQUFBRyxFQUFBQyxFQUFBRyxRQUFBQyxNQUFBUixHQUFBLEVBQUUsQ0hpTnZELEdHak5HUyxHQUFHTixFQUFBakYsTUFDTndGLEVBQVdMLFNBQVNNLGNBQWNDLGFBQWEsZUFJL0NILEtBQVFKLFNBQVNNLGVBQWtCRixFQUFJRyxhQUFhLGtCQUFvQkYsR0FBeUIsT0FBYkEsR0FDdEZwRSxLQUFLdUUsa0JBQWtCSixFQUFLbkUsS0FBS1EsU0FBU1IsS0FBSzdCLEtBQU1nRyxFQUFJRyxhQUFhLG1CSHFOdEUsTUFBT0UsR0FDUGIsR0FBb0IsRUFDcEJDLEVBQWlCWSxFQUNqQixRQUNBLEtBQ09kLEdBQTZCSSxFQUFVLFdBQzFDQSxFQUFVLFlBRVosUUFDQSxHQUFJSCxFQUNGLEtBQU1DLFFBTWRsRSxJQUFLLGVBQ0xkLE1Hak9VLFdIa09SLEdBQUk2RixHQUFTekUsS0FFVDBFLEdBQTZCLEVBQzdCQyxHQUFxQixFQUNyQkMsRUFBa0I1RCxNQUV0QixLR3ZPRixJQUFBLEdBQTJENkQsR0h3T25EQyxFQUFRLFdBQ1YsR0d6T0dYLEdBQUdVLEVBQUFqRyxLQUNWdUYsR0FBSVksaUJBQWlCLFVBQVcsU0FBQ0MsR0FFL0JDLFdBQVcsV0gyT0wsTUczT1dSLEdBQUtuRSxTQUFTbUUsRUFBS3RHLEtBQU1nRyxFQUFJRyxhQUFhLGdCQUFpQlUsRUFBRUUsV0FBV3RHLFlBSDdGdUcsRUFBZ0JwQixTQUFTQyxpQkFBaUIsa0JBQWlCbkIsT0FBQUMsY0FBQTRCLEdBQUFHLEVBQUFNLEVBQUFsQixRQUFBQyxNQUFBUSxHQUFBLEVIb1ByREksSUFFRixNQUFPTixHQUNQRyxHQUFxQixFQUNyQkMsRUFBa0JKLEVBQ2xCLFFBQ0EsS0FDT0UsR0FBOEJTLEVBQVcsV0FDNUNBLEVBQVcsWUFFYixRQUNBLEdBQUlSLEVBQ0YsS0FBTUMsUUFNZGxGLElBQUssb0JBQ0xkLE1HL1BlLFNBQUNxQyxFQUFTckMsR0FFWG9DLFNBQVZwQyxJQUNKcUMsRUFBUW1FLFVBQVl4RyxFQUNwQnFDLEVBQVFyQyxNQUFRQSxNSGtRaEJjLElBQUssV0FDTGQsTUdoUU0sU0FBQzhCLEVBQUtILEVBQVEzQixHQUNFLGdCQUFYMkIsS0FDVEEsRUFBU0EsRUFBT0ksTUFBTSxNQUVwQkosRUFBT2hCLE9BQVMsR0FBS21CLEVBQUlILEVBQU8sSUFDbENQLEtBQUtNLFNBQVNJLEVBQUlILEVBQU9LLFNBQVVMLEVBQVEzQixHQUNSLGdCQUFuQjhCLEdBQUlILEVBQU8sTUFDM0JHLEVBQUlILEVBQU8sSUFBTTNCLE1Ib1FuQmMsSUFBSyxXQUNMZCxNR2pRTSxTQUFDOEIsRUFBS0gsR0FJWixNQUhzQixnQkFBWEEsS0FDVEEsRUFBU0EsRUFBT0ksTUFBTSxNQUVwQkosRUFBT2hCLE9BQVMsR0FBS21CLEVBQUlILEVBQU8sSUFDM0JQLEtBQUtRLFNBQVNFLEVBQUlILEVBQU9LLFNBQVVMLEdBRW5DRyxFQUFJSCxFQUFPLE9IcVFwQmIsSUFBSyxVQUNMZCxNR2xRSyxTQUFDVCxHQUNONkIsS0FBSzdCLEtBQU9BLEVBQ1o2QixLQUFLeUQsdUJBckVZVCxLRkpBcUMsUUFDUixRQURRQSxHQUNQbEgsR0RxVlpOLGdCQUFnQm1DLEtDdFZHcUYsRUFFakIsSUFBSUMsR0FBS3RFLE1BQ1QsS0FBS3NFLElBQVNuSCxHQUNaNkIsS0FBS3NGLEdBQVNuSCxFQUFLbUgsSUQrVnJCcEcsYUFBZSxXQUFlLFFBQVNDLEdBQWlCQyxFQUFRQyxHQUFTLElBQUssR0FBSUMsR0FBSSxFQUFHQSxFQUFJRCxFQUFNRSxPQUFRRCxJQUFLLENBQUUsR0FBSUUsR0FBYUgsRUFBTUMsRUFBSUUsR0FBV1gsV0FBYVcsRUFBV1gsYUFBYyxFQUFPVyxFQUFXVCxjQUFlLEVBQVUsU0FBV1MsS0FBWUEsRUFBV1YsVUFBVyxHQUFNTCxPQUFPZ0IsZUFBZUwsRUFBUUksRUFBV0UsSUFBS0YsSUFBaUIsTUFBTyxVQUFVekIsRUFBYTRCLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZUixFQUFpQnBCLEVBQVlTLFVBQVdtQixHQUFpQkMsR0FBYVQsRUFBaUJwQixFQUFhNkIsR0FBcUI3QixNSW5XNWdCd0gsT0FBTSxXQUNkLFFBRFFBLEtKeVdqQixHQUFJdEMsR0FBUWpELElBRVpuQyxpQkFBZ0JtQyxLSTNXQ3VGLEdBRWpCdkYsS0FBS3dGLEtBQU96QixTQUFTMEIsY0FBYyxrQkFDbkN6RixLQUFLMEYsU0FDTDFGLEtBQUsyRixhQUVMVixXQUFXLFdKNFdULE1JNVdlaEMsR0FBSzJDLEdBQUd4SCxPQUFPeUgsU0FBU0MsS0FBS0MsVUFBVSxLQUFLLEdBRTdEM0gsT0FBTzJHLGlCQUFpQixXQUFZLFNBQUNpQixHSjhXbkMsTUk5VzZDL0MsR0FBSzJDLEdBQUdJLEVBQU1DLE9BQVM3SCxPQUFPeUgsU0FBU0MsS0FBS0MsVUFBVSxJQUFJLEtKdWYzRyxNQTVIQTdHLGNJblltQnFHLElKb1lqQjdGLElBQUssUUFDTGQsTUkxWEcsU0FBQ1QsR0FNSixNQUxJQSxHQUFLK0gsS0FBS0MsUUFBUSxLQUFPLEVBQzNCbkcsS0FBSzJGLFVBQVVTLEtBQUtqSSxHQUVwQjZCLEtBQUswRixNQUFNVSxLQUFLakksR0FFWDZCLFFKNlhQTixJQUFLLFdBQ0xkLE1JM1hNLFNBQUNULEdBQ1A2QixLQUFLMEYsTUFBTVUsS0FBS2pJLEdBQ2hCNkIsS0FBS3FHLFVBQVlsSSxLSmdZakJ1QixJQUFLLEtBQ0xkLE1JN1hBLFNBQUMwSCxHSjhYQyxHQUFJN0IsR0FBU3pFLElJN1hmRSxTQUFRMkIsSUFBRyxrQkFBbUJ5RSxFQUM5QixJQUFJNUYsR0FBTVYsS0FBS3VHLGlCQUFpQkQsRUFDaEMsT0FBSzVGLE9BSUxvQixPQUFNcEIsRUFBSThGLGFBQ1ByRSxLQUFLLFNBQUNqQixHQUNMLE1BQU9BLEdBQVN1RixTQUNmdEUsS0FBSyxTQUFDdUUsR0FDUGpDLEVBQUtlLEtBQUtKLFVBQVlzQixLQVB4QjFHLEtBQUs0RixHQUFHNUYsS0FBS3FHLFVBQVVILE9BQ2hCLE1KMllUeEcsSUFBSyxtQkFDTGQsTUloWWMsU0FBQzBILEdKaVliLEdBQUk1QyxJQUE0QixFQUM1QkMsR0FBb0IsRUFDcEJDLEVBQWlCNUMsTUFFckIsS0lwWUYsSUFBQSxHQUEyQjZDLEdBQTNCQyxFQUFpQjlELEtBQUswRixNQUFLN0MsT0FBQUMsY0FBQVksR0FBQUcsRUFBQUMsRUFBQUcsUUFBQUMsTUFBQVIsR0FBQSxFQUFFLENKc1l2QixHSXRZR2lELEdBQUk5QyxFQUFBakYsS0FDWCxJQUFJK0gsRUFBS1QsT0FBU0ksRUFBTyxNQUFPSyxJSnlZOUIsTUFBT25DLEdBQ1BiLEdBQW9CLEVBQ3BCQyxFQUFpQlksRUFDakIsUUFDQSxLQUNPZCxHQUE2QkksRUFBVSxXQUMxQ0EsRUFBVSxZQUVaLFFBQ0EsR0FBSUgsRUFDRixLQUFNQyxJSWpaZDFELFFBQVEyQixJQUFJLCtDQUVaeUUsRUFBUUEsRUFBTVAsVUFBVSxHQUFHcEYsTUFBTSxJSnVaL0IsSUFBSStELElBQTZCLEVBQzdCQyxHQUFxQixFQUNyQkMsRUFBa0I1RCxNQUV0QixLSTFaRixJQUFBLEdBQW1DNkQsR0FBbkNNLEVBQXFCbkYsS0FBSzJGLFVBQVM5QyxPQUFBQyxjQUFBNEIsR0FBQUcsRUFBQU0sRUFBQWxCLFFBQUFDLE1BQUFRLEdBQUEsRUFBRSxDSjRaL0IsR0k1WkdrQyxHQUFRL0IsRUFBQWpHLE1BQ1hpSSxFQUFZRCxFQUFTVixLQUFLSCxVQUFVLEdBQUdwRixNQUFNLElBQ2pELElBQUlrRyxFQUFVdEgsU0FBVytHLEVBQU0vRyxPQUM3QixJQUFLLEdBQUlELEdBQUksRUFBR3dILEVBQUlELEVBQVV0SCxPQUFZdUgsRUFBSnhILEVBQU9BLElBQzNDLEdBQWtDLElBQTlCdUgsRUFBVXZILEdBQUc2RyxRQUFRLEtBQVksQ0FDbkMsR0FBSVksR0FBT0YsQ0FFWCxJQURBRSxFQUFLekgsR0FBS2dILEVBQU1oSCxHQUNaVSxLQUFLZ0gsWUFBWUQsRUFBTVQsR0FDekIsTUFBT00sS0ptYWIsTUFBT3BDLEdBQ1BHLEdBQXFCLEVBQ3JCQyxFQUFrQkosRUFDbEIsUUFDQSxLQUNPRSxHQUE4QlMsRUFBVyxXQUM1Q0EsRUFBVyxZQUViLFFBQ0EsR0FBSVIsRUFDRixLQUFNQyxJSXRhZCxNQURBMUUsU0FBUTJCLElBQUksc0JBQ0wsS0ptYlBuQyxJQUFLLGNBQ0xkLE1JOWFTLFNBQUNxSSxFQUFHQyxHQUNiLEdBQUk1SCxHQUFJMkgsRUFBRTFILE1BQ1YsSUFBSUQsR0FBSzRILEVBQUUzSCxPQUFRLE9BQU8sQ0FDMUIsTUFBT0QsS0FDTCxHQUFJMkgsRUFBRTNILEtBQU80SCxFQUFFNUgsR0FBSSxPQUFPLENBRTVCLFFBQU8sTUE3RVVpRyxLSm1nQmpCckcsYUFBZSxXQUFlLFFBQVNDLEdBQWlCQyxFQUFRQyxHQUFTLElBQUssR0FBSUMsR0FBSSxFQUFHQSxFQUFJRCxFQUFNRSxPQUFRRCxJQUFLLENBQUUsR0FBSUUsR0FBYUgsRUFBTUMsRUFBSUUsR0FBV1gsV0FBYVcsRUFBV1gsYUFBYyxFQUFPVyxFQUFXVCxjQUFlLEVBQVUsU0FBV1MsS0FBWUEsRUFBV1YsVUFBVyxHQUFNTCxPQUFPZ0IsZUFBZUwsRUFBUUksRUFBV0UsSUFBS0YsSUFBaUIsTUFBTyxVQUFVekIsRUFBYTRCLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZUixFQUFpQnBCLEVBQVlTLFVBQVdtQixHQUFpQkMsR0FBYVQsRUFBaUJwQixFQUFhNkIsR0FBcUI3QixNS25nQjVnQnFGLE1BQUssV0FDYixRQURRQSxLTHlnQmpCdkYsZ0JBQWdCbUMsS0t6Z0JDb0QsR0xra0JuQixNQXREQWxFLGNLNWdCbUJrRSxJTDZnQmpCMUQsSUFBSyxTQUNMZCxNSzNnQkksU0FBQ3VJLEdBQ0wsR0FBSXJCLEdBQU8sRUFDVHhHLEVBQUMwQixPQUNEOEYsRUFBQzlGLE9BQ0RvRyxFQUFTRCxFQUFJM0UsVUFDZixLQUFLbEQsRUFBSSxFQUFHd0gsRUFBSU0sRUFBTzdILE9BQVl1SCxFQUFKeEgsRUFBT0EsSUFDcEN3RyxHQUFVQSxHQUFRLEdBQUtBLEVBQVFzQixFQUFPQyxXQUFXL0gsR0FBTSxVQUV6RCxPQUFPd0csTUw4Z0JQcEcsSUFBSyxTQUNMZCxNSzVnQkksU0FBQzBJLEVBQU01RyxHTDZnQlQsR0s3Z0JjNkcsR0FBTXhHLFVBQUF4QixRQUFBLEdBQUF5QixTQUFBRCxVQUFBLEdBQUcsRUFBQ0EsVUFBQSxFQUMxQixLQUFLLEdBQUl5RyxLQUFZOUcsR0FBSyxDQUN4QixHQUE2QixnQkFBbEJBLEdBQUk4RyxHQUNiLE1BQU94SCxNQUFLeUgsT0FBT0gsRUFBTTVHLEVBQUk4RyxHQUFXRCxFQUV0Q0csZ0JBQWVDLEtBQUtqSCxFQUFLOEcsS0FDM0JELEdBQVVELEVBQUtNLE9BQU9KLEVBQVdGLEVBQUtNLE9BQU9sSCxFQUFJOEcsTUFHckQsTUFBT0QsTUxpaEJQN0gsSUFBSyxPQUNMZCxNSy9nQkUsU0FBQ2lKLEdBQ0gsR0FBSUMsSUFDRlYsT0FBVXBILEtBQUs0SCxPQUNmRyxPQUFVL0gsS0FBSzRILE9BQ2ZJLFVBQVdoSSxLQUFLNEgsT0FDaEJILE9BQVV6SCxLQUFLeUgsUUFFYjVHLFFBQWNnSCxFQUVsQixPQUFnQixPQUFUQSxHQUFpQkMsRUFBTWpILEdBQVFpSCxFQUFNakgsR0FBTWIsS0FBTTZILEdBQVM3SCxLQUFLNEgsT0FBTy9HLEdBQVEsS0xraEJyRm5CLElBQUssVUFDTGQsTUtoaEJLLFNBQUNxSSxFQUFHQyxHQUNULE1BQU9sSCxNQUFLOEYsS0FBS21CLEtBQU9qSCxLQUFLOEYsS0FBS29CLE1McWhCbEN4SCxJQUFLLG1CQUNMZCxNS2xoQmMsU0FBQ3FJLEVBQUdDLEdBQ2xCLE1BQU9qRixNQUFLQyxVQUFVK0UsS0FBT2hGLEtBQUtDLFVBQVVnRixPQTVDM0I5RCxLTHNrQmpCbEUsYUFBZSxXQUFlLFFBQVNDLEdBQWlCQyxFQUFRQyxHQUFTLElBQUssR0FBSUMsR0FBSSxFQUFHQSxFQUFJRCxFQUFNRSxPQUFRRCxJQUFLLENBQUUsR0FBSUUsR0FBYUgsRUFBTUMsRUFBSUUsR0FBV1gsV0FBYVcsRUFBV1gsYUFBYyxFQUFPVyxFQUFXVCxjQUFlLEVBQVUsU0FBV1MsS0FBWUEsRUFBV1YsVUFBVyxHQUFNTCxPQUFPZ0IsZUFBZUwsRUFBUUksRUFBV0UsSUFBS0YsSUFBaUIsTUFBTyxVQUFVekIsRUFBYTRCLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZUixFQUFpQnBCLEVBQVlTLFVBQVdtQixHQUFpQkMsR0FBYVQsRUFBaUJwQixFQUFhNkIsR0FBcUI3QixNTWprQjVnQmtLLFFBQU8sV0FDZixRQURRQSxHQUNQOUosR05za0JWTixnQkFBZ0JtQyxLTXZrQkNpSSxHQUVqQmpJLEtBQUtrSSxLQUFPLEdBQUk3QyxTQUFRbEgsR0FDeEIrQixRQUFRMkIsSUFBSTdCLEtBQUtrSSxNQUNqQmxJLEtBQUttSSxRQUFVLEdBQUluRixTQUFRaEQsS0FBS2tJLE1BQ2hDbEksS0FBS29JLGlCQUNMcEksS0FBS3FJLGdCTnlvQlAsTUEvREFuSixjTWhsQm1CK0ksSU5pbEJqQnZJLElBQUssaUJBQ0xkLE1NemtCWSxXQU1aLEdBQUkwSixHQUFPLEdBQUlDLFVBQ2ZELEdBQUs3RixJQUFJLE1BQU8sUUFDaEI2RixFQUFLN0YsSUFBSSxPQUFRLCtCQUNqQjZGLEVBQUs3RixJQUFJLE9BQ1ArRixJQUFLLEtBRVBGLEVBQUs3RixJQUFJLE1BQU8sS0FDaEI2RixFQUFLN0YsSUFBSSxVQUFXLGNBSXBCNkYsRUFBSzdGLElBQUksVUFBVzZGLEVBQUtHLE9BQU8sc0JBRWhDSCxFQUFLSSxPQUFPdkcsS0FBSyxXQUNmakMsUUFBUTJCLElBQUksVUFDWixTQUFPLFNBQVNULEdBQ2hCbEIsUUFBUTJCLElBQUksaUJBQWtCVCxLQUVoQ2tILEVBQUtLLFNBQ0xMLEVBQUt4RyxRQUFRSyxLQUFLLFdBQ2hCakMsUUFBUTJCLElBQUksVUFDWixTQUFPLFNBQVNULEdBQ2hCbEIsUUFBUTJCLElBQUksaUJBQWtCVCxLQUVoQ2tILEVBQUtNLFVBQVV6RyxLQUFLLFdBQ2xCakMsUUFBUTJCLElBQUksVUFDWixTQUFPLFNBQVNULEdBQ2hCbEIsUUFBUTJCLElBQUksaUJBQWtCVCxJQUloQyxJQUFJeUgsR0FBWSxHQUFJQyxVQUNwQkQsR0FBVXBHLElBQUksU0FBVSw0Q0FDeEJvRyxFQUFVcEcsSUFBSSxZQUFhLDBCQUMzQm9HLEVBQVVwRyxJQUFJLFlBQ1YrRixJQUFLLEtBRVRLLEVBQVVwRyxJQUFJLFdBQVksS0FDMUJvRyxFQUFVcEcsSUFBSSxlQUFnQixPQUM5Qm9HLEVBQVVwRyxJQUFJLGVBQWdCLHFCQUs5QnpDLEtBQUttSSxRQUFRWSxRQUFRL0ksS0FBS2tJLFNONGtCMUJ4SSxJQUFLLGdCQUNMZCxNTTFrQlcsZ0JBOURNcUosS05tcEJqQi9JLGFBQWUsV0FBZSxRQUFTQyxHQUFpQkMsRUFBUUMsR0FBUyxJQUFLLEdBQUlDLEdBQUksRUFBR0EsRUFBSUQsRUFBTUUsT0FBUUQsSUFBSyxDQUFFLEdBQUlFLEdBQWFILEVBQU1DLEVBQUlFLEdBQVdYLFdBQWFXLEVBQVdYLGFBQWMsRUFBT1csRUFBV1QsY0FBZSxFQUFVLFNBQVdTLEtBQVlBLEVBQVdWLFVBQVcsR0FBTUwsT0FBT2dCLGVBQWVMLEVBQVFJLEVBQVdFLElBQUtGLElBQWlCLE1BQU8sVUFBVXpCLEVBQWE0QixFQUFZQyxHQUFpSixNQUE5SEQsSUFBWVIsRUFBaUJwQixFQUFZUyxVQUFXbUIsR0FBaUJDLEdBQWFULEVBQWlCcEIsRUFBYTZCLEdBQXFCN0IsTU9ycEI1Z0JpTCxTQUFRLFdBQ2hCLFFBRFFBLEdBQ1A3SyxHUDBwQlZOLGdCQUFnQm1DLEtPM3BCQ2dKLEdBRWpCaEosS0FBS2tJLEtBQU8sR0FBSTdDLFNBQVFsSCxHQUN4QixHQUFJNkUsU0FBUWhELEtBQUtrSSxNUHVxQm5CLE1BUkFoSixjT2xxQm1COEosSVBtcUJqQnRKLElBQUssa0JBQ0xkLE1PN3BCYSxXQUVic0IsUUFBUTJCLElBQUk3QixLQUFLa0ksS0FBS2QsWUFUTDRCLElDQ3JCNUssUUFBTzZLLE9BQVM3SyxPQUFPNkssUUFBVSxHQUFJMUQsUUFDckMwRCxPQUFPaEQsT0FDTEMsS0FBTSxTQUNOTSxZQUFhLDZCQUNaUCxPQUNEQyxLQUFNLFlBQ05NLFlBQWEsd0JBQ1pQLE9BQ0RDLEtBQU0sb0JBQ05NLFlBQWEsK0JBQ1pQLE9BQ0RDLEtBQU0sbUJBQ05NLFlBQWEsMkJBQ1pQLE9BQ0RDLEtBQU0sUUFDTk0sWUFBYSx3QkFDWlAsT0FDREMsS0FBTSxJQUNOTSxZQUFhLHdCQUNaMEMsVUFDRGhELEtBQU0sT0FDTk0sWUFBYSxzQlJvckJmLElBQUl0SCxjQUFlLFdBQWUsUUFBU0MsR0FBaUJDLEVBQVFDLEdBQVMsSUFBSyxHQUFJQyxHQUFJLEVBQUdBLEVBQUlELEVBQU1FLE9BQVFELElBQUssQ0FBRSxHQUFJRSxHQUFhSCxFQUFNQyxFQUFJRSxHQUFXWCxXQUFhVyxFQUFXWCxhQUFjLEVBQU9XLEVBQVdULGNBQWUsRUFBVSxTQUFXUyxLQUFZQSxFQUFXVixVQUFXLEdBQU1MLE9BQU9nQixlQUFlTCxFQUFRSSxFQUFXRSxJQUFLRixJQUFpQixNQUFPLFVBQVV6QixFQUFhNEIsRUFBWUMsR0FBaUosTUFBOUhELElBQVlSLEVBQWlCcEIsRUFBWVMsVUFBV21CLEdBQWlCQyxHQUFhVCxFQUFpQnBCLEVBQWE2QixHQUFxQjdCLE1BRTdoQm9MLEtBQU8sU0FBYUMsRUFBSUMsRUFBS0MsR0FBcUMsSUFBOUIsR0FBSUMsSUFBUyxFQUF3QkEsR0FBUSxDQUFFLEdBQUk5QixHQUFTMkIsRUFBSTVCLEVBQVc2QixFQUFLRyxFQUFXRixDQUFLRyxHQUFPQyxFQUFTQyxFQUFTM0ksT0FBV3VJLEdBQVMsRUFBc0IsT0FBWDlCLElBQWlCQSxFQUFTbUMsU0FBU3BMLFVBQVcsSUFBSWlMLEdBQU9oTCxPQUFPb0wseUJBQXlCcEMsRUFBUUQsRUFBVyxJQUFheEcsU0FBVHlJLEVBQUosQ0FBaU4sR0FBSSxTQUFXQSxHQUFRLE1BQU9BLEdBQUs3SyxLQUFnQixJQUFJK0ssR0FBU0YsRUFBS2hJLEdBQUssT0FBZVQsVUFBWDJJLEVBQStCM0ksT0FBb0IySSxFQUFPaEMsS0FBSzZCLEdBQXBVLEdBQUlFLEdBQVNqTCxPQUFPcUwsZUFBZXJDLEVBQVMsSUFBZSxPQUFYaUMsRUFBbUIsTUFBTzFJLE9BQW9Cb0ksR0FBS00sRUFBUUwsRUFBTTdCLEVBQVU4QixFQUFNRSxFQUFVRCxHQUFTLElTN3NCN2NoQixVQUFTLFNBQUF3QixHQUNULFFBREF4QixLVHV0QlQxSyxnQkFBZ0JtQyxLU3Z0QlB1SSxHQUVUWSxLQUFBMUssT0FBQXFMLGVBRlN2QixFQUFTL0osV0FBQSxjQUFBd0IsTUFBQTJILEtBQUEzSCxLQUVaLFFBQ0p3QixJQUNFNUMsTUFBTyxPQUNQaUMsS0FBTSxVQUVScUYsTUFDRXRILE1BQU8sT0FDUGlDLEtBQU0sVUFFUm1KLFNBQ0VwTCxNQUFPLFlBQ1BpQyxLQUFNLFVBRVIySCxLQUNFNUosTUFBTyxLQUNQaUMsS0FBTSxZVHF1QlosTUFsQ0F4QyxXU3B0QldrSyxFQUFTd0IsR1QrdUJwQjdLLGFTL3VCV3FKLElUZ3ZCVDdJLElBQUssU0FDTGQsTVMxdEJJLFNBQUNxTCxHQUNMLE1BQU9BLEdBQUlDLGtCQXhCRjNCLEdBQWtCMUksV1QwdkIzQnNKLEtBQU8sU0FBYUMsRUFBSUMsRUFBS0MsR0FBcUMsSUFBOUIsR0FBSUMsSUFBUyxFQUF3QkEsR0FBUSxDQUFFLEdBQUk5QixHQUFTMkIsRUFBSTVCLEVBQVc2QixFQUFLRyxFQUFXRixDQUFLRyxHQUFPQyxFQUFTQyxFQUFTM0ksT0FBV3VJLEdBQVMsRUFBc0IsT0FBWDlCLElBQWlCQSxFQUFTbUMsU0FBU3BMLFVBQVcsSUFBSWlMLEdBQU9oTCxPQUFPb0wseUJBQXlCcEMsRUFBUUQsRUFBVyxJQUFheEcsU0FBVHlJLEVBQUosQ0FBaU4sR0FBSSxTQUFXQSxHQUFRLE1BQU9BLEdBQUs3SyxLQUFnQixJQUFJK0ssR0FBU0YsRUFBS2hJLEdBQUssT0FBZVQsVUFBWDJJLEVBQStCM0ksT0FBb0IySSxFQUFPaEMsS0FBSzZCLEdBQXBVLEdBQUlFLEdBQVNqTCxPQUFPcUwsZUFBZXJDLEVBQVMsSUFBZSxPQUFYaUMsRUFBbUIsTUFBTzFJLE9BQW9Cb0ksR0FBS00sRUFBUUwsRUFBTTdCLEVBQVU4QixFQUFNRSxFQUFVRCxHQUFTLElVMXZCN2NULFVBQVMsU0FBQWlCLEdBQ1QsUUFEQWpCLEtWb3dCVGpMLGdCQUFnQm1DLEtVcHdCUDhJLEdBRVRLLEtBQUExSyxPQUFBcUwsZUFGU2hCLEVBQVN0SyxXQUFBLGNBQUF3QixNQUFBMkgsS0FBQTNILEtBRVosUUFDSm1LLFFBQ0V0SixLQUFNLFNBQ05qQyxNQUFPLGVBRVQwSixNQUNFekgsS0FBTSxTQUNOakMsT0FDRTRDLElBQ0VYLEtBQU0sU0FDTmpDLE1BQU8sT0FFVHNILE1BQ0VyRixLQUFNLFNBQ05qQyxNQUFPLG1CQUVUb0wsU0FDRW5KLEtBQU0sU0FDTmpDLE1BQU8sdUJBSWJ3TCx1QkFDRXZKLEtBQU0sUUFDTmpDLE9BQVEsYUFBYyxXVnl3QjVCLE1BbENBUCxXVWp3Qld5SyxFQUFTaUIsR0FBVGpCLEdBQWtCakoiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbbnVsbCwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGlhaXNvbiB7XG4gIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICBsZXQgZGF0dW07XG4gICAgZm9yIChkYXR1bSBpbiBkYXRhKSB7XG4gICAgICB0aGlzW2RhdHVtXSA9IGRhdGFbZGF0dW1dO1xuICAgIH1cbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbG9hZF9jb21wb25lbnQobW9kdWxlLCBkYXRhKSB7XG4gIG5ldyB3aW5kb3dbbW9kdWxlXShkYXRhKTtcbn1cbiIsIi8vIFRPRE86IGFsbG93IGEgc2hhcmVkIGZyb250ZW5kL2JhY2tlbmQgc2NoZW1hIGZpbGVcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhc2VNb2RlbCB7XG4gIGNvbnN0cnVjdG9yKG1vZGVsTmFtZSwgc2NoZW1hKSB7XG4gICAgdGhpcy5tb2RlbE5hbWUgPSBtb2RlbE5hbWU7XG4gICAgdGhpcy5kYXRhID0gc2NoZW1hO1xuICB9XG5cbiAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICBsZXQgZXhpc3RzSW5TY2hlbWEgPSB0aGlzLmV4aXN0c0luU2NoZW1hKHRoaXMuZGF0YSwga2V5LCB2YWx1ZSk7XG4gICAgaWYgKCFleGlzdHNJblNjaGVtYSkge1xuICAgICAgY29uc29sZS53YXJuKGBOb3Qgc2V0dGluZyBcIiR7a2V5fVwiIGluICR7dGhpcy5tb2RlbE5hbWV9IG1vZGVsIHRvIFwiJHt2YWx1ZX1cIiBiZWNhdXNlIGl0IGRvZXNudCBleGlzdCBpbiB0aGUgc2NoZW1hYCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCB0eXBlTWF0Y2hlcyA9IHRoaXMuY2hlY2tUeXBlKHRoaXMuZGF0YSwga2V5LCB2YWx1ZSlcbiAgICBpZiAoIXR5cGVNYXRjaGVzKSB7XG4gICAgICBjb25zb2xlLndhcm4oYE5vdCBzZXR0aW5nIFwiJHtrZXl9XCIgaW4gJHt0aGlzLm1vZGVsTmFtZX0gbW9kZWwgdG8gXCIke3ZhbHVlfVwiIGJlY2F1c2UgaXQgaXQgaXNudCB0aGUgcmlnaHQgdHlwZWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnNldFZhbHVlKHRoaXMuZGF0YSwga2V5LCB2YWx1ZSk7XG4gIH1cblxuICBnZXQoYWNjZXNzKSB7XG4gICAgaWYgKGFjY2Vzcykge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0VmFsdWUodGhpcy5kYXRhLCBhY2Nlc3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXREYXRhKHRoaXMuZGF0YSk7XG4gICAgfVxuICB9XG5cbiAgZXhpc3RzSW5TY2hlbWEob2JqLCBhY2Nlc3MsIHZhbHVlKSB7XG4gICAgYWNjZXNzID0gKHR5cGVvZihhY2Nlc3MpID09ICdzdHJpbmcnKSA/IGFjY2Vzcy5zcGxpdCgnLicpIDogYWNjZXNzO1xuICAgIGlmIChhY2Nlc3MubGVuZ3RoID4gMSAmJiBvYmpbYWNjZXNzWzBdXSkge1xuICAgICAgcmV0dXJuIHRoaXMuZXhpc3RzSW5TY2hlbWEob2JqW2FjY2Vzcy5zaGlmdCgpXS52YWx1ZSwgYWNjZXNzLCB2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBvYmpbYWNjZXNzWzBdXSA/IHRydWUgOiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBjaGVja1R5cGUob2JqLCBhY2Nlc3MsIHZhbHVlKSB7XG4gICAgYWNjZXNzID0gKHR5cGVvZihhY2Nlc3MpID09ICdzdHJpbmcnKSA/IGFjY2Vzcy5zcGxpdCgnLicpIDogYWNjZXNzO1xuICAgIGlmIChhY2Nlc3MubGVuZ3RoID4gMSAmJiBvYmpbYWNjZXNzWzBdXSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2hlY2tUeXBlKG9ialthY2Nlc3Muc2hpZnQoKV0udmFsdWUsIGFjY2VzcywgdmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gb2JqW2FjY2Vzc1swXV0udHlwZSA9PT0gdHlwZW9mIHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIGdldERhdGEob2JqLCBuZXdPYmogPSB7fSkge1xuICAgIGZvciAobGV0IGVsZW1lbnQgaW4gb2JqKSB7XG4gICAgICBpZiAob2JqW2VsZW1lbnRdLnR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIG5ld09ialtlbGVtZW50XSA9IHt9O1xuICAgICAgICB0aGlzLmdldERhdGEob2JqW2VsZW1lbnRdLnZhbHVlLCBuZXdPYmpbZWxlbWVudF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3T2JqW2VsZW1lbnRdID0gb2JqW2VsZW1lbnRdLnZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3T2JqO1xuICB9XG5cbiAgc2V0VmFsdWUob2JqLCBhY2Nlc3MsIHZhbHVlKSB7XG4gICAgYWNjZXNzID0gKHR5cGVvZihhY2Nlc3MpID09ICdzdHJpbmcnKSA/IGFjY2Vzcy5zcGxpdCgnLicpIDogYWNjZXNzO1xuICAgIGlmIChhY2Nlc3MubGVuZ3RoID4gMSAmJiBvYmpbYWNjZXNzWzBdXS52YWx1ZSkge1xuICAgICAgdGhpcy5zZXRWYWx1ZShvYmpbYWNjZXNzLnNoaWZ0KCldLnZhbHVlLCBhY2Nlc3MsIHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKG9ialthY2Nlc3NbMF1dLnZhbHVlKSB7XG4gICAgICBvYmpbYWNjZXNzWzBdXS52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIGdldFZhbHVlKG9iaiwgYWNjZXNzKSB7XG4gICAgYWNjZXNzID0gKHR5cGVvZihhY2Nlc3MpID09ICdzdHJpbmcnKSA/IGFjY2Vzcy5zcGxpdCgnLicpIDogYWNjZXNzO1xuICAgIGlmIChhY2Nlc3MubGVuZ3RoID4gMSAmJiBvYmpbYWNjZXNzWzBdXSkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0VmFsdWUob2JqW2FjY2Vzcy5zaGlmdCgpXS52YWx1ZSwgYWNjZXNzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG9ialthY2Nlc3NbMF1dLnZhbHVlIHx8ICcnO1xuICAgIH1cbiAgfVxuXG4gIHNldCBlbmRwb2ludFByZWZpeChwcmVmaXgpIHtcbiAgICB0aGlzLl9lbmRwb2ludFByZWZpeCA9IHByZWZpeDtcbiAgfVxuXG4gIGdldCBlbmRwb2ludFByZWZpeCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZW5kcG9pbnRQcmVmaXggfHwgJ2FwaS92aSc7XG4gIH1cblxuICAvLyBUT0RPOiByZWZhY3RvciB0aGlzIHRvIGhlbHBlclxuICBjaGVja1N0YXR1cyhyZXNwb25zZSkge1xuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPj0gMjAwICYmIHJlc3BvbnNlLnN0YXR1cyA8IDMwMCkge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBlcnJvciA9IG5ldyBFcnJvcihyZXNwb25zZS5zdGF0dXNUZXh0KVxuICAgICAgZXJyb3IucmVzcG9uc2UgPSByZXNwb25zZVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH1cblxuICBwYXJzZUpTT04ocmVzcG9uc2UpIHtcbiAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpXG4gIH1cblxuICAvLyBUT0RPOiBDUlVEIG9wZXJhdGlvbnMgeGhyIGNhbGxzLiByZXR1cm4gcHJvbWlzZXNcbiAgc2F2ZShpZCA9IHRoaXMuZ2V0KCdpZCcpKSB7XG4gICAgbGV0IHVybCA9IGAke3RoaXMuZW5kcG9pbnRQcmVmaXh9LyR7dGhpcy5tb2RlbE5hbWV9LyR7aWR9YDtcbiAgICBsZXQgc2VuZE9iaiA9IHt9O1xuICAgIHNlbmRPYmpbdGhpcy5tb2RlbE5hbWVdID0gdGhpcy5nZXQoKTtcbiAgICBjb25zb2xlLmxvZyhgbWFrZSBwb3N0IHhociBjYWxsIHRvICR7dXJsfWAsIHNlbmRPYmopO1xuXG4gICAgcmV0dXJuIGZldGNoKHVybCwge1xuICAgICAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoc2VuZE9iailcbiAgICAgIH0pLnRoZW4odGhpcy5jaGVja1N0YXR1cylcbiAgICAgIC50aGVuKHRoaXMucGFyc2VKU09OKTtcbiAgfVxuXG4gIGZldGNoKGlkID0gdGhpcy5nZXQoJ2lkJykpIHtcbiAgICBsZXQgdXJsID0gYCR7dGhpcy5lbmRwb2ludFByZWZpeH0vJHt0aGlzLm1vZGVsTmFtZX0vJHtpZH1gO1xuICAgIGNvbnNvbGUubG9nKGBtYWtlIGdldCB4aHIgY2FsbCB0byAke3VybH1gKTtcblxuICAgIHJldHVybiBmZXRjaCh1cmwsIHtcbiAgICAgICAgbWV0aG9kOiAnZ2V0J1xuICAgICAgfSkudGhlbih0aGlzLmNoZWNrU3RhdHVzKVxuICAgICAgLnRoZW4odGhpcy5wYXJzZUpTT04pOztcbiAgfVxuXG4gIHVwZGF0ZShpZCA9IHRoaXMuZ2V0KCdpZCcpKSB7XG4gICAgbGV0IHVybCA9IGAke3RoaXMuZW5kcG9pbnRQcmVmaXh9LyR7dGhpcy5tb2RlbE5hbWV9LyR7aWR9YDtcbiAgICBsZXQgc2VuZE9iaiA9IHt9O1xuICAgIHNlbmRPYmpbdGhpcy5tb2RlbE5hbWVdID0gdGhpcy5nZXQoKTtcbiAgICBjb25zb2xlLmxvZyhgbWFrZSB1cGRhdGUgeGhyIGNhbGwgdG8gJHt1cmx9YCwgc2VuZE9iaik7XG5cbiAgICAvLyBHaXRodWIncyBmZXRjaCBwcm9qZWN0IGRvZXNudCBhcHBlYXIgdG8gc3VwcG9ydCBVUERBVEVcbiAgICAvLyBUT0RPOiBpbnZlc3RpZ2F0ZSB0aGUgYWJvdmUgc3RhdGVtZW50XG4gICAgLy8gZmV0Y2godXJsLCB7XG4gICAgLy8gICBtZXRob2Q6ICdVUERBVEUnLFxuICAgIC8vICAgYm9keTogSlNPTi5zdHJpbmdpZnkoc2VuZE9iailcbiAgICAvLyB9KTtcbiAgfVxuXG4gIGRlc3Ryb3koaWQgPSB0aGlzLmdldCgnaWQnKSkge1xuICAgIGxldCB1cmwgPSBgJHt0aGlzLmVuZHBvaW50UHJlZml4fS8ke3RoaXMubW9kZWxOYW1lfS8ke2lkfWA7XG4gICAgY29uc29sZS5sb2coYG1ha2UgZGVsZXRlIHhociBjYWxsIHRvICR7dXJsfWApO1xuXG4gICAgcmV0dXJuIGZldGNoKHVybCwge1xuICAgICAgICBtZXRob2Q6ICdkZWxldGUnXG4gICAgICB9KS50aGVuKHRoaXMuY2hlY2tTdGF0dXMpXG4gICAgICAudGhlbih0aGlzLnBhcnNlSlNPTik7XG4gIH1cbn1cbiIsIi8vYWxsb3dpbmcgZm9yLi5vZiBvZiBub2RlbGlzdHMgZm9yIENocm9tZSBzdXBwb3J0XG5Ob2RlTGlzdC5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IEFycmF5LnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdO1xuaW1wb3J0IFV0aWxzIGZyb20gJy4vVXRpbHMnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJpbmRpbmcge1xuICBjb25zdHJ1Y3RvcihkYXRhKSB7XG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB0aGlzLmZpbmRCaW5kYWJsZSgpO1xuICAgIHRoaXMudXRpbHMgPSBuZXcgVXRpbHMoKTtcblxuICAgIGxldCBjdXJyZW50RGF0YSA9IGN1cnJlbnREYXRhIHx8IHt9O1xuXG4gICAgLy8gd2F0Y2hpbmcgdGhpcy5kYXRhIGZvciBwcm9ncmFtbWF0aWNhbCB1cGRhdGVzXG4gICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMudXRpbHMuY29tcGFyZUJ5Q29udmVydChjdXJyZW50RGF0YSwgdGhpcy5kYXRhKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgY3VycmVudERhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuZGF0YSkpO1xuICAgICAgICB0aGlzLnBvcHVsYXRlQmluZGluZ3MoKTtcbiAgICAgIH1cbiAgICB9LCAxMCk7XG4gIH1cblxuICBwb3B1bGF0ZUJpbmRpbmdzKCkge1xuICAgIGZvciAobGV0IGVsbSBvZiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbbGlhaXNvbi1iaW5kXScpKSB7XG4gICAgICBsZXQgYmluZE5hbWUgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50LmdldEF0dHJpYnV0ZSgnbGlhaXNvbi1iaW5kJyk7XG5cbiAgICAgIC8vcHJldmVudCB0aGUgaW5wdXQgeW91cmUgdHlwaW5nIGluIGZyb20gdXBkYXRpbmcuIHByZXZlbnRzIHRoZSBjdXJzb3IgZnJvbSBqdW1waW5nIHRvIHRoZSBlbmRcbiAgICAgIC8vb25seSB1cGRhdGVzIGJpbmRpbmdzIHRoYXQgbmVlZCB0byBiZSB1cGRhdGVkXG4gICAgICBpZiAoZWxtICE9PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmIChlbG0uZ2V0QXR0cmlidXRlKCdsaWFpc29uLWJpbmQnKSA9PT0gYmluZE5hbWUgfHwgYmluZE5hbWUgPT09IG51bGwpKSB7XG4gICAgICAgIHRoaXMuc2V0RWxlbWVudENvbnRlbnQoZWxtLCB0aGlzLmdldFZhbHVlKHRoaXMuZGF0YSwgZWxtLmdldEF0dHJpYnV0ZSgnbGlhaXNvbi1iaW5kJykpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmaW5kQmluZGFibGUoKSB7XG4gICAgZm9yIChsZXQgZWxtIG9mIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tsaWFpc29uLWJpbmRdJykpIHtcbiAgICAgIGVsbS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHtcbiAgICAgICAgLy9zZXR0aW1lb3V0IGFsbG93cyB0aGUga2V5ZG93biBldmVudCBnbyBnZXQgdGhlIG5ldyB2YWx1ZVxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuc2V0VmFsdWUodGhpcy5kYXRhLCBlbG0uZ2V0QXR0cmlidXRlKCdsaWFpc29uLWJpbmQnKSwgZS5zcmNFbGVtZW50LnZhbHVlKSlcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHNldEVsZW1lbnRDb250ZW50KGVsZW1lbnQsIHZhbHVlKSB7XG4gICAgLy8gYWxsb3dzIG11bHRpcGxlIGNvbXBvbmVudHNcbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gdmFsdWU7XG4gICAgZWxlbWVudC52YWx1ZSA9IHZhbHVlO1xuICB9XG5cbiAgc2V0VmFsdWUob2JqLCBhY2Nlc3MsIHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZihhY2Nlc3MpID09ICdzdHJpbmcnKSB7XG4gICAgICBhY2Nlc3MgPSBhY2Nlc3Muc3BsaXQoJy4nKTtcbiAgICB9XG4gICAgaWYgKGFjY2Vzcy5sZW5ndGggPiAxICYmIG9ialthY2Nlc3NbMF1dKSB7XG4gICAgICB0aGlzLnNldFZhbHVlKG9ialthY2Nlc3Muc2hpZnQoKV0sIGFjY2VzcywgdmFsdWUpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9ialthY2Nlc3NbMF1dID09PSAnc3RyaW5nJykge1xuICAgICAgb2JqW2FjY2Vzc1swXV0gPSB2YWx1ZTtcbiAgICB9XG4gIH1cblxuICBnZXRWYWx1ZShvYmosIGFjY2Vzcykge1xuICAgIGlmICh0eXBlb2YoYWNjZXNzKSA9PSAnc3RyaW5nJykge1xuICAgICAgYWNjZXNzID0gYWNjZXNzLnNwbGl0KCcuJyk7XG4gICAgfVxuICAgIGlmIChhY2Nlc3MubGVuZ3RoID4gMSAmJiBvYmpbYWNjZXNzWzBdXSkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0VmFsdWUob2JqW2FjY2Vzcy5zaGlmdCgpXSwgYWNjZXNzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG9ialthY2Nlc3NbMF1dO1xuICAgIH1cbiAgfVxuXG4gIHJlZnJlc2goZGF0YSkge1xuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5wb3B1bGF0ZUJpbmRpbmdzKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFJvdXRlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMudmlldyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tsaWFpc29uLXZpZXddJyk7XG4gICAgdGhpcy5wYXRocyA9IFtdO1xuICAgIHRoaXMud2lsZGNhcmRzID0gW107XG4gICAgLy9nb2VzIHRvIGhhc2ggdXJsXG4gICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLmdvKHdpbmRvdy5sb2NhdGlvbi5oYXNoLnN1YnN0cmluZygxKSksIDApO1xuICAgIC8vYWxsb3dzIGJhY2svZm9yd2FyZCBidXR0b25zXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgKGV2ZW50KSA9PiB0aGlzLmdvKGV2ZW50LnN0YXRlIHx8IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnN1YnN0cmluZygxKSwgZmFsc2UpKTtcbiAgfVxuXG4gIHN0YXRlKGRhdGEpIHtcbiAgICBpZiAoZGF0YS5uYW1lLmluZGV4T2YoJzonKSA+IDApIHtcbiAgICAgIHRoaXMud2lsZGNhcmRzLnB1c2goZGF0YSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucGF0aHMucHVzaChkYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBmYWxsYmFjayhkYXRhKSB7XG4gICAgdGhpcy5wYXRocy5wdXNoKGRhdGEpO1xuICAgIHRoaXMuX2ZhbGxiYWNrID0gZGF0YTtcbiAgfVxuXG4gIC8vIGludGVncmF0aW9uIHRlc3RzIGNvdmVyIHRoaXNcbiAgZ28ocm91dGUpIHtcbiAgICBjb25zb2xlLmxvZyhgZ29pbmcgdG8gc3RhdGUgJHtyb3V0ZX1gKTtcbiAgICBsZXQgb2JqID0gdGhpcy5maW5kUm91dGVJblBhdGhzKHJvdXRlKTtcbiAgICBpZiAoIW9iaikge1xuICAgICAgdGhpcy5nbyh0aGlzLl9mYWxsYmFjay5uYW1lKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmZXRjaChvYmoudGVtcGxhdGVVcmwpXG4gICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKTtcbiAgICAgIH0pLnRoZW4oKHRlbXBsYXRlKSA9PiB7XG4gICAgICAgIHRoaXMudmlldy5pbm5lckhUTUwgPSB0ZW1wbGF0ZTtcbiAgICAgIH0pO1xuICB9XG5cbiAgLy8gVE9ETzogY2xlYW4gdGhpcyB1cC4gdGhlcmUgaGFzIHRvIGJlIGEgYmV0dGVyIHdheVxuICAvLyBUT0RPOiB3cml0ZSB1bml0IHRlc3QgZm9yIHRoaXMuIGludGVncmF0aW9uIHRlc3QgaXMgZ29vZCBidXQgdGhpcyBjYW4gYmUgdW5pdCB0ZXN0ZWQgd2hpY2ggeWllbGRzIG1vcmUgY29uc2lzdGVudCByZXN1bHRzXG4gIGZpbmRSb3V0ZUluUGF0aHMocm91dGUpIHtcbiAgICBmb3IgKGxldCBwYXRoIG9mIHRoaXMucGF0aHMpIHtcbiAgICAgIGlmIChwYXRoLm5hbWUgPT09IHJvdXRlKSByZXR1cm4gcGF0aDtcbiAgICB9XG4gICAgY29uc29sZS5sb2coJ25vdCBmb3VuZCBuYXR1cmFsIHBhdGguIHNlYXJjaGluZyB3aWxkY2FyZHMnKTtcblxuICAgIHJvdXRlID0gcm91dGUuc3Vic3RyaW5nKDEpLnNwbGl0KCcvJyk7XG4gICAgZm9yIChsZXQgd2lsZGNhcmQgb2YgdGhpcy53aWxkY2FyZHMpIHtcbiAgICAgIGxldCBfd2lsZGNhcmQgPSB3aWxkY2FyZC5uYW1lLnN1YnN0cmluZygxKS5zcGxpdCgnLycpO1xuICAgICAgaWYgKF93aWxkY2FyZC5sZW5ndGggPT09IHJvdXRlLmxlbmd0aCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IF93aWxkY2FyZC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICBpZiAoX3dpbGRjYXJkW2ldLmluZGV4T2YoJzonKSA9PT0gMCkge1xuICAgICAgICAgICAgbGV0IHRlbXAgPSBfd2lsZGNhcmQ7XG4gICAgICAgICAgICB0ZW1wW2ldID0gcm91dGVbaV07XG4gICAgICAgICAgICBpZiAodGhpcy5pc0lkZW50aWNhbCh0ZW1wLCByb3V0ZSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHdpbGRjYXJkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKCdnb2luZyB0byBmYWxsYmFjaycpXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gVE9ETzogcHV0IHRoaXMgaW4gYSBoZWxwZXIgbGlicmFyeVxuICAvLyB0aGlzIGZ1bmN0aW9uIHdhcyBmb3VuZCBhdCBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzc4Mzc0NTYvY29tcGFyaW5nLXR3by1hcnJheXMtaW4tamF2YXNjcmlwdFxuICAvLyB0aGlzIGlzIGEgc2hhbGxvdyBjaGVja1xuICBpc0lkZW50aWNhbChhLCBiKSB7XG4gICAgdmFyIGkgPSBhLmxlbmd0aDtcbiAgICBpZiAoaSAhPSBiLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIGlmIChhW2ldICE9PSBiW2ldKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cblxuXG4vLyAqIG9uIHBhZ2UgbG9hZCwgZ2V0IHVybCBhbmQgbG9hZCBhcHByb3ByaWF0ZSB0ZW10cGxhdGVcbi8vICogb24gdXJsIGNoYW5nZSwgdXBkYXRlIHRlbXBsYXRlXG4vLyAqIGFsbG93IHdpbGRjYXJkcyBpbiBwYXRocyAvdGVtcGxhdGUvdXNlci86aWRcbi8vIHBhc3MgdmFyaWFibGVzIHRvIHRlbXBsYXRlXG4vLyBhbGxvdyBjb21wb25lbnQgdG8gYmUgZGVjbGFyZWQgaW4gcm91dGUgb2JqZWN0XG4vLyAqIGdldCBzdGF0ZSAoaWYgc3RhdGUgPT0gJ2h1aG9ob2hhbycpLi4uXG4vLyAqIHVwZGF0ZSBzdGF0ZSBvbiBmb3J3YXJkL2JhY2tcbi8vICogcm91dGVzIG9uIHJlZnJlc2hcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFV0aWxzIHtcbiAgY29uc3RydWN0b3IoKSB7fVxuXG4gIGhhc2hlcih2YWwpIHtcbiAgICBsZXQgaGFzaCA9IDAsXG4gICAgICBpLFxuICAgICAgbCxcbiAgICAgIHN0cmluZyA9IHZhbC50b1N0cmluZygpO1xuICAgIGZvciAoaSA9IDAsIGwgPSBzdHJpbmcubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBoYXNoID0gKCgoaGFzaCA8PCA1KSAtIGhhc2gpICsgc3RyaW5nLmNoYXJDb2RlQXQoaSkpICYgMHhGRkZGRkZGRjtcbiAgICB9XG4gICAgcmV0dXJuIGhhc2g7XG4gIH1cblxuICBvYmplY3Qoc2VsZiwgb2JqLCByZXN1bHQgPSAwKSB7XG4gICAgZm9yIChsZXQgcHJvcGVydHkgaW4gb2JqKSB7XG4gICAgICBpZiAodHlwZW9mIG9ialtwcm9wZXJ0eV0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9iamVjdChzZWxmLCBvYmpbcHJvcGVydHldLCByZXN1bHQpXG4gICAgICB9XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3BlcnR5KSkge1xuICAgICAgICByZXN1bHQgKz0gc2VsZi5oYXNoZXIocHJvcGVydHkgKyBzZWxmLmhhc2hlcihvYmpbcHJvcGVydHldKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBoYXNoKGlucHV0KSB7XG4gICAgbGV0IHR5cGVzID0ge1xuICAgICAgJ3N0cmluZyc6IHRoaXMuaGFzaGVyLFxuICAgICAgJ251bWJlcic6IHRoaXMuaGFzaGVyLFxuICAgICAgJ2Jvb2xlYW4nOiB0aGlzLmhhc2hlcixcbiAgICAgICdvYmplY3QnOiB0aGlzLm9iamVjdFxuICAgIH07XG4gICAgbGV0IHR5cGUgPSB0eXBlb2YgaW5wdXQ7XG5cbiAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCAmJiB0eXBlc1t0eXBlXSA/IHR5cGVzW3R5cGVdKHRoaXMsIGlucHV0KSArIHRoaXMuaGFzaGVyKHR5cGUpIDogMDtcbiAgfVxuXG4gIGNvbXBhcmUoYSwgYikge1xuICAgIHJldHVybiB0aGlzLmhhc2goYSkgPT09IHRoaXMuaGFzaChiKTtcbiAgfVxuXG4gIC8vZmFzdGVyIHRoYW4gY29tcGFyZVxuICBjb21wYXJlQnlDb252ZXJ0KGEsIGIpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoYSkgPT09IEpTT04uc3RyaW5naWZ5KGIpXG4gIH1cbn1cbiIsImltcG9ydCBMaWFpc29uIGZyb20gJy4vTGlhaXNvbidcbmltcG9ydCBCaW5kaW5nIGZyb20gJy4vQmluZGluZydcbmltcG9ydCBVc2VyTW9kZWwgZnJvbSAnLi9Vc2VyTW9kZWwnXG5pbXBvcnQgVmlld01vZGVsIGZyb20gJy4vVmlld01vZGVsJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFeGFtcGxlIHtcbiAgY29uc3RydWN0b3IoZGF0YSkge1xuICAgIHRoaXMuYmluZCA9IG5ldyBMaWFpc29uKGRhdGEpO1xuICAgIGNvbnNvbGUubG9nKHRoaXMuYmluZCk7XG4gICAgdGhpcy5iaW5kaW5nID0gbmV3IEJpbmRpbmcodGhpcy5iaW5kKTtcbiAgICB0aGlzLmV4YW1wbGVCaW5kaW5nKCk7XG4gICAgdGhpcy5leGFtcGxlUm91dGVyKCk7XG4gIH1cblxuICBleGFtcGxlQmluZGluZygpIHtcbiAgICAvLyBoZXJlIHlvdSBoYXZlIGFjY2VzcyB0byB0aGlzLmJpbmQudXNlciBhbmQgdGhpcy5iaW5kLnByb2dyYW1taW5nX2xhbmd1YWdlc1xuICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuYmluZC51c2VyKTtcbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmJpbmQucHJvZ3JhbW1pbmdfbGFuZ3VhZ2VzKTtcblxuICAgIC8vbW9kZWwgZXhhbXBsZXNcbiAgICBsZXQgdXNlciA9IG5ldyBVc2VyTW9kZWwoKTtcbiAgICB1c2VyLnNldCgnYWdlJywgJzg3NzcnKTsgLy8gc2hvdWxkIGZhaWxcbiAgICB1c2VyLnNldCgnbmFtZScsICdteSBmaXJzdCBuYW1lIG9uIHVzZXIgbW9kZWwnKTsgLy9zaG91bGQgcGFzc1xuICAgIHVzZXIuc2V0KCdhZ2UnLCB7XG4gICAgICBhZ2U6IDMzXG4gICAgfSk7IC8vIHNob3VsZCBmYWlsXG4gICAgdXNlci5zZXQoJ2FnZScsIDk5OSk7IC8vc2hvdWxkIHBhc3NcbiAgICB1c2VyLnNldCgnYWRkcmVzcycsICdteSBhZGRyZXNzJyk7IC8vc2hvdWxkIHBhc3NcblxuICAgIC8vc2V0cyBkYXRhIGJpbmRpbmdcbiAgICAvLyB0aGlzLmJpbmQudXNlci5uYW1lID0gdXNlci5nZXQoJ25hbWUnKVxuICAgIHVzZXIuc2V0KCdhZGRyZXNzJywgdXNlci51cENhc2UoJ215IHNlY29uZCBhZGRyZXNzJykpOyAvL3Nob3VsZCBwYXNzIGFuZCBwb3N0Zml4IFwiIVwiIHRvIHRoZSBhZGRyZXNzXG5cbiAgICB1c2VyLnNhdmUoKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgY29uc29sZS5sb2coJ3RoZW4nKVxuICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZygncmVxdWVzdCBmYWlsZWQnLCBlcnJvcilcbiAgICB9KTtcbiAgICB1c2VyLnVwZGF0ZSgpO1xuICAgIHVzZXIuZmV0Y2goKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgY29uc29sZS5sb2coJ3RoZW4nKVxuICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZygncmVxdWVzdCBmYWlsZWQnLCBlcnJvcilcbiAgICB9KTtcbiAgICB1c2VyLmRlc3Ryb3koKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgY29uc29sZS5sb2coJ3RoZW4nKVxuICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZygncmVxdWVzdCBmYWlsZWQnLCBlcnJvcilcbiAgICB9KTtcblxuICAgIC8vIHNlY29uZCBtb2RlbFxuICAgIGxldCB2aWV3bW9kZWwgPSBuZXcgVmlld01vZGVsKCk7XG4gICAgdmlld21vZGVsLnNldCgnc2luZ2xlJywgJ3VwZGF0ZWQgdmlhIHZpZXdtb2RlbCBtb2RlbCBzZXQgZnVuY3Rpb24nKTsgLy8gc2hvdWxkIHBhc3NcbiAgICB2aWV3bW9kZWwuc2V0KCd1c2VyLm5hbWUnLCAnbXkgc2Vjb25kIGV4YW1wbGUgbmFtZScpOyAvL3Nob3VsZCBwYXNzXG4gICAgdmlld21vZGVsLnNldCgndXNlci5hZ2UnLCB7XG4gICAgICAgIGFnZTogMjJcbiAgICAgIH0pIC8vIHNob3VsZCBmYWlsXG4gICAgdmlld21vZGVsLnNldCgndXNlci5hZ2UnLCA0NDQpOyAvL3Nob3VsZCBmYWlsXG4gICAgdmlld21vZGVsLnNldCgndXNlci5hZGRyZXNzJywgNzc4NzgpOyAvL3Nob3VsZCBmYWlsXG4gICAgdmlld21vZGVsLnNldCgndXNlci5hZGRyZXNzJywgJ215IHNlY29uZCBhZGRyZXNzJyk7IC8vc2hvdWxkIHBhc3NcblxuICAgIC8vc2V0cyBkYXRhIGJpbmRpbmdcbiAgICAvLyB0aGlzLmJpbmQgPSB2aWV3bW9kZWwuZ2V0KClcbiAgICAvLyB0aGlzLmJpbmQudXNlciA9IHVzZXIuZ2V0KClcbiAgICB0aGlzLmJpbmRpbmcucmVmcmVzaCh0aGlzLmJpbmQpO1xuICB9XG5cbiAgZXhhbXBsZVJvdXRlcigpIHtcbiAgICAvLyBjaGFuZ2Ugc3RhdGUgdG8gL2xpc3RcbiAgICAvLyByb3V0ZXIuZ28oJ2hvZG9yLzEyJywge215ZGF0YToxMjM0NTU2LCBteW9iajp7bmFtZTonc2hlcmxvY2snfX0pO1xuICAgIC8vIHNldFRpbWVvdXQoKCk9PiB3aW5kb3cucm91dGVyLmdvKCdsaXN0JyksMjAwMClcbiAgfVxufVxuIiwiaW1wb3J0IExpYWlzb24gZnJvbSAnLi9MaWFpc29uJ1xuaW1wb3J0IEJpbmRpbmcgZnJvbSAnLi9CaW5kaW5nJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFeGFtcGxlMiB7XG4gIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICB0aGlzLmJpbmQgPSBuZXcgTGlhaXNvbihkYXRhKTtcbiAgICBuZXcgQmluZGluZyh0aGlzLmJpbmQpO1xuICAgICAgLy8gdGhpcy5hbm90aGVyRnVuY3Rpb24oKVxuICB9XG5cbiAgYW5vdGhlckZ1bmN0aW9uKCkge1xuICAgIC8vIGhlcmUgeW91IGhhdmUgYWNjZXNzIHRvIHRoaXMuZGF0YS51c2VyIGFuZCB0aGlzLmRhdGEucHJvZ3JhbW1pbmdfbGFuZ3VhZ2VzXG4gICAgY29uc29sZS5sb2codGhpcy5iaW5kLnN0cmluZyk7XG4gIH1cbn1cbiIsIi8vIHB1dHMgcm91dGVzIG9uIHRoZSByb3V0ZXIgY2xhc3NcblxuaW1wb3J0IFJvdXRlciBmcm9tICcuL1JvdXRlcic7XG4vLyBUT0RPOiBub3QgYXR0YWNoIHRoaXMgdG8gdGhlIGdsb2JhbCBuYW1lc3BhY2VcbndpbmRvdy5yb3V0ZXIgPSB3aW5kb3cucm91dGVyIHx8IG5ldyBSb3V0ZXIoKTtcbnJvdXRlci5zdGF0ZSh7XG4gIG5hbWU6ICcvdXNlcnMnLFxuICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlcy91c2VyaW5kZXguaHRtbCdcbn0pLnN0YXRlKHtcbiAgbmFtZTogJy91c2VyLzppZCcsXG4gIHRlbXBsYXRlVXJsOiAndGVtcGxhdGVzL3VzZXIuaHRtbCdcbn0pLnN0YXRlKHtcbiAgbmFtZTogJy91c2VyLzppZC9kZXRhaWxzJyxcbiAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZXMvdXNlcmRldGFpbHMuaHRtbCdcbn0pLnN0YXRlKHtcbiAgbmFtZTogJy91c2VyLzppZC86c3ViaWQnLFxuICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlcy91c2Vyc3ViLmh0bWwnXG59KS5zdGF0ZSh7XG4gIG5hbWU6ICcvbGlzdCcsXG4gIHRlbXBsYXRlVXJsOiAndGVtcGxhdGVzL2xpc3QuaHRtbCdcbn0pLnN0YXRlKHtcbiAgbmFtZTogJy8nLFxuICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlcy9saXN0Lmh0bWwnXG59KS5mYWxsYmFjayh7XG4gIG5hbWU6ICcvNDA0JyxcbiAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZXMvNDA0Lmh0bWwnXG59KTtcbiIsImltcG9ydCBCYXNlTW9kZWwgZnJvbSAnLi9CYXNlTW9kZWwnXG5cbmV4cG9ydCBjbGFzcyBVc2VyTW9kZWwgZXh0ZW5kcyBCYXNlTW9kZWwge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigndXNlcicsIHtcbiAgICAgIGlkOiB7XG4gICAgICAgIHZhbHVlOiA3ODk3ODcsXG4gICAgICAgIHR5cGU6ICdudW1iZXInXG4gICAgICB9LFxuICAgICAgbmFtZToge1xuICAgICAgICB2YWx1ZTogJ25hbWUnLFxuICAgICAgICB0eXBlOiAnc3RyaW5nJ1xuICAgICAgfSxcbiAgICAgIGFkZHJlc3M6IHtcbiAgICAgICAgdmFsdWU6ICcyMjFiIGJha2UnLFxuICAgICAgICB0eXBlOiAnc3RyaW5nJ1xuICAgICAgfSxcbiAgICAgIGFnZToge1xuICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgdHlwZTogJ251bWJlcidcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vZXhhbXBsZSBtb2RlbCBoZWxwZXJcbiAgdXBDYXNlKHN0cikge1xuICAgIHJldHVybiBzdHIudG9VcHBlckNhc2UoKTtcbiAgfVxufVxuIiwiaW1wb3J0IEJhc2VNb2RlbCBmcm9tICcuL0Jhc2VNb2RlbCdcblxuZXhwb3J0IGNsYXNzIFZpZXdNb2RlbCBleHRlbmRzIEJhc2VNb2RlbCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCd2aWV3Jywge1xuICAgICAgc2luZ2xlOiB7XG4gICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICB2YWx1ZTogJ2Zyb20gc2NoZW1hJ1xuICAgICAgfSxcbiAgICAgIHVzZXI6IHtcbiAgICAgICAgdHlwZTogJ29iamVjdCcsXG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgaWQ6IHtcbiAgICAgICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICAgICAgdmFsdWU6IDg4ODg4XG4gICAgICAgICAgfSxcbiAgICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgIHZhbHVlOiAnU2hlcmxvY2sgSG9sbWVzJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgYWRkcmVzczoge1xuICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgICAgICB2YWx1ZTogJzIyMWIgQmFrZXIgU3RyZWV0J1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBwcm9ncmFtbWluZ19sYW5ndWFnZXM6IHtcbiAgICAgICAgdHlwZTogJ2FycmF5JyxcbiAgICAgICAgdmFsdWU6IFsnamF2YXNjcmlwdCcsICdydWJ5J11cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
