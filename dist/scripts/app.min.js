"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function loadComponent(e,t){return new window[e](t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),BaseModel=function(){function e(t,n){_classCallCheck(this,e),this.modelName=t,this.data=n}return _createClass(e,[{key:"set",value:function(e,t){var n=this._existsInSchema(this.data,e,t);if(!n)return void console.warn('Not setting "'+e+'" in '+this.modelName+' model to "'+t+'". Doesnt exist in the schema');var r=this._checkType(this.data,e,t);return r?void this._setValue(this.data,e,t):void console.warn('Not setting "'+e+'" in '+this.modelName+' model to "'+t+'". It isnt the right type')}},{key:"get",value:function(e){return e?this._getValue(this.data,e):this._getData(this.data)}},{key:"_existsInSchema",value:function(e,t,n){return t="string"==typeof t?t.split("."):t,t.length>1&&e[t[0]]?this._existsInSchema(e[t.shift()].value,t,n):e[t[0]]?!0:!1}},{key:"_checkType",value:function(e,t,n){return t="string"==typeof t?t.split("."):t,t.length>1&&e[t[0]]?this._checkType(e[t.shift()].value,t,n):e[t[0]].type===typeof n}},{key:"_getData",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];for(var n in e)"object"===e[n].type?(t[n]={},this._getData(e[n].value,t[n])):t[n]=e[n].value;return t}},{key:"_setValue",value:function(e,t,n){t="string"==typeof t?t.split("."):t,t.length>1&&e[t[0]].value?this._setValue(e[t.shift()].value,t,n):e[t[0]].value&&(e[t[0]].value=n)}},{key:"_getValue",value:function(e,t){return t="string"==typeof t?t.split("."):t,t.length>1&&e[t[0]]?this._getValue(e[t.shift()].value,t):e[t[0]].value||""}},{key:"_checkStatus",value:function(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t}},{key:"_parseJSON",value:function(e){return e.json()}},{key:"save",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.get("id"):arguments[0],t=this.endpointPrefix+"/"+this.modelName+"/"+e,n={},r={method:"post",body:JSON.stringify(n)};return n[this.modelName]=this.get(),console.log("make post xhr call to "+t,n),fetch(t,r).then(this._checkStatus).then(this._parseJSON)}},{key:"fetch",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=arguments.length<=0||void 0===arguments[0]?this.get("id"):arguments[0],t=this.endpointPrefix+"/"+this.modelName+"/"+e,n={method:"get"};return console.log("make get xhr call to "+t),fetch(t,n).then(this._checkStatus).then(this._parseJSON)})},{key:"update",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.get("id"):arguments[0],t=this.endpointPrefix+"/"+this.modelName+"/"+e,n={};n[this.modelName]=this.get(),console.log("make update xhr call to "+t,n)}},{key:"destroy",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.get("id"):arguments[0],t=this.endpointPrefix+"/"+this.modelName+"/"+e,n={method:"delete"};return console.log("make delete xhr call to "+t),fetch(t,n).then(this._checkStatus).then(this._parseJSON)}},{key:"endpointPrefix",set:function(e){this._endpointPrefix=e},get:function(){return this._endpointPrefix||"api/vi"}}]),e}(),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();NodeList.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator];var Binding=function(){function e(t){var n=this;_classCallCheck(this,e),this.data=t,this._findBindable(),this.utils=new Utils;var r=r||{};setInterval(function(){n.utils.compare(r,n.data)===!1&&(r=JSON.parse(JSON.stringify(n.data)),n._populateBindings())},10)}return _createClass(e,[{key:"_populateBindings",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,a=document.querySelectorAll("[liaison-bind]")[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){var i=r.value,o=document.activeElement.getAttribute("liaison-bind");i===document.activeElement||i.getAttribute("liaison-bind")!==o&&null!==o||this._setElementContent(i,this._getValue(this.data,i.getAttribute("liaison-bind")))}}catch(s){t=!0,n=s}finally{try{!e&&a["return"]&&a["return"]()}finally{if(t)throw n}}}},{key:"_findBindable",value:function(){var e=this,t=!0,n=!1,r=void 0;try{for(var a,i=function(){var t=a.value;t.addEventListener("keydown",function(n){setTimeout(function(){return e._setValue(e.data,t.getAttribute("liaison-bind"),n.srcElement.value)})})},o=document.querySelectorAll("[liaison-bind]")[Symbol.iterator]();!(t=(a=o.next()).done);t=!0)i()}catch(s){n=!0,r=s}finally{try{!t&&o["return"]&&o["return"]()}finally{if(n)throw r}}}},{key:"_setElementContent",value:function(e,t){void 0!==t&&(e.innerHTML=t,e.value=t)}},{key:"_setValue",value:function(e,t,n){"string"==typeof t&&(t=t.split(".")),t.length>1&&e[t[0]]?this._setValue(e[t.shift()],t,n):"string"==typeof e[t[0]]&&(e[t[0]]=n)}},{key:"_getValue",value:function(e,t){return"string"==typeof t&&(t=t.split(".")),t.length>1&&e[t[0]]?this._getValue(e[t.shift()],t):e[t[0]]}},{key:"refresh",value:function(e){this.data=e,this._populateBindings()}}]),e}(),Liaison=function e(t){_classCallCheck(this,e);for(var n in t)n&&(this[n]=t[n])},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Router=function(){function e(){var t=this;_classCallCheck(this,e),this.utils=new Utils,this.view=document.querySelector("[liaison-view]"),this.paths=[],this.wildcards=[],setTimeout(function(){return t.go(window.location.hash.substring(1))},0),window.addEventListener("popstate",function(e){return t.go(e.state||window.location.hash.substring(1),!1)})}return _createClass(e,[{key:"state",value:function(e){return e.name.indexOf(":")>0?this.wildcards.push(e):this.paths.push(e),this}},{key:"fallback",value:function(e){this.paths.push(e),this._fallback=e}},{key:"go",value:function(e){var t=this;console.log("going to state "+e);var n=this._findRouteInPaths(e);return n?void fetch(n.templateUrl).then(function(e){return e.text()}).then(function(e){t.view.innerHTML=e}):(this.go(this._fallback.name),!1)}},{key:"_findRouteInPaths",value:function(e){var t=!0,n=!1,r=void 0;try{for(var a,i=this.paths[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;if(o.name===e)return o}}catch(s){n=!0,r=s}finally{try{!t&&i["return"]&&i["return"]()}finally{if(n)throw r}}e=e.substring(1).split("/");var l=!0,u=!1,c=void 0;try{for(var h,f=this.wildcards[Symbol.iterator]();!(l=(h=f.next()).done);l=!0){var d=h.value,p=d.name.substring(1).split("/");if(p.length===e.length)for(var v=0,g=p.length;g>v;v++)if(0===p[v].indexOf(":")){var y=p;if(y[v]=e[v],this.utils.compare(y,e))return d}}}catch(s){u=!0,c=s}finally{try{!l&&f["return"]&&f["return"]()}finally{if(u)throw c}}return!1}}]),e}(),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Utils=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"_hasher",value:function(e){var t=0,n=void 0,r=void 0,a=e.toString();for(n=0,r=a.length;r>n;n++)t=(t<<5)-t+a.charCodeAt(n)&4294967295;return t}},{key:"_object",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];for(var r in t){if("object"==typeof t[r])return this._object(e,t[r],n);hasOwnProperty.call(t,r)&&(n+=e._hasher(r+e._hasher(t[r])))}return n}},{key:"hash",value:function(e){var t={string:this._hasher,number:this._hasher,"boolean":this._hasher,object:this.object},n=typeof e;return null!==e&&t[n]?t[n](this,e)+this._hasher(n):0}},{key:"compareHashes",value:function(e,t){return this.hash(e)===this.hash(t)}},{key:"compare",value:function(e,t){return JSON.stringify(e)===JSON.stringify(t)}}]),e}(),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Example=function(){function e(t){_classCallCheck(this,e),this.bind=new Liaison(t),console.log(this.bind),this.binding=new Binding(this.bind),this.exampleBinding(),this.exampleRouter()}return _createClass(e,[{key:"exampleBinding",value:function(){var e=new UserModel;e.set("age","8777"),e.set("name","my first name on user model"),e.set("age",{age:33}),e.set("age",999),e.set("address","my address"),e.set("address",e.upCase("my second address")),e.save().then(function(){console.log("then")})["catch"](function(e){console.log("request failed",e)}),e.update(),e.fetch().then(function(){console.log("then")})["catch"](function(e){console.log("request failed",e)}),e.destroy().then(function(){console.log("then")})["catch"](function(e){console.log("request failed",e)});var t=new ViewModel;t.set("single","updated via viewmodel model set function"),t.set("user.name","my second example name"),t.set("user.age",{age:22}),t.set("user.age",444),t.set("user.address",77878),t.set("user.address","my second address"),this.binding.refresh(this.bind)}},{key:"exampleRouter",value:function(){}}]),e}(),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Example2=function(){function e(t){_classCallCheck(this,e),this.bind=new Liaison(t),this.binding=new Binding(this.bind)}return _createClass(e,[{key:"anotherFunction",value:function(){console.log(this.bind.string)}}]),e}();window.router=window.router||new Router,window.router.state({name:"/users",templateUrl:"templates/userindex.html"}).state({name:"/user/:id",templateUrl:"templates/user.html"}).state({name:"/user/:id/details",templateUrl:"templates/userdetails.html"}).state({name:"/user/:id/:subid",templateUrl:"templates/usersub.html"}).state({name:"/list",templateUrl:"templates/list.html"}).state({name:"/",templateUrl:"templates/list.html"}).fallback({name:"/404",templateUrl:"templates/404.html"});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;s=u=l=void 0,r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(o)}var u=Object.getPrototypeOf(a);if(null===u)return void 0;e=u,t=i,n=o,r=!0}},UserModel=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"user",{id:{value:789787,type:"number"},name:{value:"name",type:"string"},address:{value:"221b bake",type:"string"},age:{value:null,type:"number"}})}return _inherits(t,e),_createClass(t,[{key:"upCase",value:function(e){return e.toUpperCase()}}]),t}(BaseModel),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;s=u=l=void 0,r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(o)}var u=Object.getPrototypeOf(a);if(null===u)return void 0;e=u,t=i,n=o,r=!0}},ViewModel=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"view",{single:{type:"string",value:"from schema"},user:{type:"object",value:{id:{type:"number",value:88888},name:{type:"string",value:"Sherlock Holmes"},address:{type:"string",value:"221b Baker Street"}}},programmingLanguages:{type:"array",value:["javascript","ruby"]}})}return _inherits(t,e),t}(BaseModel);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5taW4uanMiLCJMaWFpc29uLmpzIiwiQmFzZU1vZGVsLmpzIiwiQmluZGluZy5qcyIsIlJvdXRlci5qcyIsIlV0aWxzLmpzIiwic2NyaXB0cy9FeGFtcGxlLmpzIiwic2NyaXB0cy9FeGFtcGxlMi5qcyIsInNjcmlwdHMvUm91dGVzLmpzIiwic2NyaXB0cy9Vc2VyTW9kZWwuanMiLCJzY3JpcHRzL1ZpZXdNb2RlbC5qcyJdLCJuYW1lcyI6WyJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwibG9hZENvbXBvbmVudCIsIm1vZHVsZSIsImRhdGEiLCJ3aW5kb3ciLCJfaW5oZXJpdHMiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsInZhbHVlIiwiZW51bWVyYWJsZSIsIndyaXRhYmxlIiwiY29uZmlndXJhYmxlIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImRlZmluZVByb3BlcnR5Iiwia2V5IiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiQmFzZU1vZGVsIiwibW9kZWxOYW1lIiwic2NoZW1hIiwidGhpcyIsImV4aXN0c0luU2NoZW1hIiwiX2V4aXN0c0luU2NoZW1hIiwiY29uc29sZSIsIndhcm4iLCJ0eXBlTWF0Y2hlcyIsIl9jaGVja1R5cGUiLCJfc2V0VmFsdWUiLCJhY2Nlc3MiLCJfZ2V0VmFsdWUiLCJfZ2V0RGF0YSIsIm9iaiIsInNwbGl0Iiwic2hpZnQiLCJ0eXBlIiwibmV3T2JqIiwiYXJndW1lbnRzIiwidW5kZWZpbmVkIiwiZWxlbWVudCIsInJlc3BvbnNlIiwic3RhdHVzIiwiZXJyb3IiLCJFcnJvciIsInN0YXR1c1RleHQiLCJqc29uIiwiaWQiLCJnZXQiLCJ1cmwiLCJlbmRwb2ludFByZWZpeCIsInNlbmRPYmoiLCJ4aHJQcm9wZXJ0aWVzIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJsb2ciLCJmZXRjaCIsInRoZW4iLCJfY2hlY2tTdGF0dXMiLCJfcGFyc2VKU09OIiwiX2ZldGNoIiwiYXBwbHkiLCJ0b1N0cmluZyIsInNldCIsInByZWZpeCIsIl9lbmRwb2ludFByZWZpeCIsIk5vZGVMaXN0IiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJBcnJheSIsIkJpbmRpbmciLCJfdGhpcyIsIl9maW5kQmluZGFibGUiLCJ1dGlscyIsIlV0aWxzIiwiY3VycmVudERhdGEiLCJzZXRJbnRlcnZhbCIsImNvbXBhcmUiLCJwYXJzZSIsIl9wb3B1bGF0ZUJpbmRpbmdzIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiIsIl9kaWRJdGVyYXRvckVycm9yIiwiX2l0ZXJhdG9yRXJyb3IiLCJfc3RlcCIsIl9pdGVyYXRvciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsIm5leHQiLCJkb25lIiwiZWxtIiwiYmluZE5hbWUiLCJhY3RpdmVFbGVtZW50IiwiZ2V0QXR0cmlidXRlIiwiX3NldEVsZW1lbnRDb250ZW50IiwiZXJyIiwiX3RoaXMyIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIiLCJfZGlkSXRlcmF0b3JFcnJvcjIiLCJfaXRlcmF0b3JFcnJvcjIiLCJfc3RlcDIiLCJfbG9vcCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsInNldFRpbWVvdXQiLCJzcmNFbGVtZW50IiwiX2l0ZXJhdG9yMiIsImlubmVySFRNTCIsIkxpYWlzb24iLCJkYXR1bSIsIlJvdXRlciIsInZpZXciLCJxdWVyeVNlbGVjdG9yIiwicGF0aHMiLCJ3aWxkY2FyZHMiLCJnbyIsImxvY2F0aW9uIiwiaGFzaCIsInN1YnN0cmluZyIsInN0YXRlIiwibmFtZSIsImluZGV4T2YiLCJwdXNoIiwiX2ZhbGxiYWNrIiwicm91dGUiLCJfZmluZFJvdXRlSW5QYXRocyIsInRlbXBsYXRlVXJsIiwidGV4dCIsInRlbXBsYXRlIiwicGF0aCIsIndpbGRjYXJkIiwiX3dpbGRjYXJkIiwiaW5kZXgiLCJsZW4iLCJ0ZW1wIiwidmFsIiwic3RyaW5nIiwiY2hhckNvZGVBdCIsInNlbGYiLCJyZXN1bHQiLCJwcm9wZXJ0eSIsIl9vYmplY3QiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJfaGFzaGVyIiwiaW5wdXQiLCJ0eXBlcyIsIm51bWJlciIsImJvb2xlYW4iLCJvYmplY3QiLCJpdGVtQSIsIml0ZW1CIiwiRXhhbXBsZSIsImJpbmQiLCJiaW5kaW5nIiwiZXhhbXBsZUJpbmRpbmciLCJleGFtcGxlUm91dGVyIiwidXNlciIsIlVzZXJNb2RlbCIsImFnZSIsInVwQ2FzZSIsInNhdmUiLCJ1cGRhdGUiLCJkZXN0cm95Iiwidmlld21vZGVsIiwiVmlld01vZGVsIiwicmVmcmVzaCIsIkV4YW1wbGUyIiwicm91dGVyIiwiZmFsbGJhY2siLCJfZ2V0IiwiX3giLCJfeDIiLCJfeDMiLCJfYWdhaW4iLCJyZWNlaXZlciIsImRlc2MiLCJwYXJlbnQiLCJnZXR0ZXIiLCJGdW5jdGlvbiIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImdldFByb3RvdHlwZU9mIiwiX0Jhc2VNb2RlbCIsImFkZHJlc3MiLCJzdHIiLCJ0b1VwcGVyQ2FzZSIsInNpbmdsZSIsInByb2dyYW1taW5nTGFuZ3VhZ2VzIl0sIm1hcHBpbmdzIjoiQUFDQSxZQUlBLFNBQVNBLGlCQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQW9NaEgsUUFBU0gsaUJBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUlDLFdBQVUscUNBOEloSCxRQUFTSCxpQkFBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSUMsV0FBVSxxQ0M5VWpHLFFBQVNDLGVBQWNDLEVBQVFDLEdBQzVDLE1BQU8sSUFBSUMsUUFBT0YsR0FB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QixHQUFJQyxJQUFTLEVBQXdCQSxHQUFRLENBQUUsR0FBSXpCLEdBQVNzQixFQUFJL0IsRUFBV2dDLEVBQUtHLEVBQVdGLENBQUtHLEdBQU9DLEVBQVNDLEVBQVM1SSxPQUFXd0ksR0FBUyxFQUFzQixPQUFYekIsSUFBaUJBLEVBQVM4QixTQUFTdEwsVUFBVyxJQUFJbUwsR0FBT2xMLE9BQU9zTCx5QkFBeUIvQixFQUFRVCxFQUFXLElBQWF0RyxTQUFUMEksRUFBSixDQUFpTixHQUFJLFNBQVdBLEdBQVEsTUFBT0EsR0FBSy9LLEtBQWdCLElBQUlpTCxHQUFTRixFQUFLakksR0FBSyxPQUFlVCxVQUFYNEksRUFBK0I1SSxPQUFvQjRJLEVBQU9uQyxLQUFLZ0MsR0FBcFUsR0FBSUUsR0FBU25MLE9BQU91TCxlQUFlaEMsRUFBUyxJQUFlLE9BQVg0QixFQUFtQixNQUFPM0ksT0FBb0JxSSxHQUFLTSxFQUFRTCxFQUFNaEMsRUFBVWlDLEVBQU1FLEVBQVVELEdBQVMsSVVwdkI3Y1QsVUFBUyxTQUFBaUIsR0FDVCxRQURBakIsS1Y4dkJUbkwsZ0JBQWdCbUMsS1U5dkJQZ0osR0FFVEssS0FBQTVLLE9BQUF1TCxlQUZTaEIsRUFBU3hLLFdBQUEsY0FBQXdCLE1BQUEwSCxLQUFBMUgsS0FFWixRQUNKcUssUUFDRXZKLEtBQU0sU0FDTmxDLE1BQU8sZUFFVDRKLE1BQ0UxSCxLQUFNLFNBQ05sQyxPQUNFNkMsSUFDRVgsS0FBTSxTQUNObEMsTUFBTyxPQUVUdUgsTUFDRXJGLEtBQU0sU0FDTmxDLE1BQU8sbUJBRVRzTCxTQUNFcEosS0FBTSxTQUNObEMsTUFBTyx1QkFJYjBMLHNCQUNFeEosS0FBTSxRQUNObEMsT0FBUSxhQUFjLFdWbXdCNUIsTUFsQ0FQLFdVM3ZCVzJLLEVBQVNpQixHQUFUakIsR0FBa0JuSiIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOltudWxsLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBMaWFpc29uIHtcbiAgY29uc3RydWN0b3IoZGF0YSkge1xuICAgIGZvciAoY29uc3QgZGF0dW0gaW4gZGF0YSkge1xuICAgICAgaWYgKGRhdHVtKSB7XG4gICAgICAgIHRoaXNbZGF0dW1dID0gZGF0YVtkYXR1bV07XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBsb2FkQ29tcG9uZW50KG1vZHVsZSwgZGF0YSkge1xuICByZXR1cm4gbmV3IHdpbmRvd1ttb2R1bGVdKGRhdGEpO1xufVxuIiwiLy8gVE9ETzogYWxsb3cgYSBzaGFyZWQgZnJvbnRlbmQvYmFja2VuZCBzY2hlbWEgZmlsZVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFzZU1vZGVsIHtcbiAgY29uc3RydWN0b3IobW9kZWxOYW1lLCBzY2hlbWEpIHtcbiAgICB0aGlzLm1vZGVsTmFtZSA9IG1vZGVsTmFtZTtcbiAgICB0aGlzLmRhdGEgPSBzY2hlbWE7XG4gIH1cblxuICBzZXQoa2V5LCB2YWx1ZSkge1xuICAgIGNvbnN0IGV4aXN0c0luU2NoZW1hID0gdGhpcy5fZXhpc3RzSW5TY2hlbWEodGhpcy5kYXRhLCBrZXksIHZhbHVlKTtcbiAgICBpZiAoIWV4aXN0c0luU2NoZW1hKSB7XG4gICAgICBjb25zb2xlLndhcm4oYE5vdCBzZXR0aW5nIFwiJHtrZXl9XCIgaW4gJHt0aGlzLm1vZGVsTmFtZX0gbW9kZWwgdG8gXCIke3ZhbHVlfVwiLiBEb2VzbnQgZXhpc3QgaW4gdGhlIHNjaGVtYWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0eXBlTWF0Y2hlcyA9IHRoaXMuX2NoZWNrVHlwZSh0aGlzLmRhdGEsIGtleSwgdmFsdWUpO1xuICAgIGlmICghdHlwZU1hdGNoZXMpIHtcbiAgICAgIGNvbnNvbGUud2FybihgTm90IHNldHRpbmcgXCIke2tleX1cIiBpbiAke3RoaXMubW9kZWxOYW1lfSBtb2RlbCB0byBcIiR7dmFsdWV9XCIuIEl0IGlzbnQgdGhlIHJpZ2h0IHR5cGVgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fc2V0VmFsdWUodGhpcy5kYXRhLCBrZXksIHZhbHVlKTtcbiAgfVxuXG4gIGdldChhY2Nlc3MpIHtcbiAgICBpZiAoYWNjZXNzKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZ2V0VmFsdWUodGhpcy5kYXRhLCBhY2Nlc3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5fZ2V0RGF0YSh0aGlzLmRhdGEpO1xuICAgIH1cbiAgfVxuXG4gIF9leGlzdHNJblNjaGVtYShvYmosIGFjY2VzcywgdmFsdWUpIHtcbiAgICBhY2Nlc3MgPSAodHlwZW9mKGFjY2VzcykgPT09ICdzdHJpbmcnKSA/IGFjY2Vzcy5zcGxpdCgnLicpIDogYWNjZXNzO1xuICAgIGlmIChhY2Nlc3MubGVuZ3RoID4gMSAmJiBvYmpbYWNjZXNzWzBdXSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2V4aXN0c0luU2NoZW1hKG9ialthY2Nlc3Muc2hpZnQoKV0udmFsdWUsIGFjY2VzcywgdmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gb2JqW2FjY2Vzc1swXV0gPyB0cnVlIDogZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgX2NoZWNrVHlwZShvYmosIGFjY2VzcywgdmFsdWUpIHtcbiAgICBhY2Nlc3MgPSAodHlwZW9mKGFjY2VzcykgPT09ICdzdHJpbmcnKSA/IGFjY2Vzcy5zcGxpdCgnLicpIDogYWNjZXNzO1xuICAgIGlmIChhY2Nlc3MubGVuZ3RoID4gMSAmJiBvYmpbYWNjZXNzWzBdXSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2NoZWNrVHlwZShvYmpbYWNjZXNzLnNoaWZ0KCldLnZhbHVlLCBhY2Nlc3MsIHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG9ialthY2Nlc3NbMF1dLnR5cGUgPT09IHR5cGVvZiB2YWx1ZTtcbiAgICB9XG4gIH1cblxuICBfZ2V0RGF0YShvYmosIG5ld09iaiA9IHt9KSB7XG4gICAgZm9yIChjb25zdCBlbGVtZW50IGluIG9iaikge1xuICAgICAgaWYgKG9ialtlbGVtZW50XS50eXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgICBuZXdPYmpbZWxlbWVudF0gPSB7fTtcbiAgICAgICAgdGhpcy5fZ2V0RGF0YShvYmpbZWxlbWVudF0udmFsdWUsIG5ld09ialtlbGVtZW50XSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdPYmpbZWxlbWVudF0gPSBvYmpbZWxlbWVudF0udmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXdPYmo7XG4gIH1cblxuICBfc2V0VmFsdWUob2JqLCBhY2Nlc3MsIHZhbHVlKSB7XG4gICAgYWNjZXNzID0gKHR5cGVvZihhY2Nlc3MpID09PSAnc3RyaW5nJykgPyBhY2Nlc3Muc3BsaXQoJy4nKSA6IGFjY2VzcztcbiAgICBpZiAoYWNjZXNzLmxlbmd0aCA+IDEgJiYgb2JqW2FjY2Vzc1swXV0udmFsdWUpIHtcbiAgICAgIHRoaXMuX3NldFZhbHVlKG9ialthY2Nlc3Muc2hpZnQoKV0udmFsdWUsIGFjY2VzcywgdmFsdWUpO1xuICAgIH0gZWxzZSBpZiAob2JqW2FjY2Vzc1swXV0udmFsdWUpIHtcbiAgICAgIG9ialthY2Nlc3NbMF1dLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICB9XG5cbiAgX2dldFZhbHVlKG9iaiwgYWNjZXNzKSB7XG4gICAgYWNjZXNzID0gKHR5cGVvZihhY2Nlc3MpID09PSAnc3RyaW5nJykgPyBhY2Nlc3Muc3BsaXQoJy4nKSA6IGFjY2VzcztcbiAgICBpZiAoYWNjZXNzLmxlbmd0aCA+IDEgJiYgb2JqW2FjY2Vzc1swXV0pIHtcbiAgICAgIHJldHVybiB0aGlzLl9nZXRWYWx1ZShvYmpbYWNjZXNzLnNoaWZ0KCldLnZhbHVlLCBhY2Nlc3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gb2JqW2FjY2Vzc1swXV0udmFsdWUgfHwgJyc7XG4gICAgfVxuICB9XG5cbiAgc2V0IGVuZHBvaW50UHJlZml4KHByZWZpeCkge1xuICAgIHRoaXMuX2VuZHBvaW50UHJlZml4ID0gcHJlZml4O1xuICB9XG5cbiAgZ2V0IGVuZHBvaW50UHJlZml4KCkge1xuICAgIHJldHVybiB0aGlzLl9lbmRwb2ludFByZWZpeCB8fCAnYXBpL3ZpJztcbiAgfVxuXG4gIC8vIFRPRE86IHJlZmFjdG9yIHRoaXMgdG8gaGVscGVyXG4gIF9jaGVja1N0YXR1cyhyZXNwb25zZSkge1xuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPj0gMjAwICYmIHJlc3BvbnNlLnN0YXR1cyA8IDMwMCkge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihyZXNwb25zZS5zdGF0dXNUZXh0KTtcbiAgICAgIGVycm9yLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBfcGFyc2VKU09OKHJlc3BvbnNlKSB7XG4gICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgfVxuXG4gIC8vIFRPRE86IENSVUQgb3BlcmF0aW9ucyB4aHIgY2FsbHMuIHJldHVybiBwcm9taXNlc1xuICBzYXZlKGlkID0gdGhpcy5nZXQoJ2lkJykpIHtcbiAgICBjb25zdCB1cmwgPSBgJHt0aGlzLmVuZHBvaW50UHJlZml4fS8ke3RoaXMubW9kZWxOYW1lfS8ke2lkfWA7XG4gICAgY29uc3Qgc2VuZE9iaiA9IHt9O1xuICAgIGNvbnN0IHhoclByb3BlcnRpZXMgPSB7XG4gICAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHNlbmRPYmopLFxuICAgIH07XG5cbiAgICBzZW5kT2JqW3RoaXMubW9kZWxOYW1lXSA9IHRoaXMuZ2V0KCk7XG4gICAgY29uc29sZS5sb2coYG1ha2UgcG9zdCB4aHIgY2FsbCB0byAke3VybH1gLCBzZW5kT2JqKTtcblxuICAgIHJldHVybiBmZXRjaCh1cmwsIHhoclByb3BlcnRpZXMpXG4gICAgICAudGhlbih0aGlzLl9jaGVja1N0YXR1cylcbiAgICAgIC50aGVuKHRoaXMuX3BhcnNlSlNPTik7XG4gIH1cblxuICBmZXRjaChpZCA9IHRoaXMuZ2V0KCdpZCcpKSB7XG4gICAgY29uc3QgdXJsID0gYCR7dGhpcy5lbmRwb2ludFByZWZpeH0vJHt0aGlzLm1vZGVsTmFtZX0vJHtpZH1gO1xuICAgIGNvbnN0IHhoclByb3BlcnRpZXMgPSB7XG4gICAgICBtZXRob2Q6ICdnZXQnLFxuICAgIH07XG4gICAgY29uc29sZS5sb2coYG1ha2UgZ2V0IHhociBjYWxsIHRvICR7dXJsfWApO1xuXG4gICAgcmV0dXJuIGZldGNoKHVybCwgeGhyUHJvcGVydGllcylcbiAgICAgIC50aGVuKHRoaXMuX2NoZWNrU3RhdHVzKVxuICAgICAgLnRoZW4odGhpcy5fcGFyc2VKU09OKTtcbiAgfVxuXG4gIHVwZGF0ZShpZCA9IHRoaXMuZ2V0KCdpZCcpKSB7XG4gICAgY29uc3QgdXJsID0gYCR7dGhpcy5lbmRwb2ludFByZWZpeH0vJHt0aGlzLm1vZGVsTmFtZX0vJHtpZH1gO1xuICAgIGNvbnN0IHNlbmRPYmogPSB7fTtcbiAgICBzZW5kT2JqW3RoaXMubW9kZWxOYW1lXSA9IHRoaXMuZ2V0KCk7XG4gICAgY29uc29sZS5sb2coYG1ha2UgdXBkYXRlIHhociBjYWxsIHRvICR7dXJsfWAsIHNlbmRPYmopO1xuXG4gICAgLy8gR2l0aHViJ3MgZmV0Y2ggcHJvamVjdCBkb2VzbnQgYXBwZWFyIHRvIHN1cHBvcnQgVVBEQVRFXG4gICAgLy8gVE9ETzogaW52ZXN0aWdhdGUgdGhlIGFib3ZlIHN0YXRlbWVudFxuICAgIC8vIGZldGNoKHVybCwge1xuICAgIC8vICAgbWV0aG9kOiAnVVBEQVRFJyxcbiAgICAvLyAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHNlbmRPYmopXG4gICAgLy8gfSk7XG4gIH1cblxuICBkZXN0cm95KGlkID0gdGhpcy5nZXQoJ2lkJykpIHtcbiAgICBjb25zdCB1cmwgPSBgJHt0aGlzLmVuZHBvaW50UHJlZml4fS8ke3RoaXMubW9kZWxOYW1lfS8ke2lkfWA7XG4gICAgY29uc3QgeGhyUHJvcGVydGllcyA9IHtcbiAgICAgIG1ldGhvZDogJ2RlbGV0ZScsXG4gICAgfTtcbiAgICBjb25zb2xlLmxvZyhgbWFrZSBkZWxldGUgeGhyIGNhbGwgdG8gJHt1cmx9YCk7XG5cbiAgICByZXR1cm4gZmV0Y2godXJsLCB4aHJQcm9wZXJ0aWVzKVxuICAgICAgLnRoZW4odGhpcy5fY2hlY2tTdGF0dXMpXG4gICAgICAudGhlbih0aGlzLl9wYXJzZUpTT04pO1xuICB9XG59XG4iLCIvLyBhbGxvd2luZyBmb3IuLm9mIG9mIG5vZGVsaXN0cyBmb3IgQ2hyb21lIHN1cHBvcnRcbk5vZGVMaXN0LnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gQXJyYXkucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl07XG5pbXBvcnQge1V0aWxzfSBmcm9tICcuL1V0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmluZGluZyB7XG4gIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIHRoaXMuX2ZpbmRCaW5kYWJsZSgpO1xuICAgIHRoaXMudXRpbHMgPSBuZXcgVXRpbHMoKTtcblxuICAgIGxldCBjdXJyZW50RGF0YSA9IGN1cnJlbnREYXRhIHx8IHt9O1xuXG4gICAgLy8gd2F0Y2hpbmcgdGhpcy5kYXRhIGZvciBwcm9ncmFtbWF0aWNhbCB1cGRhdGVzXG4gICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMudXRpbHMuY29tcGFyZShjdXJyZW50RGF0YSwgdGhpcy5kYXRhKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgY3VycmVudERhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuZGF0YSkpO1xuICAgICAgICB0aGlzLl9wb3B1bGF0ZUJpbmRpbmdzKCk7XG4gICAgICB9XG4gICAgfSwgMTApO1xuICB9XG5cbiAgX3BvcHVsYXRlQmluZGluZ3MoKSB7XG4gICAgZm9yIChjb25zdCBlbG0gb2YgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2xpYWlzb24tYmluZF0nKSkge1xuICAgICAgY29uc3QgYmluZE5hbWUgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50LmdldEF0dHJpYnV0ZSgnbGlhaXNvbi1iaW5kJyk7XG5cbiAgICAgIC8vIHByZXZlbnQgdGhlIGlucHV0IHlvdXJlIHR5cGluZyBpbiBmcm9tIHVwZGF0aW5nLiBwcmV2ZW50cyB0aGUgY3Vyc29yIGZyb20ganVtcGluZyB0byB0aGUgZW5kXG4gICAgICAvLyBvbmx5IHVwZGF0ZXMgYmluZGluZ3MgdGhhdCBuZWVkIHRvIGJlIHVwZGF0ZWRcbiAgICAgIGlmIChlbG0gIT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYgKGVsbS5nZXRBdHRyaWJ1dGUoJ2xpYWlzb24tYmluZCcpID09PSBiaW5kTmFtZSB8fCBiaW5kTmFtZSA9PT0gbnVsbCkpIHtcbiAgICAgICAgdGhpcy5fc2V0RWxlbWVudENvbnRlbnQoZWxtLCB0aGlzLl9nZXRWYWx1ZSh0aGlzLmRhdGEsIGVsbS5nZXRBdHRyaWJ1dGUoJ2xpYWlzb24tYmluZCcpKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX2ZpbmRCaW5kYWJsZSgpIHtcbiAgICBmb3IgKGNvbnN0IGVsbSBvZiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbbGlhaXNvbi1iaW5kXScpKSB7XG4gICAgICBlbG0uYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgICAgICAvLyBzZXR0aW1lb3V0IGFsbG93cyB0aGUga2V5ZG93biBldmVudCBnbyBnZXQgdGhlIG5ldyB2YWx1ZVxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuX3NldFZhbHVlKHRoaXMuZGF0YSwgZWxtLmdldEF0dHJpYnV0ZSgnbGlhaXNvbi1iaW5kJyksIGV2ZW50LnNyY0VsZW1lbnQudmFsdWUpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIF9zZXRFbGVtZW50Q29udGVudChlbGVtZW50LCB2YWx1ZSkge1xuICAgIC8vIGFsbG93cyBtdWx0aXBsZSBjb21wb25lbnRzXG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICBlbGVtZW50LmlubmVySFRNTCA9IHZhbHVlO1xuICAgIGVsZW1lbnQudmFsdWUgPSB2YWx1ZTtcbiAgfVxuXG4gIF9zZXRWYWx1ZShvYmosIGFjY2VzcywgdmFsdWUpIHtcbiAgICBpZiAodHlwZW9mKGFjY2VzcykgPT09ICdzdHJpbmcnKSB7XG4gICAgICBhY2Nlc3MgPSBhY2Nlc3Muc3BsaXQoJy4nKTtcbiAgICB9XG4gICAgaWYgKGFjY2Vzcy5sZW5ndGggPiAxICYmIG9ialthY2Nlc3NbMF1dKSB7XG4gICAgICB0aGlzLl9zZXRWYWx1ZShvYmpbYWNjZXNzLnNoaWZ0KCldLCBhY2Nlc3MsIHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmpbYWNjZXNzWzBdXSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIG9ialthY2Nlc3NbMF1dID0gdmFsdWU7XG4gICAgfVxuICB9XG5cbiAgX2dldFZhbHVlKG9iaiwgYWNjZXNzKSB7XG4gICAgaWYgKHR5cGVvZihhY2Nlc3MpID09PSAnc3RyaW5nJykge1xuICAgICAgYWNjZXNzID0gYWNjZXNzLnNwbGl0KCcuJyk7XG4gICAgfVxuICAgIGlmIChhY2Nlc3MubGVuZ3RoID4gMSAmJiBvYmpbYWNjZXNzWzBdXSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2dldFZhbHVlKG9ialthY2Nlc3Muc2hpZnQoKV0sIGFjY2Vzcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBvYmpbYWNjZXNzWzBdXTtcbiAgICB9XG4gIH1cblxuICByZWZyZXNoKGRhdGEpIHtcbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIHRoaXMuX3BvcHVsYXRlQmluZGluZ3MoKTtcbiAgfVxufVxuIiwiaW1wb3J0IHtVdGlsc30gZnJvbSAnLi9VdGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJvdXRlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMudXRpbHMgPSBuZXcgVXRpbHMoKTtcbiAgICB0aGlzLnZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbGlhaXNvbi12aWV3XScpO1xuICAgIHRoaXMucGF0aHMgPSBbXTtcbiAgICB0aGlzLndpbGRjYXJkcyA9IFtdO1xuICAgIC8vIGdvZXMgdG8gaGFzaCB1cmxcbiAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuZ28od2luZG93LmxvY2F0aW9uLmhhc2guc3Vic3RyaW5nKDEpKSwgMCk7XG4gICAgLy8gYWxsb3dzIGJhY2svZm9yd2FyZCBidXR0b25zXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgKGV2ZW50KSA9PiB0aGlzLmdvKGV2ZW50LnN0YXRlIHx8IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnN1YnN0cmluZygxKSwgZmFsc2UpKTtcbiAgfVxuXG4gIHN0YXRlKGRhdGEpIHtcbiAgICBpZiAoZGF0YS5uYW1lLmluZGV4T2YoJzonKSA+IDApIHtcbiAgICAgIHRoaXMud2lsZGNhcmRzLnB1c2goZGF0YSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucGF0aHMucHVzaChkYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBmYWxsYmFjayhkYXRhKSB7XG4gICAgdGhpcy5wYXRocy5wdXNoKGRhdGEpO1xuICAgIHRoaXMuX2ZhbGxiYWNrID0gZGF0YTtcbiAgfVxuXG4gIC8vIGludGVncmF0aW9uIHRlc3RzIGNvdmVyIHRoaXNcbiAgZ28ocm91dGUpIHtcbiAgICBjb25zb2xlLmxvZyhgZ29pbmcgdG8gc3RhdGUgJHtyb3V0ZX1gKTtcbiAgICBjb25zdCBvYmogPSB0aGlzLl9maW5kUm91dGVJblBhdGhzKHJvdXRlKTtcbiAgICBpZiAoIW9iaikge1xuICAgICAgdGhpcy5nbyh0aGlzLl9mYWxsYmFjay5uYW1lKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZmV0Y2gob2JqLnRlbXBsYXRlVXJsKVxuICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIHJldHVybiByZXNwb25zZS50ZXh0KCk7XG4gICAgICB9KS50aGVuKCh0ZW1wbGF0ZSkgPT4ge1xuICAgICAgICB0aGlzLnZpZXcuaW5uZXJIVE1MID0gdGVtcGxhdGU7XG4gICAgICB9KTtcbiAgfVxuXG4gIC8vIFRPRE86IGNsZWFuIHRoaXMgdXAuIHRoZXJlIGhhcyB0byBiZSBhIGJldHRlciB3YXlcbiAgX2ZpbmRSb3V0ZUluUGF0aHMocm91dGUpIHtcbiAgICBmb3IgKGNvbnN0IHBhdGggb2YgdGhpcy5wYXRocykge1xuICAgICAgaWYgKHBhdGgubmFtZSA9PT0gcm91dGUpIHJldHVybiBwYXRoO1xuICAgIH1cbiAgICByb3V0ZSA9IHJvdXRlLnN1YnN0cmluZygxKS5zcGxpdCgnLycpO1xuICAgIGZvciAoY29uc3Qgd2lsZGNhcmQgb2YgdGhpcy53aWxkY2FyZHMpIHtcbiAgICAgIGNvbnN0IF93aWxkY2FyZCA9IHdpbGRjYXJkLm5hbWUuc3Vic3RyaW5nKDEpLnNwbGl0KCcvJyk7XG4gICAgICBpZiAoX3dpbGRjYXJkLmxlbmd0aCA9PT0gcm91dGUubGVuZ3RoKSB7XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMCwgbGVuID0gX3dpbGRjYXJkLmxlbmd0aDsgaW5kZXggPCBsZW47IGluZGV4KyspIHtcbiAgICAgICAgICBpZiAoX3dpbGRjYXJkW2luZGV4XS5pbmRleE9mKCc6JykgPT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBfd2lsZGNhcmQ7XG4gICAgICAgICAgICB0ZW1wW2luZGV4XSA9IHJvdXRlW2luZGV4XTtcbiAgICAgICAgICAgIGlmICh0aGlzLnV0aWxzLmNvbXBhcmUodGVtcCwgcm91dGUpKSB7XG4gICAgICAgICAgICAgIHJldHVybiB3aWxkY2FyZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8vICogb24gcGFnZSBsb2FkLCBnZXQgdXJsIGFuZCBsb2FkIGFwcHJvcHJpYXRlIHRlbXRwbGF0ZVxuLy8gKiBvbiB1cmwgY2hhbmdlLCB1cGRhdGUgdGVtcGxhdGVcbi8vICogYWxsb3cgd2lsZGNhcmRzIGluIHBhdGhzIC90ZW1wbGF0ZS91c2VyLzppZFxuLy8gcGFzcyB2YXJpYWJsZXMgdG8gdGVtcGxhdGVcbi8vIGFsbG93IGNvbXBvbmVudCB0byBiZSBkZWNsYXJlZCBpbiByb3V0ZSBvYmplY3Rcbi8vICogZ2V0IHN0YXRlIChpZiBzdGF0ZSA9PSAnaHVob2hvaGFvJykuLi5cbi8vICogdXBkYXRlIHN0YXRlIG9uIGZvcndhcmQvYmFja1xuLy8gKiByb3V0ZXMgb24gcmVmcmVzaFxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXRpbHMge1xuICBjb25zdHJ1Y3RvcigpIHt9XG5cbiAgX2hhc2hlcih2YWwpIHtcbiAgICBsZXQgaGFzaCA9IDA7XG4gICAgbGV0IGluZGV4O1xuICAgIGxldCBsZW47XG4gICAgY29uc3Qgc3RyaW5nID0gdmFsLnRvU3RyaW5nKCk7XG4gICAgZm9yIChpbmRleCA9IDAsIGxlbiA9IHN0cmluZy5sZW5ndGg7IGluZGV4IDwgbGVuOyBpbmRleCsrKSB7XG4gICAgICBoYXNoID0gKCgoaGFzaCA8PCA1KSAtIGhhc2gpICsgc3RyaW5nLmNoYXJDb2RlQXQoaW5kZXgpKSAmIDB4RkZGRkZGRkY7XG4gICAgfVxuICAgIHJldHVybiBoYXNoO1xuICB9XG5cbiAgX29iamVjdChzZWxmLCBvYmosIHJlc3VsdCA9IDApIHtcbiAgICBmb3IgKGNvbnN0IHByb3BlcnR5IGluIG9iaikge1xuICAgICAgaWYgKHR5cGVvZiBvYmpbcHJvcGVydHldID09PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gdGhpcy5fb2JqZWN0KHNlbGYsIG9ialtwcm9wZXJ0eV0sIHJlc3VsdCk7XG4gICAgICB9XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3BlcnR5KSkge1xuICAgICAgICByZXN1bHQgKz0gc2VsZi5faGFzaGVyKHByb3BlcnR5ICsgc2VsZi5faGFzaGVyKG9ialtwcm9wZXJ0eV0pKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGhhc2goaW5wdXQpIHtcbiAgICBjb25zdCB0eXBlcyA9IHtcbiAgICAgICdzdHJpbmcnOiB0aGlzLl9oYXNoZXIsXG4gICAgICAnbnVtYmVyJzogdGhpcy5faGFzaGVyLFxuICAgICAgJ2Jvb2xlYW4nOiB0aGlzLl9oYXNoZXIsXG4gICAgICAnb2JqZWN0JzogdGhpcy5vYmplY3QsXG4gICAgfTtcbiAgICBjb25zdCB0eXBlID0gdHlwZW9mIGlucHV0O1xuXG4gICAgcmV0dXJuIGlucHV0ICE9PSBudWxsICYmIHR5cGVzW3R5cGVdID8gdHlwZXNbdHlwZV0odGhpcywgaW5wdXQpICsgdGhpcy5faGFzaGVyKHR5cGUpIDogMDtcbiAgfVxuXG4gIGNvbXBhcmVIYXNoZXMoaXRlbUEsIGl0ZW1CKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFzaChpdGVtQSkgPT09IHRoaXMuaGFzaChpdGVtQik7XG4gIH1cblxuICAvLyBmYXN0ZXIgdGhhbiBjb21wYXJlSGFzaGVzXG4gIGNvbXBhcmUoaXRlbUEsIGl0ZW1CKSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGl0ZW1BKSA9PT0gSlNPTi5zdHJpbmdpZnkoaXRlbUIpO1xuICB9XG59XG4iLCJpbXBvcnQgTGlhaXNvbiBmcm9tICcuL0xpYWlzb24nO1xuaW1wb3J0IEJpbmRpbmcgZnJvbSAnLi9CaW5kaW5nJztcbmltcG9ydCBVc2VyTW9kZWwgZnJvbSAnLi9Vc2VyTW9kZWwnO1xuaW1wb3J0IFZpZXdNb2RlbCBmcm9tICcuL1ZpZXdNb2RlbCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEV4YW1wbGUge1xuICBjb25zdHJ1Y3RvcihkYXRhKSB7XG4gICAgdGhpcy5iaW5kID0gbmV3IExpYWlzb24oZGF0YSk7XG4gICAgY29uc29sZS5sb2codGhpcy5iaW5kKTtcbiAgICB0aGlzLmJpbmRpbmcgPSBuZXcgQmluZGluZyh0aGlzLmJpbmQpO1xuICAgIHRoaXMuZXhhbXBsZUJpbmRpbmcoKTtcbiAgICB0aGlzLmV4YW1wbGVSb3V0ZXIoKTtcbiAgfVxuXG4gIGV4YW1wbGVCaW5kaW5nKCkge1xuICAgIC8vIGhlcmUgeW91IGhhdmUgYWNjZXNzIHRvIHRoaXMuYmluZC51c2VyIGFuZCB0aGlzLmJpbmQucHJvZ3JhbW1pbmdfbGFuZ3VhZ2VzXG4gICAgLy8gY29uc29sZS5sb2codGhpcy5iaW5kLnVzZXIpO1xuICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuYmluZC5wcm9ncmFtbWluZ19sYW5ndWFnZXMpO1xuXG4gICAgLy8gbW9kZWwgZXhhbXBsZXNcbiAgICBjb25zdCB1c2VyID0gbmV3IFVzZXJNb2RlbCgpO1xuICAgIHVzZXIuc2V0KCdhZ2UnLCAnODc3NycpOyAvLyBzaG91bGQgZmFpbFxuICAgIHVzZXIuc2V0KCduYW1lJywgJ215IGZpcnN0IG5hbWUgb24gdXNlciBtb2RlbCcpOyAvLyBzaG91bGQgcGFzc1xuICAgIHVzZXIuc2V0KCdhZ2UnLCB7XG4gICAgICBhZ2U6IDMzLFxuICAgIH0pOyAvLyBzaG91bGQgZmFpbFxuICAgIHVzZXIuc2V0KCdhZ2UnLCA5OTkpOyAvLyBzaG91bGQgcGFzc1xuICAgIHVzZXIuc2V0KCdhZGRyZXNzJywgJ215IGFkZHJlc3MnKTsgLy8gc2hvdWxkIHBhc3NcblxuICAgIC8vIHNldHMgZGF0YSBiaW5kaW5nXG4gICAgLy8gdGhpcy5iaW5kLnVzZXIubmFtZSA9IHVzZXIuZ2V0KCduYW1lJylcbiAgICB1c2VyLnNldCgnYWRkcmVzcycsIHVzZXIudXBDYXNlKCdteSBzZWNvbmQgYWRkcmVzcycpKTsgLy8gc2hvdWxkIHBhc3MgYW5kIHBvc3RmaXggXCIhXCIgdG8gdGhlIGFkZHJlc3NcblxuICAgIHVzZXIuc2F2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ3RoZW4nKTtcbiAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdyZXF1ZXN0IGZhaWxlZCcsIGVycm9yKTtcbiAgICB9KTtcbiAgICB1c2VyLnVwZGF0ZSgpO1xuICAgIHVzZXIuZmV0Y2goKS50aGVuKCgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCd0aGVuJyk7XG4gICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygncmVxdWVzdCBmYWlsZWQnLCBlcnJvcik7XG4gICAgfSk7XG4gICAgdXNlci5kZXN0cm95KCkudGhlbigoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygndGhlbicpO1xuICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ3JlcXVlc3QgZmFpbGVkJywgZXJyb3IpO1xuICAgIH0pO1xuXG4gICAgLy8gc2Vjb25kIG1vZGVsXG4gICAgY29uc3Qgdmlld21vZGVsID0gbmV3IFZpZXdNb2RlbCgpO1xuICAgIC8vIHNob3VsZCBwYXNzXG4gICAgdmlld21vZGVsLnNldCgnc2luZ2xlJywgJ3VwZGF0ZWQgdmlhIHZpZXdtb2RlbCBtb2RlbCBzZXQgZnVuY3Rpb24nKTtcbiAgICAvLyBzaG91bGQgcGFzc1xuICAgIHZpZXdtb2RlbC5zZXQoJ3VzZXIubmFtZScsICdteSBzZWNvbmQgZXhhbXBsZSBuYW1lJyk7XG4gICAgLy8gc2hvdWxkIGZhaWxcbiAgICB2aWV3bW9kZWwuc2V0KCd1c2VyLmFnZScsIHtcbiAgICAgIGFnZTogMjIsXG4gICAgfSk7XG4gICAgLy8gc2hvdWxkIGZhaWxcbiAgICB2aWV3bW9kZWwuc2V0KCd1c2VyLmFnZScsIDQ0NCk7XG4gICAgLy8gc2hvdWxkIGZhaWxcbiAgICB2aWV3bW9kZWwuc2V0KCd1c2VyLmFkZHJlc3MnLCA3Nzg3OCk7XG4gICAgLy8gc2hvdWxkIHBhc3NcbiAgICB2aWV3bW9kZWwuc2V0KCd1c2VyLmFkZHJlc3MnLCAnbXkgc2Vjb25kIGFkZHJlc3MnKTtcblxuICAgIC8vIHNldHMgZGF0YSBiaW5kaW5nXG4gICAgLy8gdGhpcy5iaW5kID0gdmlld21vZGVsLmdldCgpXG4gICAgLy8gdGhpcy5iaW5kLnVzZXIgPSB1c2VyLmdldCgpXG4gICAgdGhpcy5iaW5kaW5nLnJlZnJlc2godGhpcy5iaW5kKTtcbiAgfVxuXG4gIGV4YW1wbGVSb3V0ZXIoKSB7XG4gICAgLy8gY2hhbmdlIHN0YXRlIHRvIC9saXN0XG4gICAgLy8gcm91dGVyLmdvKCdob2Rvci8xMicsIHtteWRhdGE6MTIzNDU1NiwgbXlvYmo6e25hbWU6J3NoZXJsb2NrJ319KTtcbiAgICAvLyBzZXRUaW1lb3V0KCgpPT4gd2luZG93LnJvdXRlci5nbygnbGlzdCcpLDIwMDApXG4gIH1cbn1cbiIsImltcG9ydCBMaWFpc29uIGZyb20gJy4vTGlhaXNvbic7XG5pbXBvcnQgQmluZGluZyBmcm9tICcuL0JpbmRpbmcnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFeGFtcGxlMiB7XG4gIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICB0aGlzLmJpbmQgPSBuZXcgTGlhaXNvbihkYXRhKTtcbiAgICB0aGlzLmJpbmRpbmcgPSBuZXcgQmluZGluZyh0aGlzLmJpbmQpO1xuICAgICAgLy8gdGhpcy5hbm90aGVyRnVuY3Rpb24oKVxuICB9XG5cbiAgYW5vdGhlckZ1bmN0aW9uKCkge1xuICAgIC8vIGhlcmUgeW91IGhhdmUgYWNjZXNzIHRvIHRoaXMuZGF0YS51c2VyIGFuZCB0aGlzLmRhdGEucHJvZ3JhbW1pbmdfbGFuZ3VhZ2VzXG4gICAgY29uc29sZS5sb2codGhpcy5iaW5kLnN0cmluZyk7XG4gIH1cbn1cbiIsIi8vIHB1dHMgcm91dGVzIG9uIHRoZSByb3V0ZXIgY2xhc3NcblxuaW1wb3J0IFJvdXRlciBmcm9tICcuL1JvdXRlcic7XG4vLyBUT0RPOiBub3QgYXR0YWNoIHRoaXMgdG8gdGhlIGdsb2JhbCBuYW1lc3BhY2VcbndpbmRvdy5yb3V0ZXIgPSB3aW5kb3cucm91dGVyIHx8IG5ldyBSb3V0ZXIoKTtcbndpbmRvdy5yb3V0ZXIuc3RhdGUoe1xuICBuYW1lOiAnL3VzZXJzJyxcbiAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZXMvdXNlcmluZGV4Lmh0bWwnLFxufSkuc3RhdGUoe1xuICBuYW1lOiAnL3VzZXIvOmlkJyxcbiAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZXMvdXNlci5odG1sJyxcbn0pLnN0YXRlKHtcbiAgbmFtZTogJy91c2VyLzppZC9kZXRhaWxzJyxcbiAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZXMvdXNlcmRldGFpbHMuaHRtbCcsXG59KS5zdGF0ZSh7XG4gIG5hbWU6ICcvdXNlci86aWQvOnN1YmlkJyxcbiAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZXMvdXNlcnN1Yi5odG1sJyxcbn0pLnN0YXRlKHtcbiAgbmFtZTogJy9saXN0JyxcbiAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZXMvbGlzdC5odG1sJyxcbn0pLnN0YXRlKHtcbiAgbmFtZTogJy8nLFxuICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlcy9saXN0Lmh0bWwnLFxufSkuZmFsbGJhY2soe1xuICBuYW1lOiAnLzQwNCcsXG4gIHRlbXBsYXRlVXJsOiAndGVtcGxhdGVzLzQwNC5odG1sJyxcbn0pO1xuIiwiaW1wb3J0IEJhc2VNb2RlbCBmcm9tICcuL0Jhc2VNb2RlbCc7XG5cbmV4cG9ydCBjbGFzcyBVc2VyTW9kZWwgZXh0ZW5kcyBCYXNlTW9kZWwge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigndXNlcicsIHtcbiAgICAgIGlkOiB7XG4gICAgICAgIHZhbHVlOiA3ODk3ODcsXG4gICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgfSxcbiAgICAgIG5hbWU6IHtcbiAgICAgICAgdmFsdWU6ICduYW1lJyxcbiAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICB9LFxuICAgICAgYWRkcmVzczoge1xuICAgICAgICB2YWx1ZTogJzIyMWIgYmFrZScsXG4gICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgfSxcbiAgICAgIGFnZToge1xuICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgLy8gZXhhbXBsZSBtb2RlbCBoZWxwZXJcbiAgdXBDYXNlKHN0cikge1xuICAgIHJldHVybiBzdHIudG9VcHBlckNhc2UoKTtcbiAgfVxufVxuIiwiaW1wb3J0IEJhc2VNb2RlbCBmcm9tICcuL0Jhc2VNb2RlbCc7XG5cbmV4cG9ydCBjbGFzcyBWaWV3TW9kZWwgZXh0ZW5kcyBCYXNlTW9kZWwge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigndmlldycsIHtcbiAgICAgIHNpbmdsZToge1xuICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgdmFsdWU6ICdmcm9tIHNjaGVtYScsXG4gICAgICB9LFxuICAgICAgdXNlcjoge1xuICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICBpZDoge1xuICAgICAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgICAgICB2YWx1ZTogODg4ODgsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgIHZhbHVlOiAnU2hlcmxvY2sgSG9sbWVzJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFkZHJlc3M6IHtcbiAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICAgICAgdmFsdWU6ICcyMjFiIEJha2VyIFN0cmVldCcsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBwcm9ncmFtbWluZ0xhbmd1YWdlczoge1xuICAgICAgICB0eXBlOiAnYXJyYXknLFxuICAgICAgICB2YWx1ZTogWydqYXZhc2NyaXB0JywgJ3J1YnknXSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
