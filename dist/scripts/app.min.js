"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function load_component(e,t){new window[e](t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),BaseModel=function(){function e(t,n){_classCallCheck(this,e),this.modelName=t,this.data=n}return _createClass(e,[{key:"set",value:function(e,t){var n=this.existsInSchema(this.data,e,t);if(!n)return void console.warn('Not setting "'+e+'" in '+this.modelName+' model to "'+t+'" because it doesnt exist in the schema');var r=this.checkType(this.data,e,t);return r?void this.setValue(this.data,e,t):void console.warn('Not setting "'+e+'" in '+this.modelName+' model to "'+t+'" because it it isnt the right type')}},{key:"get",value:function(e){return e?this.getValue(this.data,e):this.getData(this.data)}},{key:"existsInSchema",value:function(e,t,n){return t="string"==typeof t?t.split("."):t,t.length>1&&e[t[0]]?this.existsInSchema(e[t.shift()].value,t,n):e[t[0]]?!0:!1}},{key:"checkType",value:function(e,t,n){return t="string"==typeof t?t.split("."):t,t.length>1&&e[t[0]]?this.checkType(e[t.shift()].value,t,n):e[t[0]].type===typeof n}},{key:"getData",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];for(var n in e)"object"===e[n].type?(t[n]={},this.getData(e[n].value,t[n])):t[n]=e[n].value;return t}},{key:"setValue",value:function(e,t,n){t="string"==typeof t?t.split("."):t,t.length>1&&e[t[0]].value?this.setValue(e[t.shift()].value,t,n):e[t[0]].value&&(e[t[0]].value=n)}},{key:"getValue",value:function(e,t){return t="string"==typeof t?t.split("."):t,t.length>1&&e[t[0]]?this.getValue(e[t.shift()].value,t):e[t[0]].value||""}},{key:"checkStatus",value:function(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t}},{key:"parseJSON",value:function(e){return e.json()}},{key:"save",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.get("id"):arguments[0],t=this.endpointPrefix+"/"+this.modelName+"/"+e,n={};return n[this.modelName]=this.get(),console.log("make post xhr call to "+t,n),fetch(t,{method:"post",body:JSON.stringify(n)}).then(this.checkStatus).then(this.parseJSON)}},{key:"fetch",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=arguments.length<=0||void 0===arguments[0]?this.get("id"):arguments[0],t=this.endpointPrefix+"/"+this.modelName+"/"+e;return console.log("make get xhr call to "+t),fetch(t,{method:"get"}).then(this.checkStatus).then(this.parseJSON)})},{key:"update",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.get("id"):arguments[0],t=this.endpointPrefix+"/"+this.modelName+"/"+e,n={};n[this.modelName]=this.get(),console.log("make update xhr call to "+t,n)}},{key:"destroy",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.get("id"):arguments[0],t=this.endpointPrefix+"/"+this.modelName+"/"+e;return console.log("make delete xhr call to "+t),fetch(t,{method:"delete"}).then(this.checkStatus).then(this.parseJSON)}},{key:"endpointPrefix",set:function(e){this._endpointPrefix=e},get:function(){return this._endpointPrefix||"api/vi"}}]),e}(),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();NodeList.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator];var Binding=function(){function e(t){var n=this;_classCallCheck(this,e),this.data=t,this.findBindable(),this.utils=new Utils;var r=r||{};setInterval(function(){n.utils.compareByConvert(r,n.data)===!1&&(r=JSON.parse(JSON.stringify(n.data)),n.populateBindings())},10)}return _createClass(e,[{key:"populateBindings",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,a=document.querySelectorAll("[liaison-bind]")[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){var i=r.value,o=document.activeElement.getAttribute("liaison-bind");i===document.activeElement||i.getAttribute("liaison-bind")!==o&&null!==o||this.setElementContent(i,this.getValue(this.data,i.getAttribute("liaison-bind")))}}catch(s){t=!0,n=s}finally{try{!e&&a["return"]&&a["return"]()}finally{if(t)throw n}}}},{key:"findBindable",value:function(){var e=this,t=!0,n=!1,r=void 0;try{for(var a,i=function(){var t=a.value;t.addEventListener("keydown",function(n){setTimeout(function(){return e.setValue(e.data,t.getAttribute("liaison-bind"),n.srcElement.value)})})},o=document.querySelectorAll("[liaison-bind]")[Symbol.iterator]();!(t=(a=o.next()).done);t=!0)i()}catch(s){n=!0,r=s}finally{try{!t&&o["return"]&&o["return"]()}finally{if(n)throw r}}}},{key:"setElementContent",value:function(e,t){void 0!==t&&(e.innerHTML=t,e.value=t)}},{key:"setValue",value:function(e,t,n){"string"==typeof t&&(t=t.split(".")),t.length>1&&e[t[0]]?this.setValue(e[t.shift()],t,n):"string"==typeof e[t[0]]&&(e[t[0]]=n)}},{key:"getValue",value:function(e,t){return"string"==typeof t&&(t=t.split(".")),t.length>1&&e[t[0]]?this.getValue(e[t.shift()],t):e[t[0]]}},{key:"refresh",value:function(e){this.data=e,this.populateBindings()}}]),e}(),Liaison=function e(t){_classCallCheck(this,e);var n=void 0;for(n in t)this[n]=t[n]},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Router=function(){function e(){var t=this;_classCallCheck(this,e),this.utils=new Utils,this.view=document.querySelector("[liaison-view]"),this.paths=[],this.wildcards=[],setTimeout(function(){return t.go(window.location.hash.substring(1))},0),window.addEventListener("popstate",function(e){return t.go(e.state||window.location.hash.substring(1),!1)})}return _createClass(e,[{key:"state",value:function(e){return e.name.indexOf(":")>0?this.wildcards.push(e):this.paths.push(e),this}},{key:"fallback",value:function(e){this.paths.push(e),this._fallback=e}},{key:"go",value:function(e){var t=this;console.log("going to state "+e);var n=this.findRouteInPaths(e);return n?void fetch(n.templateUrl).then(function(e){return e.text()}).then(function(e){t.view.innerHTML=e}):(this.go(this._fallback.name),!1)}},{key:"findRouteInPaths",value:function(e){var t=!0,n=!1,r=void 0;try{for(var a,i=this.paths[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;if(o.name===e)return o}}catch(s){n=!0,r=s}finally{try{!t&&i["return"]&&i["return"]()}finally{if(n)throw r}}e=e.substring(1).split("/");var l=!0,u=!1,c=void 0;try{for(var h,f=this.wildcards[Symbol.iterator]();!(l=(h=f.next()).done);l=!0){var d=h.value,p=d.name.substring(1).split("/");if(p.length===e.length)for(var v=0,y=p.length;y>v;v++)if(0===p[v].indexOf(":")){var g=p;if(g[v]=e[v],this.utils.compareByConvert(g,e))return d}}}catch(s){u=!0,c=s}finally{try{!l&&f["return"]&&f["return"]()}finally{if(u)throw c}}return!1}}]),e}(),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Utils=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"hasher",value:function(e){var t=0,n=void 0,r=void 0,a=e.toString();for(n=0,r=a.length;r>n;n++)t=(t<<5)-t+a.charCodeAt(n)&4294967295;return t}},{key:"object",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];for(var r in t){if("object"==typeof t[r])return this.object(e,t[r],n);hasOwnProperty.call(t,r)&&(n+=e.hasher(r+e.hasher(t[r])))}return n}},{key:"hash",value:function(e){var t={string:this.hasher,number:this.hasher,"boolean":this.hasher,object:this.object},n=typeof e;return null!=e&&t[n]?t[n](this,e)+this.hasher(n):0}},{key:"compare",value:function(e,t){return this.hash(e)===this.hash(t)}},{key:"compareByConvert",value:function(e,t){return JSON.stringify(e)===JSON.stringify(t)}}]),e}(),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Example=function(){function e(t){_classCallCheck(this,e),this.bind=new Liaison(t),console.log(this.bind),this.binding=new Binding(this.bind),this.exampleBinding(),this.exampleRouter()}return _createClass(e,[{key:"exampleBinding",value:function(){var e=new UserModel;e.set("age","8777"),e.set("name","my first name on user model"),e.set("age",{age:33}),e.set("age",999),e.set("address","my address"),e.set("address",e.upCase("my second address")),e.save().then(function(){console.log("then")})["catch"](function(e){console.log("request failed",e)}),e.update(),e.fetch().then(function(){console.log("then")})["catch"](function(e){console.log("request failed",e)}),e.destroy().then(function(){console.log("then")})["catch"](function(e){console.log("request failed",e)});var t=new ViewModel;t.set("single","updated via viewmodel model set function"),t.set("user.name","my second example name"),t.set("user.age",{age:22}),t.set("user.age",444),t.set("user.address",77878),t.set("user.address","my second address"),this.binding.refresh(this.bind)}},{key:"exampleRouter",value:function(){}}]),e}(),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Example2=function(){function e(t){_classCallCheck(this,e),this.bind=new Liaison(t),new Binding(this.bind)}return _createClass(e,[{key:"anotherFunction",value:function(){console.log(this.bind.string)}}]),e}();window.router=window.router||new Router,router.state({name:"/users",templateUrl:"templates/userindex.html"}).state({name:"/user/:id",templateUrl:"templates/user.html"}).state({name:"/user/:id/details",templateUrl:"templates/userdetails.html"}).state({name:"/user/:id/:subid",templateUrl:"templates/usersub.html"}).state({name:"/list",templateUrl:"templates/list.html"}).state({name:"/",templateUrl:"templates/list.html"}).fallback({name:"/404",templateUrl:"templates/404.html"});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;s=u=l=void 0,r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(o)}var u=Object.getPrototypeOf(a);if(null===u)return void 0;e=u,t=i,n=o,r=!0}},UserModel=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"user",{id:{value:789787,type:"number"},name:{value:"name",type:"string"},address:{value:"221b bake",type:"string"},age:{value:null,type:"number"}})}return _inherits(t,e),_createClass(t,[{key:"upCase",value:function(e){return e.toUpperCase()}}]),t}(BaseModel),_get=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;s=u=l=void 0,r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(o)}var u=Object.getPrototypeOf(a);if(null===u)return void 0;e=u,t=i,n=o,r=!0}},ViewModel=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"view",{single:{type:"string",value:"from schema"},user:{type:"object",value:{id:{type:"number",value:88888},name:{type:"string",value:"Sherlock Holmes"},address:{type:"string",value:"221b Baker Street"}}},programming_languages:{type:"array",value:["javascript","ruby"]}})}return _inherits(t,e),t}(BaseModel);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5taW4uanMiLCJMaWFpc29uLmpzIiwiQmFzZU1vZGVsLmpzIiwiQmluZGluZy5qcyIsIlJvdXRlci5qcyIsIlV0aWxzLmpzIiwic2NyaXB0cy9FeGFtcGxlLmpzIiwic2NyaXB0cy9FeGFtcGxlMi5qcyIsInNjcmlwdHMvUm91dGVzLmpzIiwic2NyaXB0cy9Vc2VyTW9kZWwuanMiLCJzY3JpcHRzL1ZpZXdNb2RlbC5qcyJdLCJuYW1lcyI6WyJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwibG9hZF9jb21wb25lbnQiLCJtb2R1bGUiLCJkYXRhIiwid2luZG93IiwiX2luaGVyaXRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJ2YWx1ZSIsImVudW1lcmFibGUiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiaSIsImxlbmd0aCIsImRlc2NyaXB0b3IiLCJkZWZpbmVQcm9wZXJ0eSIsImtleSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIkJhc2VNb2RlbCIsIm1vZGVsTmFtZSIsInNjaGVtYSIsInRoaXMiLCJleGlzdHNJblNjaGVtYSIsImNvbnNvbGUiLCJ3YXJuIiwidHlwZU1hdGNoZXMiLCJjaGVja1R5cGUiLCJzZXRWYWx1ZSIsImFjY2VzcyIsImdldFZhbHVlIiwiZ2V0RGF0YSIsIm9iaiIsInNwbGl0Iiwic2hpZnQiLCJ0eXBlIiwibmV3T2JqIiwiYXJndW1lbnRzIiwidW5kZWZpbmVkIiwiZWxlbWVudCIsInJlc3BvbnNlIiwic3RhdHVzIiwiZXJyb3IiLCJFcnJvciIsInN0YXR1c1RleHQiLCJqc29uIiwiaWQiLCJnZXQiLCJ1cmwiLCJlbmRwb2ludFByZWZpeCIsInNlbmRPYmoiLCJsb2ciLCJmZXRjaCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwidGhlbiIsImNoZWNrU3RhdHVzIiwicGFyc2VKU09OIiwiX2ZldGNoIiwiYXBwbHkiLCJ0b1N0cmluZyIsInNldCIsInByZWZpeCIsIl9lbmRwb2ludFByZWZpeCIsIk5vZGVMaXN0IiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJBcnJheSIsIkJpbmRpbmciLCJfdGhpcyIsImZpbmRCaW5kYWJsZSIsInV0aWxzIiwiVXRpbHMiLCJjdXJyZW50RGF0YSIsInNldEludGVydmFsIiwiY29tcGFyZUJ5Q29udmVydCIsInBhcnNlIiwicG9wdWxhdGVCaW5kaW5ncyIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24iLCJfZGlkSXRlcmF0b3JFcnJvciIsIl9pdGVyYXRvckVycm9yIiwiX3N0ZXAiLCJfaXRlcmF0b3IiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJuZXh0IiwiZG9uZSIsImVsbSIsImJpbmROYW1lIiwiYWN0aXZlRWxlbWVudCIsImdldEF0dHJpYnV0ZSIsInNldEVsZW1lbnRDb250ZW50IiwiZXJyIiwiX3RoaXMyIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIiLCJfZGlkSXRlcmF0b3JFcnJvcjIiLCJfaXRlcmF0b3JFcnJvcjIiLCJfc3RlcDIiLCJfbG9vcCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwic2V0VGltZW91dCIsInNyY0VsZW1lbnQiLCJfaXRlcmF0b3IyIiwiaW5uZXJIVE1MIiwiTGlhaXNvbiIsImRhdHVtIiwiUm91dGVyIiwidmlldyIsInF1ZXJ5U2VsZWN0b3IiLCJwYXRocyIsIndpbGRjYXJkcyIsImdvIiwibG9jYXRpb24iLCJoYXNoIiwic3Vic3RyaW5nIiwiZXZlbnQiLCJzdGF0ZSIsIm5hbWUiLCJpbmRleE9mIiwicHVzaCIsIl9mYWxsYmFjayIsInJvdXRlIiwiZmluZFJvdXRlSW5QYXRocyIsInRlbXBsYXRlVXJsIiwidGV4dCIsInRlbXBsYXRlIiwicGF0aCIsIndpbGRjYXJkIiwiX3dpbGRjYXJkIiwibCIsInRlbXAiLCJ2YWwiLCJzdHJpbmciLCJjaGFyQ29kZUF0Iiwic2VsZiIsInJlc3VsdCIsInByb3BlcnR5Iiwib2JqZWN0IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaGFzaGVyIiwiaW5wdXQiLCJ0eXBlcyIsIm51bWJlciIsImJvb2xlYW4iLCJhIiwiYiIsIkV4YW1wbGUiLCJiaW5kIiwiYmluZGluZyIsImV4YW1wbGVCaW5kaW5nIiwiZXhhbXBsZVJvdXRlciIsInVzZXIiLCJVc2VyTW9kZWwiLCJhZ2UiLCJ1cENhc2UiLCJzYXZlIiwidXBkYXRlIiwiZGVzdHJveSIsInZpZXdtb2RlbCIsIlZpZXdNb2RlbCIsInJlZnJlc2giLCJFeGFtcGxlMiIsInJvdXRlciIsImZhbGxiYWNrIiwiX2dldCIsIl94IiwiX3gyIiwiX3gzIiwiX2FnYWluIiwicmVjZWl2ZXIiLCJkZXNjIiwicGFyZW50IiwiZ2V0dGVyIiwiRnVuY3Rpb24iLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJnZXRQcm90b3R5cGVPZiIsIl9CYXNlTW9kZWwiLCJhZGRyZXNzIiwic3RyIiwidG9VcHBlckNhc2UiLCJzaW5nbGUiLCJwcm9ncmFtbWluZ19sYW5ndWFnZXMiXSwibWFwcGluZ3MiOiJBQUNBLFlBSUEsU0FBU0EsaUJBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUlDLFdBQVUscUNBZ01oSCxRQUFTSCxpQkFBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSUMsV0FBVSxxQ0E4SWhILFFBQVNILGlCQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQzNVakcsUUFBU0MsZ0JBQWVDLEVBQVFDLEdBQzdDLEdBQUlDLFFBQU9GLEdBQVFDLEdENFZyQixRQUFTTixpQkFBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSUMsV0FBVSxxQ0ErSWhILFFBQVNILGlCQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQW1FaEgsUUFBU0gsaUJBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUlDLFdBQVUscUNBa0ZoSCxRQUFTSCxpQkFBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSUMsV0FBVSxxQ0F1RGhILFFBQVNILGlCQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQUVoSCxRQUFTSyxXQUFVQyxFQUFVQyxHQUFjLEdBQTBCLGtCQUFmQSxJQUE0QyxPQUFmQSxFQUF1QixLQUFNLElBQUlQLFdBQVUsaUVBQW9FTyxHQUFlRCxHQUFTRSxVQUFZQyxPQUFPQyxPQUFPSCxHQUFjQSxFQUFXQyxXQUFhRyxhQUFlQyxNQUFPTixFQUFVTyxZQUFZLEVBQU9DLFVBQVUsRUFBTUMsY0FBYyxLQUFlUixJQUFZRSxPQUFPTyxlQUFpQlAsT0FBT08sZUFBZVYsRUFBVUMsR0FBY0QsRUFBU1csVUFBWVYsR0EyQ2plLFFBQVNWLGlCQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQUVoSCxRQUFTSyxXQUFVQyxFQUFVQyxHQUFjLEdBQTBCLGtCQUFmQSxJQUE0QyxPQUFmQSxFQUF1QixLQUFNLElBQUlQLFdBQVUsaUVBQW9FTyxHQUFlRCxHQUFTRSxVQUFZQyxPQUFPQyxPQUFPSCxHQUFjQSxFQUFXQyxXQUFhRyxhQUFlQyxNQUFPTixFQUFVTyxZQUFZLEVBQU9DLFVBQVUsRUFBTUMsY0FBYyxLQUFlUixJQUFZRSxPQUFPTyxlQUFpQlAsT0FBT08sZUFBZVYsRUFBVUMsR0FBY0QsRUFBU1csVUFBWVYsR0E1dUJqZSxHQUFJVyxjQUFlLFdBQWUsUUFBU0MsR0FBaUJDLEVBQVFDLEdBQVMsSUFBSyxHQUFJQyxHQUFJLEVBQUdBLEVBQUlELEVBQU1FLE9BQVFELElBQUssQ0FBRSxHQUFJRSxHQUFhSCxFQUFNQyxFQUFJRSxHQUFXWCxXQUFhVyxFQUFXWCxhQUFjLEVBQU9XLEVBQVdULGNBQWUsRUFBVSxTQUFXUyxLQUFZQSxFQUFXVixVQUFXLEdBQU1MLE9BQU9nQixlQUFlTCxFQUFRSSxFQUFXRSxJQUFLRixJQUFpQixNQUFPLFVBQVV6QixFQUFhNEIsRUFBWUMsR0FBaUosTUFBOUhELElBQVlSLEVBQWlCcEIsRUFBWVMsVUFBV21CLEdBQWlCQyxHQUFhVCxFQUFpQnBCLEVBQWE2QixHQUFxQjdCLE1FRjVnQjhCLFVBQVMsV0FDakIsUUFEUUEsR0FDUEMsRUFBV0MsR0ZPckJsQyxnQkFBZ0JtQyxLRVJDSCxHQUVqQkcsS0FBS0YsVUFBWUEsRUFDakJFLEtBQUs3QixLQUFPNEIsRUYwTGQsTUEvS0FiLGNFZG1CVyxJRmVqQkgsSUFBSyxNQUNMZCxNRVZDLFNBQUNjLEVBQUtkLEdBQ1AsR0FBSXFCLEdBQWlCRCxLQUFLQyxlQUFlRCxLQUFLN0IsS0FBTXVCLEVBQUtkLEVBQ3pELEtBQUtxQixFQUVILFdBREFDLFNBQVFDLEtBQUksZ0JBQWlCVCxFQUFHLFFBQVFNLEtBQUtGLFVBQVMsY0FBY2xCLEVBQUssMENBRzNFLElBQUl3QixHQUFjSixLQUFLSyxVQUFVTCxLQUFLN0IsS0FBTXVCLEVBQUtkLEVBQ2pELE9BQUt3QixPQUlMSixNQUFLTSxTQUFTTixLQUFLN0IsS0FBTXVCLEVBQUtkLE9BSDVCc0IsU0FBUUMsS0FBSSxnQkFBaUJULEVBQUcsUUFBUU0sS0FBS0YsVUFBUyxjQUFjbEIsRUFBSywwQ0ZnQjNFYyxJQUFLLE1BQ0xkLE1FWEMsU0FBQzJCLEdBQ0YsTUFBSUEsR0FDS1AsS0FBS1EsU0FBU1IsS0FBSzdCLEtBQU1vQyxHQUV6QlAsS0FBS1MsUUFBUVQsS0FBSzdCLFNGZTNCdUIsSUFBSyxpQkFDTGQsTUVaWSxTQUFDOEIsRUFBS0gsRUFBUTNCLEdBRTFCLE1BREEyQixHQUE0QixnQkFBWEEsR0FBdUJBLEVBQU9JLE1BQU0sS0FBT0osRUFDeERBLEVBQU9oQixPQUFTLEdBQUttQixFQUFJSCxFQUFPLElBQzNCUCxLQUFLQyxlQUFlUyxFQUFJSCxFQUFPSyxTQUFTaEMsTUFBTzJCLEVBQVEzQixHQUV2RDhCLEVBQUlILEVBQU8sS0FBTSxHQUFPLEtGZ0JqQ2IsSUFBSyxZQUNMZCxNRWJPLFNBQUM4QixFQUFLSCxFQUFRM0IsR0FFckIsTUFEQTJCLEdBQTRCLGdCQUFYQSxHQUF1QkEsRUFBT0ksTUFBTSxLQUFPSixFQUN4REEsRUFBT2hCLE9BQVMsR0FBS21CLEVBQUlILEVBQU8sSUFDM0JQLEtBQUtLLFVBQVVLLEVBQUlILEVBQU9LLFNBQVNoQyxNQUFPMkIsRUFBUTNCLEdBRWxEOEIsRUFBSUgsRUFBTyxJQUFJTSxhQUFnQmpDLE1GaUJ4Q2MsSUFBSyxVQUNMZCxNRWRLLFNBQUM4QixHRmVKLEdFZlNJLEdBQU1DLFVBQUF4QixRQUFBLEdBQUF5QixTQUFBRCxVQUFBLE1BQUtBLFVBQUEsRUFDdEIsS0FBSyxHQUFJRSxLQUFXUCxHQUNRLFdBQXRCQSxFQUFJTyxHQUFTSixNQUNmQyxFQUFPRyxNQUNQakIsS0FBS1MsUUFBUUMsRUFBSU8sR0FBU3JDLE1BQU9rQyxFQUFPRyxLQUV4Q0gsRUFBT0csR0FBV1AsRUFBSU8sR0FBU3JDLEtBR25DLE9BQU9rQyxNRm1CUHBCLElBQUssV0FDTGQsTUVqQk0sU0FBQzhCLEVBQUtILEVBQVEzQixHQUNwQjJCLEVBQTRCLGdCQUFYQSxHQUF1QkEsRUFBT0ksTUFBTSxLQUFPSixFQUN4REEsRUFBT2hCLE9BQVMsR0FBS21CLEVBQUlILEVBQU8sSUFBSTNCLE1BQ3RDb0IsS0FBS00sU0FBU0ksRUFBSUgsRUFBT0ssU0FBU2hDLE1BQU8yQixFQUFRM0IsR0FDeEM4QixFQUFJSCxFQUFPLElBQUkzQixRQUN4QjhCLEVBQUlILEVBQU8sSUFBSTNCLE1BQVFBLE1GcUJ6QmMsSUFBSyxXQUNMZCxNRWxCTSxTQUFDOEIsRUFBS0gsR0FFWixNQURBQSxHQUE0QixnQkFBWEEsR0FBdUJBLEVBQU9JLE1BQU0sS0FBT0osRUFDeERBLEVBQU9oQixPQUFTLEdBQUttQixFQUFJSCxFQUFPLElBQzNCUCxLQUFLUSxTQUFTRSxFQUFJSCxFQUFPSyxTQUFTaEMsTUFBTzJCLEdBRXpDRyxFQUFJSCxFQUFPLElBQUkzQixPQUFTLE1Gc0JqQ2MsSUFBSyxjQUdMZCxNRVpTLFNBQUNzQyxHQUNWLEdBQUlBLEVBQVNDLFFBQVUsS0FBT0QsRUFBU0MsT0FBUyxJQUM5QyxNQUFPRCxFQUVQLElBQUlFLEdBQVEsR0FBSUMsT0FBTUgsRUFBU0ksV0FFL0IsTUFEQUYsR0FBTUYsU0FBV0EsRUFDWEUsS0ZnQlIxQixJQUFLLFlBQ0xkLE1FYk8sU0FBQ3NDLEdBQ1IsTUFBT0EsR0FBU0ssVUZrQmhCN0IsSUFBSyxPQUNMZCxNRWZFLFdGZ0JBLEdFaEJDNEMsR0FBRVQsVUFBQXhCLFFBQUEsR0FBQXlCLFNBQUFELFVBQUEsR0FBR2YsS0FBS3lCLElBQUksTUFBS1YsVUFBQSxHQUNsQlcsRUFBUzFCLEtBQUsyQixlQUFjLElBQUkzQixLQUFLRixVQUFTLElBQUkwQixFQUNsREksSUFJSixPQUhBQSxHQUFRNUIsS0FBS0YsV0FBYUUsS0FBS3lCLE1BQy9CdkIsUUFBUTJCLElBQUcseUJBQTBCSCxFQUFPRSxHQUVyQ0UsTUFBTUosR0FDVEssT0FBUSxPQUNSQyxLQUFNQyxLQUFLQyxVQUFVTixLQUNwQk8sS0FBS25DLEtBQUtvQyxhQUNaRCxLQUFLbkMsS0FBS3FDLGNGbUJiM0MsSUFBSyxRQUNMZCxNQUFPLFNBQVcwRCxHQUNoQixRQUFTUixLQUNQLE1BQU9RLEdBQU9DLE1BQU12QyxLQUFNZSxXQU81QixNQUpBZSxHQUFNVSxTQUFXLFdBQ2YsTUFBT0YsR0FBT0UsWUFHVFYsR0UxQk4sV0Y0QkQsR0U1QkVOLEdBQUVULFVBQUF4QixRQUFBLEdBQUF5QixTQUFBRCxVQUFBLEdBQUdmLEtBQUt5QixJQUFJLE1BQUtWLFVBQUEsR0FDbkJXLEVBQVMxQixLQUFLMkIsZUFBYyxJQUFJM0IsS0FBS0YsVUFBUyxJQUFJMEIsQ0FHdEQsT0FGQXRCLFNBQVEyQixJQUFHLHdCQUF5QkgsR0FFN0JJLE1BQU1KLEdBQ1RLLE9BQVEsUUFDUEksS0FBS25DLEtBQUtvQyxhQUNaRCxLQUFLbkMsS0FBS3FDLGVGK0JiM0MsSUFBSyxTQUNMZCxNRTdCSSxXRjhCRixHRTlCRzRDLEdBQUVULFVBQUF4QixRQUFBLEdBQUF5QixTQUFBRCxVQUFBLEdBQUdmLEtBQUt5QixJQUFJLE1BQUtWLFVBQUEsR0FDcEJXLEVBQVMxQixLQUFLMkIsZUFBYyxJQUFJM0IsS0FBS0YsVUFBUyxJQUFJMEIsRUFDbERJLElBQ0pBLEdBQVE1QixLQUFLRixXQUFhRSxLQUFLeUIsTUFDL0J2QixRQUFRMkIsSUFBRywyQkFBNEJILEVBQU9FLE1GeUM5Q2xDLElBQUssVUFDTGQsTUVoQ0ssV0ZpQ0gsR0VqQ0k0QyxHQUFFVCxVQUFBeEIsUUFBQSxHQUFBeUIsU0FBQUQsVUFBQSxHQUFHZixLQUFLeUIsSUFBSSxNQUFLVixVQUFBLEdBQ3JCVyxFQUFTMUIsS0FBSzJCLGVBQWMsSUFBSTNCLEtBQUtGLFVBQVMsSUFBSTBCLENBR3RELE9BRkF0QixTQUFRMkIsSUFBRywyQkFBNEJILEdBRWhDSSxNQUFNSixHQUNUSyxPQUFRLFdBQ1BJLEtBQUtuQyxLQUFLb0MsYUFDWkQsS0FBS25DLEtBQUtxQyxjRm9DYjNDLElBQUssaUJBQ0wrQyxJRXpHZ0IsU0FBQ0MsR0FDakIxQyxLQUFLMkMsZ0JBQWtCRCxHRjJHdkJqQixJRXhHZ0IsV0FDaEIsTUFBT3pCLE1BQUsyQyxpQkFBbUIsYUFqRmQ5QyxLRmtNakJYLGFBQWUsV0FBZSxRQUFTQyxHQUFpQkMsRUFBUUMsR0FBUyxJQUFLLEdBQUlDLEdBQUksRUFBR0EsRUFBSUQsRUFBTUUsT0FBUUQsSUFBSyxDQUFFLEdBQUlFLEdBQWFILEVBQU1DLEVBQUlFLEdBQVdYLFdBQWFXLEVBQVdYLGFBQWMsRUFBT1csRUFBV1QsY0FBZSxFQUFVLFNBQVdTLEtBQVlBLEVBQVdWLFVBQVcsR0FBTUwsT0FBT2dCLGVBQWVMLEVBQVFJLEVBQVdFLElBQUtGLElBQWlCLE1BQU8sVUFBVXpCLEVBQWE0QixFQUFZQyxHQUFpSixNQUE5SEQsSUFBWVIsRUFBaUJwQixFQUFZUyxVQUFXbUIsR0FBaUJDLEdBQWFULEVBQWlCcEIsRUFBYTZCLEdBQXFCN0IsS0dsTWppQjZFLFVBQVNwRSxVQUFVcUUsT0FBT0MsVUFBWUMsTUFBTXZFLFVBQVVxRSxPQUFPQyxTSHdNN0QsSUdyTXFCRSxTQUFPLFdBQ2YsUUFEUUEsR0FDUDdFLEdIc01WLEdBQUk4RSxHQUFRakQsSUFFWm5DLGlCQUFnQm1DLEtHek1DZ0QsR0FFakJoRCxLQUFLN0IsS0FBT0EsRUFDWjZCLEtBQUtrRCxlQUNMbEQsS0FBS21ELE1BQVEsR0FBSUMsTUFFakIsSUFBSUMsR0FBY0EsS0FHbEJDLGFBQVksV0FDTkwsRUFBS0UsTUFBTUksaUJBQWlCRixFQUFhSixFQUFLOUUsU0FBVSxJQUMxRGtGLEVBQWNwQixLQUFLdUIsTUFBTXZCLEtBQUtDLFVBQVVlLEVBQUs5RSxPQUM3QzhFLEVBQUtRLHFCQUVOLElINlRMLE1BakhBdkUsY0cxTm1COEQsSUgyTmpCdEQsSUFBSyxtQkFDTGQsTUczTWMsV0g0TVosR0FBSThFLElBQTRCLEVBQzVCQyxHQUFvQixFQUNwQkMsRUFBaUI1QyxNQUVyQixLRy9NRixJQUFBLEdBQTJENkMsR0FBM0RDLEVBQWdCQyxTQUFTQyxpQkFBaUIsa0JBQWlCbkIsT0FBQUMsY0FBQVksR0FBQUcsRUFBQUMsRUFBQUcsUUFBQUMsTUFBQVIsR0FBQSxFQUFFLENIaU52RCxHR2pOR1MsR0FBR04sRUFBQWpGLE1BQ053RixFQUFXTCxTQUFTTSxjQUFjQyxhQUFhLGVBSS9DSCxLQUFRSixTQUFTTSxlQUFrQkYsRUFBSUcsYUFBYSxrQkFBb0JGLEdBQXlCLE9BQWJBLEdBQ3RGcEUsS0FBS3VFLGtCQUFrQkosRUFBS25FLEtBQUtRLFNBQVNSLEtBQUs3QixLQUFNZ0csRUFBSUcsYUFBYSxtQkhxTnRFLE1BQU9FLEdBQ1BiLEdBQW9CLEVBQ3BCQyxFQUFpQlksRUFDakIsUUFDQSxLQUNPZCxHQUE2QkksRUFBVSxXQUMxQ0EsRUFBVSxZQUVaLFFBQ0EsR0FBSUgsRUFDRixLQUFNQyxRQU1kbEUsSUFBSyxlQUNMZCxNR2pPVSxXSGtPUixHQUFJNkYsR0FBU3pFLEtBRVQwRSxHQUE2QixFQUM3QkMsR0FBcUIsRUFDckJDLEVBQWtCNUQsTUFFdEIsS0d2T0YsSUFBQSxHQUEyRDZELEdId09uREMsRUFBUSxXQUNWLEdHek9HWCxHQUFHVSxFQUFBakcsS0FDVnVGLEdBQUlZLGlCQUFpQixVQUFXLFNBQUNDLEdBRS9CQyxXQUFXLFdIMk9MLE1HM09XUixHQUFLbkUsU0FBU21FLEVBQUt0RyxLQUFNZ0csRUFBSUcsYUFBYSxnQkFBaUJVLEVBQUVFLFdBQVd0RyxZQUg3RnVHLEVBQWdCcEIsU0FBU0MsaUJBQWlCLGtCQUFpQm5CLE9BQUFDLGNBQUE0QixHQUFBRyxFQUFBTSxFQUFBbEIsUUFBQUMsTUFBQVEsR0FBQSxFSG9QckRJLElBRUYsTUFBT04sR0FDUEcsR0FBcUIsRUFDckJDLEVBQWtCSixFQUNsQixRQUNBLEtBQ09FLEdBQThCUyxFQUFXLFdBQzVDQSxFQUFXLFlBRWIsUUFDQSxHQUFJUixFQUNGLEtBQU1DLFFBTWRsRixJQUFLLG9CQUNMZCxNRy9QZSxTQUFDcUMsRUFBU3JDLEdBRVhvQyxTQUFWcEMsSUFDSnFDLEVBQVFtRSxVQUFZeEcsRUFDcEJxQyxFQUFRckMsTUFBUUEsTUhrUWhCYyxJQUFLLFdBQ0xkLE1HaFFNLFNBQUM4QixFQUFLSCxFQUFRM0IsR0FDRSxnQkFBWDJCLEtBQ1RBLEVBQVNBLEVBQU9JLE1BQU0sTUFFcEJKLEVBQU9oQixPQUFTLEdBQUttQixFQUFJSCxFQUFPLElBQ2xDUCxLQUFLTSxTQUFTSSxFQUFJSCxFQUFPSyxTQUFVTCxFQUFRM0IsR0FDUixnQkFBbkI4QixHQUFJSCxFQUFPLE1BQzNCRyxFQUFJSCxFQUFPLElBQU0zQixNSG9RbkJjLElBQUssV0FDTGQsTUdqUU0sU0FBQzhCLEVBQUtILEdBSVosTUFIc0IsZ0JBQVhBLEtBQ1RBLEVBQVNBLEVBQU9JLE1BQU0sTUFFcEJKLEVBQU9oQixPQUFTLEdBQUttQixFQUFJSCxFQUFPLElBQzNCUCxLQUFLUSxTQUFTRSxFQUFJSCxFQUFPSyxTQUFVTCxHQUVuQ0csRUFBSUgsRUFBTyxPSHFRcEJiLElBQUssVUFDTGQsTUdsUUssU0FBQ1QsR0FDTjZCLEtBQUs3QixLQUFPQSxFQUNaNkIsS0FBS3lELHVCQXJFWVQsS0ZKQXFDLFFBQ1IsUUFEUUEsR0FDUGxILEdEcVZaTixnQkFBZ0JtQyxLQ3RWR3FGLEVBRWpCLElBQUlDLEdBQUt0RSxNQUNULEtBQUtzRSxJQUFTbkgsR0FDWjZCLEtBQUtzRixHQUFTbkgsRUFBS21ILElEK1ZyQnBHLGFBQWUsV0FBZSxRQUFTQyxHQUFpQkMsRUFBUUMsR0FBUyxJQUFLLEdBQUlDLEdBQUksRUFBR0EsRUFBSUQsRUFBTUUsT0FBUUQsSUFBSyxDQUFFLEdBQUlFLEdBQWFILEVBQU1DLEVBQUlFLEdBQVdYLFdBQWFXLEVBQVdYLGFBQWMsRUFBT1csRUFBV1QsY0FBZSxFQUFVLFNBQVdTLEtBQVlBLEVBQVdWLFVBQVcsR0FBTUwsT0FBT2dCLGVBQWVMLEVBQVFJLEVBQVdFLElBQUtGLElBQWlCLE1BQU8sVUFBVXpCLEVBQWE0QixFQUFZQyxHQUFpSixNQUE5SEQsSUFBWVIsRUFBaUJwQixFQUFZUyxVQUFXbUIsR0FBaUJDLEdBQWFULEVBQWlCcEIsRUFBYTZCLEdBQXFCN0IsTUlsVzVnQndILE9BQU0sV0FDZCxRQURRQSxLSndXakIsR0FBSXRDLEdBQVFqRCxJQUVabkMsaUJBQWdCbUMsS0kxV0N1RixHQUVqQnZGLEtBQUttRCxNQUFRLEdBQUlDLE9BQ2pCcEQsS0FBS3dGLEtBQU96QixTQUFTMEIsY0FBYyxrQkFDbkN6RixLQUFLMEYsU0FDTDFGLEtBQUsyRixhQUVMVixXQUFXLFdKMldULE1JM1dlaEMsR0FBSzJDLEdBQUd4SCxPQUFPeUgsU0FBU0MsS0FBS0MsVUFBVSxLQUFLLEdBRTdEM0gsT0FBTzJHLGlCQUFpQixXQUFZLFNBQUNpQixHSjZXbkMsTUk3VzZDL0MsR0FBSzJDLEdBQUdJLEVBQU1DLE9BQVM3SCxPQUFPeUgsU0FBU0MsS0FBS0MsVUFBVSxJQUFJLEtKb2UzRyxNQTFHQTdHLGNJblltQnFHLElKb1lqQjdGLElBQUssUUFDTGQsTUl6WEcsU0FBQ1QsR0FNSixNQUxJQSxHQUFLK0gsS0FBS0MsUUFBUSxLQUFPLEVBQzNCbkcsS0FBSzJGLFVBQVVTLEtBQUtqSSxHQUVwQjZCLEtBQUswRixNQUFNVSxLQUFLakksR0FFWDZCLFFKNFhQTixJQUFLLFdBQ0xkLE1JMVhNLFNBQUNULEdBQ1A2QixLQUFLMEYsTUFBTVUsS0FBS2pJLEdBQ2hCNkIsS0FBS3FHLFVBQVlsSSxLSitYakJ1QixJQUFLLEtBQ0xkLE1JNVhBLFNBQUMwSCxHSjZYQyxHQUFJN0IsR0FBU3pFLElJNVhmRSxTQUFRMkIsSUFBRyxrQkFBbUJ5RSxFQUM5QixJQUFJNUYsR0FBTVYsS0FBS3VHLGlCQUFpQkQsRUFDaEMsT0FBSzVGLE9BSUxvQixPQUFNcEIsRUFBSThGLGFBQ1ByRSxLQUFLLFNBQUNqQixHQUNMLE1BQU9BLEdBQVN1RixTQUNmdEUsS0FBSyxTQUFDdUUsR0FDUGpDLEVBQUtlLEtBQUtKLFVBQVlzQixLQVB4QjFHLEtBQUs0RixHQUFHNUYsS0FBS3FHLFVBQVVILE9BQ2hCLE1KeVlUeEcsSUFBSyxtQkFDTGQsTUkvWGMsU0FBQzBILEdKZ1liLEdBQUk1QyxJQUE0QixFQUM1QkMsR0FBb0IsRUFDcEJDLEVBQWlCNUMsTUFFckIsS0luWUYsSUFBQSxHQUEyQjZDLEdBQTNCQyxFQUFpQjlELEtBQUswRixNQUFLN0MsT0FBQUMsY0FBQVksR0FBQUcsRUFBQUMsRUFBQUcsUUFBQUMsTUFBQVIsR0FBQSxFQUFFLENKcVl2QixHSXJZR2lELEdBQUk5QyxFQUFBakYsS0FDWCxJQUFJK0gsRUFBS1QsT0FBU0ksRUFBTyxNQUFPSyxJSndZOUIsTUFBT25DLEdBQ1BiLEdBQW9CLEVBQ3BCQyxFQUFpQlksRUFDakIsUUFDQSxLQUNPZCxHQUE2QkksRUFBVSxXQUMxQ0EsRUFBVSxZQUVaLFFBQ0EsR0FBSUgsRUFDRixLQUFNQyxJSWhaZDBDLEVBQVFBLEVBQU1QLFVBQVUsR0FBR3BGLE1BQU0sSUpzWi9CLElBQUkrRCxJQUE2QixFQUM3QkMsR0FBcUIsRUFDckJDLEVBQWtCNUQsTUFFdEIsS0l6WkYsSUFBQSxHQUFtQzZELEdBQW5DTSxFQUFxQm5GLEtBQUsyRixVQUFTOUMsT0FBQUMsY0FBQTRCLEdBQUFHLEVBQUFNLEVBQUFsQixRQUFBQyxNQUFBUSxHQUFBLEVBQUUsQ0oyWi9CLEdJM1pHa0MsR0FBUS9CLEVBQUFqRyxNQUNYaUksRUFBWUQsRUFBU1YsS0FBS0gsVUFBVSxHQUFHcEYsTUFBTSxJQUNqRCxJQUFJa0csRUFBVXRILFNBQVcrRyxFQUFNL0csT0FDN0IsSUFBSyxHQUFJRCxHQUFJLEVBQUd3SCxFQUFJRCxFQUFVdEgsT0FBWXVILEVBQUp4SCxFQUFPQSxJQUMzQyxHQUFrQyxJQUE5QnVILEVBQVV2SCxHQUFHNkcsUUFBUSxLQUFZLENBQ25DLEdBQUlZLEdBQU9GLENBRVgsSUFEQUUsRUFBS3pILEdBQUtnSCxFQUFNaEgsR0FDWlUsS0FBS21ELE1BQU1JLGlCQUFpQndELEVBQU1ULEdBQ3BDLE1BQU9NLEtKa2FiLE1BQU9wQyxHQUNQRyxHQUFxQixFQUNyQkMsRUFBa0JKLEVBQ2xCLFFBQ0EsS0FDT0UsR0FBOEJTLEVBQVcsV0FDNUNBLEVBQVcsWUFFYixRQUNBLEdBQUlSLEVBQ0YsS0FBTUMsSUl0YWQsT0FBTyxNQTlEVVcsS0ppZmpCckcsYUFBZSxXQUFlLFFBQVNDLEdBQWlCQyxFQUFRQyxHQUFTLElBQUssR0FBSUMsR0FBSSxFQUFHQSxFQUFJRCxFQUFNRSxPQUFRRCxJQUFLLENBQUUsR0FBSUUsR0FBYUgsRUFBTUMsRUFBSUUsR0FBV1gsV0FBYVcsRUFBV1gsYUFBYyxFQUFPVyxFQUFXVCxjQUFlLEVBQVUsU0FBV1MsS0FBWUEsRUFBV1YsVUFBVyxHQUFNTCxPQUFPZ0IsZUFBZUwsRUFBUUksRUFBV0UsSUFBS0YsSUFBaUIsTUFBTyxVQUFVekIsRUFBYTRCLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZUixFQUFpQnBCLEVBQVlTLFVBQVdtQixHQUFpQkMsR0FBYVQsRUFBaUJwQixFQUFhNkIsR0FBcUI3QixNS2xmNWdCcUYsTUFBSyxXQUNiLFFBRFFBLEtMd2ZqQnZGLGdCQUFnQm1DLEtLeGZDb0QsR0xpakJuQixNQXREQWxFLGNLM2ZtQmtFLElMNGZqQjFELElBQUssU0FDTGQsTUsxZkksU0FBQ29JLEdBQ0wsR0FBSWxCLEdBQU8sRUFDVHhHLEVBQUMwQixPQUNEOEYsRUFBQzlGLE9BQ0RpRyxFQUFTRCxFQUFJeEUsVUFDZixLQUFLbEQsRUFBSSxFQUFHd0gsRUFBSUcsRUFBTzFILE9BQVl1SCxFQUFKeEgsRUFBT0EsSUFDcEN3RyxHQUFVQSxHQUFRLEdBQUtBLEVBQVFtQixFQUFPQyxXQUFXNUgsR0FBTSxVQUV6RCxPQUFPd0csTUw2ZlBwRyxJQUFLLFNBQ0xkLE1LM2ZJLFNBQUN1SSxFQUFNekcsR0w0ZlQsR0s1ZmMwRyxHQUFNckcsVUFBQXhCLFFBQUEsR0FBQXlCLFNBQUFELFVBQUEsR0FBRyxFQUFDQSxVQUFBLEVBQzFCLEtBQUssR0FBSXNHLEtBQVkzRyxHQUFLLENBQ3hCLEdBQTZCLGdCQUFsQkEsR0FBSTJHLEdBQ2IsTUFBT3JILE1BQUtzSCxPQUFPSCxFQUFNekcsRUFBSTJHLEdBQVdELEVBRXRDRyxnQkFBZUMsS0FBSzlHLEVBQUsyRyxLQUMzQkQsR0FBVUQsRUFBS00sT0FBT0osRUFBV0YsRUFBS00sT0FBTy9HLEVBQUkyRyxNQUdyRCxNQUFPRCxNTGdnQlAxSCxJQUFLLE9BQ0xkLE1LOWZFLFNBQUM4SSxHQUNILEdBQUlDLElBQ0ZWLE9BQVVqSCxLQUFLeUgsT0FDZkcsT0FBVTVILEtBQUt5SCxPQUNmSSxVQUFXN0gsS0FBS3lILE9BQ2hCSCxPQUFVdEgsS0FBS3NILFFBRWJ6RyxRQUFjNkcsRUFFbEIsT0FBZ0IsT0FBVEEsR0FBaUJDLEVBQU05RyxHQUFROEcsRUFBTTlHLEdBQU1iLEtBQU0wSCxHQUFTMUgsS0FBS3lILE9BQU81RyxHQUFRLEtMaWdCckZuQixJQUFLLFVBQ0xkLE1LL2ZLLFNBQUNrSixFQUFHQyxHQUNULE1BQU8vSCxNQUFLOEYsS0FBS2dDLEtBQU85SCxLQUFLOEYsS0FBS2lDLE1Mb2dCbENySSxJQUFLLG1CQUNMZCxNS2pnQmMsU0FBQ2tKLEVBQUdDLEdBQ2xCLE1BQU85RixNQUFLQyxVQUFVNEYsS0FBTzdGLEtBQUtDLFVBQVU2RixPQTVDM0IzRSxLTHFqQmpCbEUsYUFBZSxXQUFlLFFBQVNDLEdBQWlCQyxFQUFRQyxHQUFTLElBQUssR0FBSUMsR0FBSSxFQUFHQSxFQUFJRCxFQUFNRSxPQUFRRCxJQUFLLENBQUUsR0FBSUUsR0FBYUgsRUFBTUMsRUFBSUUsR0FBV1gsV0FBYVcsRUFBV1gsYUFBYyxFQUFPVyxFQUFXVCxjQUFlLEVBQVUsU0FBV1MsS0FBWUEsRUFBV1YsVUFBVyxHQUFNTCxPQUFPZ0IsZUFBZUwsRUFBUUksRUFBV0UsSUFBS0YsSUFBaUIsTUFBTyxVQUFVekIsRUFBYTRCLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZUixFQUFpQnBCLEVBQVlTLFVBQVdtQixHQUFpQkMsR0FBYVQsRUFBaUJwQixFQUFhNkIsR0FBcUI3QixNTWhqQjVnQmlLLFFBQU8sV0FDZixRQURRQSxHQUNQN0osR05xakJWTixnQkFBZ0JtQyxLTXRqQkNnSSxHQUVqQmhJLEtBQUtpSSxLQUFPLEdBQUk1QyxTQUFRbEgsR0FDeEIrQixRQUFRMkIsSUFBSTdCLEtBQUtpSSxNQUNqQmpJLEtBQUtrSSxRQUFVLEdBQUlsRixTQUFRaEQsS0FBS2lJLE1BQ2hDakksS0FBS21JLGlCQUNMbkksS0FBS29JLGdCTnduQlAsTUEvREFsSixjTS9qQm1COEksSU5na0JqQnRJLElBQUssaUJBQ0xkLE1NeGpCWSxXQU1aLEdBQUl5SixHQUFPLEdBQUlDLFVBQ2ZELEdBQUs1RixJQUFJLE1BQU8sUUFDaEI0RixFQUFLNUYsSUFBSSxPQUFRLCtCQUNqQjRGLEVBQUs1RixJQUFJLE9BQ1A4RixJQUFLLEtBRVBGLEVBQUs1RixJQUFJLE1BQU8sS0FDaEI0RixFQUFLNUYsSUFBSSxVQUFXLGNBSXBCNEYsRUFBSzVGLElBQUksVUFBVzRGLEVBQUtHLE9BQU8sc0JBRWhDSCxFQUFLSSxPQUFPdEcsS0FBSyxXQUNmakMsUUFBUTJCLElBQUksVUFDWixTQUFPLFNBQVNULEdBQ2hCbEIsUUFBUTJCLElBQUksaUJBQWtCVCxLQUVoQ2lILEVBQUtLLFNBQ0xMLEVBQUt2RyxRQUFRSyxLQUFLLFdBQ2hCakMsUUFBUTJCLElBQUksVUFDWixTQUFPLFNBQVNULEdBQ2hCbEIsUUFBUTJCLElBQUksaUJBQWtCVCxLQUVoQ2lILEVBQUtNLFVBQVV4RyxLQUFLLFdBQ2xCakMsUUFBUTJCLElBQUksVUFDWixTQUFPLFNBQVNULEdBQ2hCbEIsUUFBUTJCLElBQUksaUJBQWtCVCxJQUloQyxJQUFJd0gsR0FBWSxHQUFJQyxVQUNwQkQsR0FBVW5HLElBQUksU0FBVSw0Q0FDeEJtRyxFQUFVbkcsSUFBSSxZQUFhLDBCQUMzQm1HLEVBQVVuRyxJQUFJLFlBQ1Y4RixJQUFLLEtBRVRLLEVBQVVuRyxJQUFJLFdBQVksS0FDMUJtRyxFQUFVbkcsSUFBSSxlQUFnQixPQUM5Qm1HLEVBQVVuRyxJQUFJLGVBQWdCLHFCQUs5QnpDLEtBQUtrSSxRQUFRWSxRQUFROUksS0FBS2lJLFNOMmpCMUJ2SSxJQUFLLGdCQUNMZCxNTXpqQlcsZ0JBOURNb0osS05rb0JqQjlJLGFBQWUsV0FBZSxRQUFTQyxHQUFpQkMsRUFBUUMsR0FBUyxJQUFLLEdBQUlDLEdBQUksRUFBR0EsRUFBSUQsRUFBTUUsT0FBUUQsSUFBSyxDQUFFLEdBQUlFLEdBQWFILEVBQU1DLEVBQUlFLEdBQVdYLFdBQWFXLEVBQVdYLGFBQWMsRUFBT1csRUFBV1QsY0FBZSxFQUFVLFNBQVdTLEtBQVlBLEVBQVdWLFVBQVcsR0FBTUwsT0FBT2dCLGVBQWVMLEVBQVFJLEVBQVdFLElBQUtGLElBQWlCLE1BQU8sVUFBVXpCLEVBQWE0QixFQUFZQyxHQUFpSixNQUE5SEQsSUFBWVIsRUFBaUJwQixFQUFZUyxVQUFXbUIsR0FBaUJDLEdBQWFULEVBQWlCcEIsRUFBYTZCLEdBQXFCN0IsTU9wb0I1Z0JnTCxTQUFRLFdBQ2hCLFFBRFFBLEdBQ1A1SyxHUHlvQlZOLGdCQUFnQm1DLEtPMW9CQytJLEdBRWpCL0ksS0FBS2lJLEtBQU8sR0FBSTVDLFNBQVFsSCxHQUN4QixHQUFJNkUsU0FBUWhELEtBQUtpSSxNUHNwQm5CLE1BUkEvSSxjT2pwQm1CNkosSVBrcEJqQnJKLElBQUssa0JBQ0xkLE1PNW9CYSxXQUVic0IsUUFBUTJCLElBQUk3QixLQUFLaUksS0FBS2hCLFlBVEw4QixJQ0NyQjNLLFFBQU80SyxPQUFTNUssT0FBTzRLLFFBQVUsR0FBSXpELFFBQ3JDeUQsT0FBTy9DLE9BQ0xDLEtBQU0sU0FDTk0sWUFBYSw2QkFDWlAsT0FDREMsS0FBTSxZQUNOTSxZQUFhLHdCQUNaUCxPQUNEQyxLQUFNLG9CQUNOTSxZQUFhLCtCQUNaUCxPQUNEQyxLQUFNLG1CQUNOTSxZQUFhLDJCQUNaUCxPQUNEQyxLQUFNLFFBQ05NLFlBQWEsd0JBQ1pQLE9BQ0RDLEtBQU0sSUFDTk0sWUFBYSx3QkFDWnlDLFVBQ0QvQyxLQUFNLE9BQ05NLFlBQWEsc0JSbXFCZixJQUFJdEgsY0FBZSxXQUFlLFFBQVNDLEdBQWlCQyxFQUFRQyxHQUFTLElBQUssR0FBSUMsR0FBSSxFQUFHQSxFQUFJRCxFQUFNRSxPQUFRRCxJQUFLLENBQUUsR0FBSUUsR0FBYUgsRUFBTUMsRUFBSUUsR0FBV1gsV0FBYVcsRUFBV1gsYUFBYyxFQUFPVyxFQUFXVCxjQUFlLEVBQVUsU0FBV1MsS0FBWUEsRUFBV1YsVUFBVyxHQUFNTCxPQUFPZ0IsZUFBZUwsRUFBUUksRUFBV0UsSUFBS0YsSUFBaUIsTUFBTyxVQUFVekIsRUFBYTRCLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZUixFQUFpQnBCLEVBQVlTLFVBQVdtQixHQUFpQkMsR0FBYVQsRUFBaUJwQixFQUFhNkIsR0FBcUI3QixNQUU3aEJtTCxLQUFPLFNBQWFDLEVBQUlDLEVBQUtDLEdBQXFDLElBQTlCLEdBQUlDLElBQVMsRUFBd0JBLEdBQVEsQ0FBRSxHQUFJaEMsR0FBUzZCLEVBQUk5QixFQUFXK0IsRUFBS0csRUFBV0YsQ0FBS0csR0FBT0MsRUFBU0MsRUFBUzFJLE9BQVdzSSxHQUFTLEVBQXNCLE9BQVhoQyxJQUFpQkEsRUFBU3FDLFNBQVNuTCxVQUFXLElBQUlnTCxHQUFPL0ssT0FBT21MLHlCQUF5QnRDLEVBQVFELEVBQVcsSUFBYXJHLFNBQVR3SSxFQUFKLENBQWlOLEdBQUksU0FBV0EsR0FBUSxNQUFPQSxHQUFLNUssS0FBZ0IsSUFBSThLLEdBQVNGLEVBQUsvSCxHQUFLLE9BQWVULFVBQVgwSSxFQUErQjFJLE9BQW9CMEksRUFBT2xDLEtBQUsrQixHQUFwVSxHQUFJRSxHQUFTaEwsT0FBT29MLGVBQWV2QyxFQUFTLElBQWUsT0FBWG1DLEVBQW1CLE1BQU96SSxPQUFvQm1JLEdBQUtNLEVBQVFMLEVBQU0vQixFQUFVZ0MsRUFBTUUsRUFBVUQsR0FBUyxJUzVyQjdjaEIsVUFBUyxTQUFBd0IsR0FDVCxRQURBeEIsS1Rzc0JUekssZ0JBQWdCbUMsS1N0c0JQc0ksR0FFVFksS0FBQXpLLE9BQUFvTCxlQUZTdkIsRUFBUzlKLFdBQUEsY0FBQXdCLE1BQUF3SCxLQUFBeEgsS0FFWixRQUNKd0IsSUFDRTVDLE1BQU8sT0FDUGlDLEtBQU0sVUFFUnFGLE1BQ0V0SCxNQUFPLE9BQ1BpQyxLQUFNLFVBRVJrSixTQUNFbkwsTUFBTyxZQUNQaUMsS0FBTSxVQUVSMEgsS0FDRTNKLE1BQU8sS0FDUGlDLEtBQU0sWVRvdEJaLE1BbENBeEMsV1Nuc0JXaUssRUFBU3dCLEdUOHRCcEI1SyxhUzl0QldvSixJVCt0QlQ1SSxJQUFLLFNBQ0xkLE1TenNCSSxTQUFDb0wsR0FDTCxNQUFPQSxHQUFJQyxrQkF4QkYzQixHQUFrQnpJLFdUeXVCM0JxSixLQUFPLFNBQWFDLEVBQUlDLEVBQUtDLEdBQXFDLElBQTlCLEdBQUlDLElBQVMsRUFBd0JBLEdBQVEsQ0FBRSxHQUFJaEMsR0FBUzZCLEVBQUk5QixFQUFXK0IsRUFBS0csRUFBV0YsQ0FBS0csR0FBT0MsRUFBU0MsRUFBUzFJLE9BQVdzSSxHQUFTLEVBQXNCLE9BQVhoQyxJQUFpQkEsRUFBU3FDLFNBQVNuTCxVQUFXLElBQUlnTCxHQUFPL0ssT0FBT21MLHlCQUF5QnRDLEVBQVFELEVBQVcsSUFBYXJHLFNBQVR3SSxFQUFKLENBQWlOLEdBQUksU0FBV0EsR0FBUSxNQUFPQSxHQUFLNUssS0FBZ0IsSUFBSThLLEdBQVNGLEVBQUsvSCxHQUFLLE9BQWVULFVBQVgwSSxFQUErQjFJLE9BQW9CMEksRUFBT2xDLEtBQUsrQixHQUFwVSxHQUFJRSxHQUFTaEwsT0FBT29MLGVBQWV2QyxFQUFTLElBQWUsT0FBWG1DLEVBQW1CLE1BQU96SSxPQUFvQm1JLEdBQUtNLEVBQVFMLEVBQU0vQixFQUFVZ0MsRUFBTUUsRUFBVUQsR0FBUyxJVXp1QjdjVCxVQUFTLFNBQUFpQixHQUNULFFBREFqQixLVm12QlRoTCxnQkFBZ0JtQyxLVW52QlA2SSxHQUVUSyxLQUFBekssT0FBQW9MLGVBRlNoQixFQUFTckssV0FBQSxjQUFBd0IsTUFBQXdILEtBQUF4SCxLQUVaLFFBQ0prSyxRQUNFckosS0FBTSxTQUNOakMsTUFBTyxlQUVUeUosTUFDRXhILEtBQU0sU0FDTmpDLE9BQ0U0QyxJQUNFWCxLQUFNLFNBQ05qQyxNQUFPLE9BRVRzSCxNQUNFckYsS0FBTSxTQUNOakMsTUFBTyxtQkFFVG1MLFNBQ0VsSixLQUFNLFNBQ05qQyxNQUFPLHVCQUlidUwsdUJBQ0V0SixLQUFNLFFBQ05qQyxPQUFRLGFBQWMsV1Z3dkI1QixNQWxDQVAsV1VodkJXd0ssRUFBU2lCLEdBQVRqQixHQUFrQmhKIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6W251bGwsImV4cG9ydCBkZWZhdWx0IGNsYXNzIExpYWlzb24ge1xuICBjb25zdHJ1Y3RvcihkYXRhKSB7XG4gICAgbGV0IGRhdHVtO1xuICAgIGZvciAoZGF0dW0gaW4gZGF0YSkge1xuICAgICAgdGhpc1tkYXR1bV0gPSBkYXRhW2RhdHVtXTtcbiAgICB9XG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGxvYWRfY29tcG9uZW50KG1vZHVsZSwgZGF0YSkge1xuICBuZXcgd2luZG93W21vZHVsZV0oZGF0YSk7XG59XG4iLCIvLyBUT0RPOiBhbGxvdyBhIHNoYXJlZCBmcm9udGVuZC9iYWNrZW5kIHNjaGVtYSBmaWxlXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXNlTW9kZWwge1xuICBjb25zdHJ1Y3Rvcihtb2RlbE5hbWUsIHNjaGVtYSkge1xuICAgIHRoaXMubW9kZWxOYW1lID0gbW9kZWxOYW1lO1xuICAgIHRoaXMuZGF0YSA9IHNjaGVtYTtcbiAgfVxuXG4gIHNldChrZXksIHZhbHVlKSB7XG4gICAgbGV0IGV4aXN0c0luU2NoZW1hID0gdGhpcy5leGlzdHNJblNjaGVtYSh0aGlzLmRhdGEsIGtleSwgdmFsdWUpO1xuICAgIGlmICghZXhpc3RzSW5TY2hlbWEpIHtcbiAgICAgIGNvbnNvbGUud2FybihgTm90IHNldHRpbmcgXCIke2tleX1cIiBpbiAke3RoaXMubW9kZWxOYW1lfSBtb2RlbCB0byBcIiR7dmFsdWV9XCIgYmVjYXVzZSBpdCBkb2VzbnQgZXhpc3QgaW4gdGhlIHNjaGVtYWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgdHlwZU1hdGNoZXMgPSB0aGlzLmNoZWNrVHlwZSh0aGlzLmRhdGEsIGtleSwgdmFsdWUpXG4gICAgaWYgKCF0eXBlTWF0Y2hlcykge1xuICAgICAgY29uc29sZS53YXJuKGBOb3Qgc2V0dGluZyBcIiR7a2V5fVwiIGluICR7dGhpcy5tb2RlbE5hbWV9IG1vZGVsIHRvIFwiJHt2YWx1ZX1cIiBiZWNhdXNlIGl0IGl0IGlzbnQgdGhlIHJpZ2h0IHR5cGVgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zZXRWYWx1ZSh0aGlzLmRhdGEsIGtleSwgdmFsdWUpO1xuICB9XG5cbiAgZ2V0KGFjY2Vzcykge1xuICAgIGlmIChhY2Nlc3MpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldFZhbHVlKHRoaXMuZGF0YSwgYWNjZXNzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0RGF0YSh0aGlzLmRhdGEpO1xuICAgIH1cbiAgfVxuXG4gIGV4aXN0c0luU2NoZW1hKG9iaiwgYWNjZXNzLCB2YWx1ZSkge1xuICAgIGFjY2VzcyA9ICh0eXBlb2YoYWNjZXNzKSA9PSAnc3RyaW5nJykgPyBhY2Nlc3Muc3BsaXQoJy4nKSA6IGFjY2VzcztcbiAgICBpZiAoYWNjZXNzLmxlbmd0aCA+IDEgJiYgb2JqW2FjY2Vzc1swXV0pIHtcbiAgICAgIHJldHVybiB0aGlzLmV4aXN0c0luU2NoZW1hKG9ialthY2Nlc3Muc2hpZnQoKV0udmFsdWUsIGFjY2VzcywgdmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gb2JqW2FjY2Vzc1swXV0gPyB0cnVlIDogZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgY2hlY2tUeXBlKG9iaiwgYWNjZXNzLCB2YWx1ZSkge1xuICAgIGFjY2VzcyA9ICh0eXBlb2YoYWNjZXNzKSA9PSAnc3RyaW5nJykgPyBhY2Nlc3Muc3BsaXQoJy4nKSA6IGFjY2VzcztcbiAgICBpZiAoYWNjZXNzLmxlbmd0aCA+IDEgJiYgb2JqW2FjY2Vzc1swXV0pIHtcbiAgICAgIHJldHVybiB0aGlzLmNoZWNrVHlwZShvYmpbYWNjZXNzLnNoaWZ0KCldLnZhbHVlLCBhY2Nlc3MsIHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG9ialthY2Nlc3NbMF1dLnR5cGUgPT09IHR5cGVvZiB2YWx1ZTtcbiAgICB9XG4gIH1cblxuICBnZXREYXRhKG9iaiwgbmV3T2JqID0ge30pIHtcbiAgICBmb3IgKGxldCBlbGVtZW50IGluIG9iaikge1xuICAgICAgaWYgKG9ialtlbGVtZW50XS50eXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgICBuZXdPYmpbZWxlbWVudF0gPSB7fTtcbiAgICAgICAgdGhpcy5nZXREYXRhKG9ialtlbGVtZW50XS52YWx1ZSwgbmV3T2JqW2VsZW1lbnRdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld09ialtlbGVtZW50XSA9IG9ialtlbGVtZW50XS52YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ld09iajtcbiAgfVxuXG4gIHNldFZhbHVlKG9iaiwgYWNjZXNzLCB2YWx1ZSkge1xuICAgIGFjY2VzcyA9ICh0eXBlb2YoYWNjZXNzKSA9PSAnc3RyaW5nJykgPyBhY2Nlc3Muc3BsaXQoJy4nKSA6IGFjY2VzcztcbiAgICBpZiAoYWNjZXNzLmxlbmd0aCA+IDEgJiYgb2JqW2FjY2Vzc1swXV0udmFsdWUpIHtcbiAgICAgIHRoaXMuc2V0VmFsdWUob2JqW2FjY2Vzcy5zaGlmdCgpXS52YWx1ZSwgYWNjZXNzLCB2YWx1ZSk7XG4gICAgfSBlbHNlIGlmIChvYmpbYWNjZXNzWzBdXS52YWx1ZSkge1xuICAgICAgb2JqW2FjY2Vzc1swXV0udmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gIH1cblxuICBnZXRWYWx1ZShvYmosIGFjY2Vzcykge1xuICAgIGFjY2VzcyA9ICh0eXBlb2YoYWNjZXNzKSA9PSAnc3RyaW5nJykgPyBhY2Nlc3Muc3BsaXQoJy4nKSA6IGFjY2VzcztcbiAgICBpZiAoYWNjZXNzLmxlbmd0aCA+IDEgJiYgb2JqW2FjY2Vzc1swXV0pIHtcbiAgICAgIHJldHVybiB0aGlzLmdldFZhbHVlKG9ialthY2Nlc3Muc2hpZnQoKV0udmFsdWUsIGFjY2Vzcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBvYmpbYWNjZXNzWzBdXS52YWx1ZSB8fCAnJztcbiAgICB9XG4gIH1cblxuICBzZXQgZW5kcG9pbnRQcmVmaXgocHJlZml4KSB7XG4gICAgdGhpcy5fZW5kcG9pbnRQcmVmaXggPSBwcmVmaXg7XG4gIH1cblxuICBnZXQgZW5kcG9pbnRQcmVmaXgoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2VuZHBvaW50UHJlZml4IHx8ICdhcGkvdmknO1xuICB9XG5cbiAgLy8gVE9ETzogcmVmYWN0b3IgdGhpcyB0byBoZWxwZXJcbiAgY2hlY2tTdGF0dXMocmVzcG9uc2UpIHtcbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCAzMDApIHtcbiAgICAgIHJldHVybiByZXNwb25zZVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dClcbiAgICAgIGVycm9yLnJlc3BvbnNlID0gcmVzcG9uc2VcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9XG5cbiAgcGFyc2VKU09OKHJlc3BvbnNlKSB7XG4gICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKVxuICB9XG5cbiAgLy8gVE9ETzogQ1JVRCBvcGVyYXRpb25zIHhociBjYWxscy4gcmV0dXJuIHByb21pc2VzXG4gIHNhdmUoaWQgPSB0aGlzLmdldCgnaWQnKSkge1xuICAgIGxldCB1cmwgPSBgJHt0aGlzLmVuZHBvaW50UHJlZml4fS8ke3RoaXMubW9kZWxOYW1lfS8ke2lkfWA7XG4gICAgbGV0IHNlbmRPYmogPSB7fTtcbiAgICBzZW5kT2JqW3RoaXMubW9kZWxOYW1lXSA9IHRoaXMuZ2V0KCk7XG4gICAgY29uc29sZS5sb2coYG1ha2UgcG9zdCB4aHIgY2FsbCB0byAke3VybH1gLCBzZW5kT2JqKTtcblxuICAgIHJldHVybiBmZXRjaCh1cmwsIHtcbiAgICAgICAgbWV0aG9kOiAncG9zdCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHNlbmRPYmopXG4gICAgICB9KS50aGVuKHRoaXMuY2hlY2tTdGF0dXMpXG4gICAgICAudGhlbih0aGlzLnBhcnNlSlNPTik7XG4gIH1cblxuICBmZXRjaChpZCA9IHRoaXMuZ2V0KCdpZCcpKSB7XG4gICAgbGV0IHVybCA9IGAke3RoaXMuZW5kcG9pbnRQcmVmaXh9LyR7dGhpcy5tb2RlbE5hbWV9LyR7aWR9YDtcbiAgICBjb25zb2xlLmxvZyhgbWFrZSBnZXQgeGhyIGNhbGwgdG8gJHt1cmx9YCk7XG5cbiAgICByZXR1cm4gZmV0Y2godXJsLCB7XG4gICAgICAgIG1ldGhvZDogJ2dldCdcbiAgICAgIH0pLnRoZW4odGhpcy5jaGVja1N0YXR1cylcbiAgICAgIC50aGVuKHRoaXMucGFyc2VKU09OKTs7XG4gIH1cblxuICB1cGRhdGUoaWQgPSB0aGlzLmdldCgnaWQnKSkge1xuICAgIGxldCB1cmwgPSBgJHt0aGlzLmVuZHBvaW50UHJlZml4fS8ke3RoaXMubW9kZWxOYW1lfS8ke2lkfWA7XG4gICAgbGV0IHNlbmRPYmogPSB7fTtcbiAgICBzZW5kT2JqW3RoaXMubW9kZWxOYW1lXSA9IHRoaXMuZ2V0KCk7XG4gICAgY29uc29sZS5sb2coYG1ha2UgdXBkYXRlIHhociBjYWxsIHRvICR7dXJsfWAsIHNlbmRPYmopO1xuXG4gICAgLy8gR2l0aHViJ3MgZmV0Y2ggcHJvamVjdCBkb2VzbnQgYXBwZWFyIHRvIHN1cHBvcnQgVVBEQVRFXG4gICAgLy8gVE9ETzogaW52ZXN0aWdhdGUgdGhlIGFib3ZlIHN0YXRlbWVudFxuICAgIC8vIGZldGNoKHVybCwge1xuICAgIC8vICAgbWV0aG9kOiAnVVBEQVRFJyxcbiAgICAvLyAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHNlbmRPYmopXG4gICAgLy8gfSk7XG4gIH1cblxuICBkZXN0cm95KGlkID0gdGhpcy5nZXQoJ2lkJykpIHtcbiAgICBsZXQgdXJsID0gYCR7dGhpcy5lbmRwb2ludFByZWZpeH0vJHt0aGlzLm1vZGVsTmFtZX0vJHtpZH1gO1xuICAgIGNvbnNvbGUubG9nKGBtYWtlIGRlbGV0ZSB4aHIgY2FsbCB0byAke3VybH1gKTtcblxuICAgIHJldHVybiBmZXRjaCh1cmwsIHtcbiAgICAgICAgbWV0aG9kOiAnZGVsZXRlJ1xuICAgICAgfSkudGhlbih0aGlzLmNoZWNrU3RhdHVzKVxuICAgICAgLnRoZW4odGhpcy5wYXJzZUpTT04pO1xuICB9XG59XG4iLCIvL2FsbG93aW5nIGZvci4ub2Ygb2Ygbm9kZWxpc3RzIGZvciBDaHJvbWUgc3VwcG9ydFxuTm9kZUxpc3QucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBBcnJheS5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXTtcbmltcG9ydCBVdGlscyBmcm9tICcuL1V0aWxzJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCaW5kaW5nIHtcbiAgY29uc3RydWN0b3IoZGF0YSkge1xuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5maW5kQmluZGFibGUoKTtcbiAgICB0aGlzLnV0aWxzID0gbmV3IFV0aWxzKCk7XG5cbiAgICBsZXQgY3VycmVudERhdGEgPSBjdXJyZW50RGF0YSB8fCB7fTtcblxuICAgIC8vIHdhdGNoaW5nIHRoaXMuZGF0YSBmb3IgcHJvZ3JhbW1hdGljYWwgdXBkYXRlc1xuICAgIHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGlmICh0aGlzLnV0aWxzLmNvbXBhcmVCeUNvbnZlcnQoY3VycmVudERhdGEsIHRoaXMuZGF0YSkgPT09IGZhbHNlKSB7XG4gICAgICAgIGN1cnJlbnREYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmRhdGEpKTtcbiAgICAgICAgdGhpcy5wb3B1bGF0ZUJpbmRpbmdzKCk7XG4gICAgICB9XG4gICAgfSwgMTApO1xuICB9XG5cbiAgcG9wdWxhdGVCaW5kaW5ncygpIHtcbiAgICBmb3IgKGxldCBlbG0gb2YgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2xpYWlzb24tYmluZF0nKSkge1xuICAgICAgbGV0IGJpbmROYW1lID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2xpYWlzb24tYmluZCcpO1xuXG4gICAgICAvL3ByZXZlbnQgdGhlIGlucHV0IHlvdXJlIHR5cGluZyBpbiBmcm9tIHVwZGF0aW5nLiBwcmV2ZW50cyB0aGUgY3Vyc29yIGZyb20ganVtcGluZyB0byB0aGUgZW5kXG4gICAgICAvL29ubHkgdXBkYXRlcyBiaW5kaW5ncyB0aGF0IG5lZWQgdG8gYmUgdXBkYXRlZFxuICAgICAgaWYgKGVsbSAhPT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJiAoZWxtLmdldEF0dHJpYnV0ZSgnbGlhaXNvbi1iaW5kJykgPT09IGJpbmROYW1lIHx8IGJpbmROYW1lID09PSBudWxsKSkge1xuICAgICAgICB0aGlzLnNldEVsZW1lbnRDb250ZW50KGVsbSwgdGhpcy5nZXRWYWx1ZSh0aGlzLmRhdGEsIGVsbS5nZXRBdHRyaWJ1dGUoJ2xpYWlzb24tYmluZCcpKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZmluZEJpbmRhYmxlKCkge1xuICAgIGZvciAobGV0IGVsbSBvZiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbbGlhaXNvbi1iaW5kXScpKSB7XG4gICAgICBlbG0uYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7XG4gICAgICAgIC8vc2V0dGltZW91dCBhbGxvd3MgdGhlIGtleWRvd24gZXZlbnQgZ28gZ2V0IHRoZSBuZXcgdmFsdWVcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLnNldFZhbHVlKHRoaXMuZGF0YSwgZWxtLmdldEF0dHJpYnV0ZSgnbGlhaXNvbi1iaW5kJyksIGUuc3JjRWxlbWVudC52YWx1ZSkpXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBzZXRFbGVtZW50Q29udGVudChlbGVtZW50LCB2YWx1ZSkge1xuICAgIC8vIGFsbG93cyBtdWx0aXBsZSBjb21wb25lbnRzXG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICBlbGVtZW50LmlubmVySFRNTCA9IHZhbHVlO1xuICAgIGVsZW1lbnQudmFsdWUgPSB2YWx1ZTtcbiAgfVxuXG4gIHNldFZhbHVlKG9iaiwgYWNjZXNzLCB2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YoYWNjZXNzKSA9PSAnc3RyaW5nJykge1xuICAgICAgYWNjZXNzID0gYWNjZXNzLnNwbGl0KCcuJyk7XG4gICAgfVxuICAgIGlmIChhY2Nlc3MubGVuZ3RoID4gMSAmJiBvYmpbYWNjZXNzWzBdXSkge1xuICAgICAgdGhpcy5zZXRWYWx1ZShvYmpbYWNjZXNzLnNoaWZ0KCldLCBhY2Nlc3MsIHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmpbYWNjZXNzWzBdXSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIG9ialthY2Nlc3NbMF1dID0gdmFsdWU7XG4gICAgfVxuICB9XG5cbiAgZ2V0VmFsdWUob2JqLCBhY2Nlc3MpIHtcbiAgICBpZiAodHlwZW9mKGFjY2VzcykgPT0gJ3N0cmluZycpIHtcbiAgICAgIGFjY2VzcyA9IGFjY2Vzcy5zcGxpdCgnLicpO1xuICAgIH1cbiAgICBpZiAoYWNjZXNzLmxlbmd0aCA+IDEgJiYgb2JqW2FjY2Vzc1swXV0pIHtcbiAgICAgIHJldHVybiB0aGlzLmdldFZhbHVlKG9ialthY2Nlc3Muc2hpZnQoKV0sIGFjY2Vzcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBvYmpbYWNjZXNzWzBdXTtcbiAgICB9XG4gIH1cblxuICByZWZyZXNoKGRhdGEpIHtcbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIHRoaXMucG9wdWxhdGVCaW5kaW5ncygpO1xuICB9XG59XG4iLCJpbXBvcnQgVXRpbHMgZnJvbSAnLi9VdGlscydcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJvdXRlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMudXRpbHMgPSBuZXcgVXRpbHMoKTtcbiAgICB0aGlzLnZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbGlhaXNvbi12aWV3XScpO1xuICAgIHRoaXMucGF0aHMgPSBbXTtcbiAgICB0aGlzLndpbGRjYXJkcyA9IFtdO1xuICAgIC8vZ29lcyB0byBoYXNoIHVybFxuICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5nbyh3aW5kb3cubG9jYXRpb24uaGFzaC5zdWJzdHJpbmcoMSkpLCAwKTtcbiAgICAvL2FsbG93cyBiYWNrL2ZvcndhcmQgYnV0dG9uc1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsIChldmVudCkgPT4gdGhpcy5nbyhldmVudC5zdGF0ZSB8fCB3aW5kb3cubG9jYXRpb24uaGFzaC5zdWJzdHJpbmcoMSksIGZhbHNlKSk7XG4gIH1cblxuICBzdGF0ZShkYXRhKSB7XG4gICAgaWYgKGRhdGEubmFtZS5pbmRleE9mKCc6JykgPiAwKSB7XG4gICAgICB0aGlzLndpbGRjYXJkcy5wdXNoKGRhdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnBhdGhzLnB1c2goZGF0YSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZmFsbGJhY2soZGF0YSkge1xuICAgIHRoaXMucGF0aHMucHVzaChkYXRhKTtcbiAgICB0aGlzLl9mYWxsYmFjayA9IGRhdGE7XG4gIH1cblxuICAvLyBpbnRlZ3JhdGlvbiB0ZXN0cyBjb3ZlciB0aGlzXG4gIGdvKHJvdXRlKSB7XG4gICAgY29uc29sZS5sb2coYGdvaW5nIHRvIHN0YXRlICR7cm91dGV9YCk7XG4gICAgbGV0IG9iaiA9IHRoaXMuZmluZFJvdXRlSW5QYXRocyhyb3V0ZSk7XG4gICAgaWYgKCFvYmopIHtcbiAgICAgIHRoaXMuZ28odGhpcy5fZmFsbGJhY2submFtZSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZmV0Y2gob2JqLnRlbXBsYXRlVXJsKVxuICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIHJldHVybiByZXNwb25zZS50ZXh0KCk7XG4gICAgICB9KS50aGVuKCh0ZW1wbGF0ZSkgPT4ge1xuICAgICAgICB0aGlzLnZpZXcuaW5uZXJIVE1MID0gdGVtcGxhdGU7XG4gICAgICB9KTtcbiAgfVxuXG4gIC8vIFRPRE86IGNsZWFuIHRoaXMgdXAuIHRoZXJlIGhhcyB0byBiZSBhIGJldHRlciB3YXlcbiAgZmluZFJvdXRlSW5QYXRocyhyb3V0ZSkge1xuICAgIGZvciAobGV0IHBhdGggb2YgdGhpcy5wYXRocykge1xuICAgICAgaWYgKHBhdGgubmFtZSA9PT0gcm91dGUpIHJldHVybiBwYXRoO1xuICAgIH1cbiAgICByb3V0ZSA9IHJvdXRlLnN1YnN0cmluZygxKS5zcGxpdCgnLycpO1xuICAgIGZvciAobGV0IHdpbGRjYXJkIG9mIHRoaXMud2lsZGNhcmRzKSB7XG4gICAgICBsZXQgX3dpbGRjYXJkID0gd2lsZGNhcmQubmFtZS5zdWJzdHJpbmcoMSkuc3BsaXQoJy8nKTtcbiAgICAgIGlmIChfd2lsZGNhcmQubGVuZ3RoID09PSByb3V0ZS5sZW5ndGgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBfd2lsZGNhcmQubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgaWYgKF93aWxkY2FyZFtpXS5pbmRleE9mKCc6JykgPT09IDApIHtcbiAgICAgICAgICAgIGxldCB0ZW1wID0gX3dpbGRjYXJkO1xuICAgICAgICAgICAgdGVtcFtpXSA9IHJvdXRlW2ldO1xuICAgICAgICAgICAgaWYgKHRoaXMudXRpbHMuY29tcGFyZUJ5Q29udmVydCh0ZW1wLCByb3V0ZSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHdpbGRjYXJkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5cblxuLy8gKiBvbiBwYWdlIGxvYWQsIGdldCB1cmwgYW5kIGxvYWQgYXBwcm9wcmlhdGUgdGVtdHBsYXRlXG4vLyAqIG9uIHVybCBjaGFuZ2UsIHVwZGF0ZSB0ZW1wbGF0ZVxuLy8gKiBhbGxvdyB3aWxkY2FyZHMgaW4gcGF0aHMgL3RlbXBsYXRlL3VzZXIvOmlkXG4vLyBwYXNzIHZhcmlhYmxlcyB0byB0ZW1wbGF0ZVxuLy8gYWxsb3cgY29tcG9uZW50IHRvIGJlIGRlY2xhcmVkIGluIHJvdXRlIG9iamVjdFxuLy8gKiBnZXQgc3RhdGUgKGlmIHN0YXRlID09ICdodWhvaG9oYW8nKS4uLlxuLy8gKiB1cGRhdGUgc3RhdGUgb24gZm9yd2FyZC9iYWNrXG4vLyAqIHJvdXRlcyBvbiByZWZyZXNoXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVdGlscyB7XG4gIGNvbnN0cnVjdG9yKCkge31cblxuICBoYXNoZXIodmFsKSB7XG4gICAgbGV0IGhhc2ggPSAwLFxuICAgICAgaSxcbiAgICAgIGwsXG4gICAgICBzdHJpbmcgPSB2YWwudG9TdHJpbmcoKTtcbiAgICBmb3IgKGkgPSAwLCBsID0gc3RyaW5nLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgaGFzaCA9ICgoKGhhc2ggPDwgNSkgLSBoYXNoKSArIHN0cmluZy5jaGFyQ29kZUF0KGkpKSAmIDB4RkZGRkZGRkY7XG4gICAgfVxuICAgIHJldHVybiBoYXNoO1xuICB9XG5cbiAgb2JqZWN0KHNlbGYsIG9iaiwgcmVzdWx0ID0gMCkge1xuICAgIGZvciAobGV0IHByb3BlcnR5IGluIG9iaikge1xuICAgICAgaWYgKHR5cGVvZiBvYmpbcHJvcGVydHldID09PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gdGhpcy5vYmplY3Qoc2VsZiwgb2JqW3Byb3BlcnR5XSwgcmVzdWx0KVxuICAgICAgfVxuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wZXJ0eSkpIHtcbiAgICAgICAgcmVzdWx0ICs9IHNlbGYuaGFzaGVyKHByb3BlcnR5ICsgc2VsZi5oYXNoZXIob2JqW3Byb3BlcnR5XSkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgaGFzaChpbnB1dCkge1xuICAgIGxldCB0eXBlcyA9IHtcbiAgICAgICdzdHJpbmcnOiB0aGlzLmhhc2hlcixcbiAgICAgICdudW1iZXInOiB0aGlzLmhhc2hlcixcbiAgICAgICdib29sZWFuJzogdGhpcy5oYXNoZXIsXG4gICAgICAnb2JqZWN0JzogdGhpcy5vYmplY3RcbiAgICB9O1xuICAgIGxldCB0eXBlID0gdHlwZW9mIGlucHV0O1xuXG4gICAgcmV0dXJuIGlucHV0ICE9IG51bGwgJiYgdHlwZXNbdHlwZV0gPyB0eXBlc1t0eXBlXSh0aGlzLCBpbnB1dCkgKyB0aGlzLmhhc2hlcih0eXBlKSA6IDA7XG4gIH1cblxuICBjb21wYXJlKGEsIGIpIHtcbiAgICByZXR1cm4gdGhpcy5oYXNoKGEpID09PSB0aGlzLmhhc2goYik7XG4gIH1cblxuICAvL2Zhc3RlciB0aGFuIGNvbXBhcmVcbiAgY29tcGFyZUJ5Q29udmVydChhLCBiKSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGEpID09PSBKU09OLnN0cmluZ2lmeShiKVxuICB9XG59XG4iLCJpbXBvcnQgTGlhaXNvbiBmcm9tICcuL0xpYWlzb24nXG5pbXBvcnQgQmluZGluZyBmcm9tICcuL0JpbmRpbmcnXG5pbXBvcnQgVXNlck1vZGVsIGZyb20gJy4vVXNlck1vZGVsJ1xuaW1wb3J0IFZpZXdNb2RlbCBmcm9tICcuL1ZpZXdNb2RlbCdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXhhbXBsZSB7XG4gIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICB0aGlzLmJpbmQgPSBuZXcgTGlhaXNvbihkYXRhKTtcbiAgICBjb25zb2xlLmxvZyh0aGlzLmJpbmQpO1xuICAgIHRoaXMuYmluZGluZyA9IG5ldyBCaW5kaW5nKHRoaXMuYmluZCk7XG4gICAgdGhpcy5leGFtcGxlQmluZGluZygpO1xuICAgIHRoaXMuZXhhbXBsZVJvdXRlcigpO1xuICB9XG5cbiAgZXhhbXBsZUJpbmRpbmcoKSB7XG4gICAgLy8gaGVyZSB5b3UgaGF2ZSBhY2Nlc3MgdG8gdGhpcy5iaW5kLnVzZXIgYW5kIHRoaXMuYmluZC5wcm9ncmFtbWluZ19sYW5ndWFnZXNcbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmJpbmQudXNlcik7XG4gICAgLy8gY29uc29sZS5sb2codGhpcy5iaW5kLnByb2dyYW1taW5nX2xhbmd1YWdlcyk7XG5cbiAgICAvL21vZGVsIGV4YW1wbGVzXG4gICAgbGV0IHVzZXIgPSBuZXcgVXNlck1vZGVsKCk7XG4gICAgdXNlci5zZXQoJ2FnZScsICc4Nzc3Jyk7IC8vIHNob3VsZCBmYWlsXG4gICAgdXNlci5zZXQoJ25hbWUnLCAnbXkgZmlyc3QgbmFtZSBvbiB1c2VyIG1vZGVsJyk7IC8vc2hvdWxkIHBhc3NcbiAgICB1c2VyLnNldCgnYWdlJywge1xuICAgICAgYWdlOiAzM1xuICAgIH0pOyAvLyBzaG91bGQgZmFpbFxuICAgIHVzZXIuc2V0KCdhZ2UnLCA5OTkpOyAvL3Nob3VsZCBwYXNzXG4gICAgdXNlci5zZXQoJ2FkZHJlc3MnLCAnbXkgYWRkcmVzcycpOyAvL3Nob3VsZCBwYXNzXG5cbiAgICAvL3NldHMgZGF0YSBiaW5kaW5nXG4gICAgLy8gdGhpcy5iaW5kLnVzZXIubmFtZSA9IHVzZXIuZ2V0KCduYW1lJylcbiAgICB1c2VyLnNldCgnYWRkcmVzcycsIHVzZXIudXBDYXNlKCdteSBzZWNvbmQgYWRkcmVzcycpKTsgLy9zaG91bGQgcGFzcyBhbmQgcG9zdGZpeCBcIiFcIiB0byB0aGUgYWRkcmVzc1xuXG4gICAgdXNlci5zYXZlKCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgIGNvbnNvbGUubG9nKCd0aGVuJylcbiAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coJ3JlcXVlc3QgZmFpbGVkJywgZXJyb3IpXG4gICAgfSk7XG4gICAgdXNlci51cGRhdGUoKTtcbiAgICB1c2VyLmZldGNoKCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgIGNvbnNvbGUubG9nKCd0aGVuJylcbiAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coJ3JlcXVlc3QgZmFpbGVkJywgZXJyb3IpXG4gICAgfSk7XG4gICAgdXNlci5kZXN0cm95KCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgIGNvbnNvbGUubG9nKCd0aGVuJylcbiAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coJ3JlcXVlc3QgZmFpbGVkJywgZXJyb3IpXG4gICAgfSk7XG5cbiAgICAvLyBzZWNvbmQgbW9kZWxcbiAgICBsZXQgdmlld21vZGVsID0gbmV3IFZpZXdNb2RlbCgpO1xuICAgIHZpZXdtb2RlbC5zZXQoJ3NpbmdsZScsICd1cGRhdGVkIHZpYSB2aWV3bW9kZWwgbW9kZWwgc2V0IGZ1bmN0aW9uJyk7IC8vIHNob3VsZCBwYXNzXG4gICAgdmlld21vZGVsLnNldCgndXNlci5uYW1lJywgJ215IHNlY29uZCBleGFtcGxlIG5hbWUnKTsgLy9zaG91bGQgcGFzc1xuICAgIHZpZXdtb2RlbC5zZXQoJ3VzZXIuYWdlJywge1xuICAgICAgICBhZ2U6IDIyXG4gICAgICB9KSAvLyBzaG91bGQgZmFpbFxuICAgIHZpZXdtb2RlbC5zZXQoJ3VzZXIuYWdlJywgNDQ0KTsgLy9zaG91bGQgZmFpbFxuICAgIHZpZXdtb2RlbC5zZXQoJ3VzZXIuYWRkcmVzcycsIDc3ODc4KTsgLy9zaG91bGQgZmFpbFxuICAgIHZpZXdtb2RlbC5zZXQoJ3VzZXIuYWRkcmVzcycsICdteSBzZWNvbmQgYWRkcmVzcycpOyAvL3Nob3VsZCBwYXNzXG5cbiAgICAvL3NldHMgZGF0YSBiaW5kaW5nXG4gICAgLy8gdGhpcy5iaW5kID0gdmlld21vZGVsLmdldCgpXG4gICAgLy8gdGhpcy5iaW5kLnVzZXIgPSB1c2VyLmdldCgpXG4gICAgdGhpcy5iaW5kaW5nLnJlZnJlc2godGhpcy5iaW5kKTtcbiAgfVxuXG4gIGV4YW1wbGVSb3V0ZXIoKSB7XG4gICAgLy8gY2hhbmdlIHN0YXRlIHRvIC9saXN0XG4gICAgLy8gcm91dGVyLmdvKCdob2Rvci8xMicsIHtteWRhdGE6MTIzNDU1NiwgbXlvYmo6e25hbWU6J3NoZXJsb2NrJ319KTtcbiAgICAvLyBzZXRUaW1lb3V0KCgpPT4gd2luZG93LnJvdXRlci5nbygnbGlzdCcpLDIwMDApXG4gIH1cbn1cbiIsImltcG9ydCBMaWFpc29uIGZyb20gJy4vTGlhaXNvbidcbmltcG9ydCBCaW5kaW5nIGZyb20gJy4vQmluZGluZydcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXhhbXBsZTIge1xuICBjb25zdHJ1Y3RvcihkYXRhKSB7XG4gICAgdGhpcy5iaW5kID0gbmV3IExpYWlzb24oZGF0YSk7XG4gICAgbmV3IEJpbmRpbmcodGhpcy5iaW5kKTtcbiAgICAgIC8vIHRoaXMuYW5vdGhlckZ1bmN0aW9uKClcbiAgfVxuXG4gIGFub3RoZXJGdW5jdGlvbigpIHtcbiAgICAvLyBoZXJlIHlvdSBoYXZlIGFjY2VzcyB0byB0aGlzLmRhdGEudXNlciBhbmQgdGhpcy5kYXRhLnByb2dyYW1taW5nX2xhbmd1YWdlc1xuICAgIGNvbnNvbGUubG9nKHRoaXMuYmluZC5zdHJpbmcpO1xuICB9XG59XG4iLCIvLyBwdXRzIHJvdXRlcyBvbiB0aGUgcm91dGVyIGNsYXNzXG5cbmltcG9ydCBSb3V0ZXIgZnJvbSAnLi9Sb3V0ZXInO1xuLy8gVE9ETzogbm90IGF0dGFjaCB0aGlzIHRvIHRoZSBnbG9iYWwgbmFtZXNwYWNlXG53aW5kb3cucm91dGVyID0gd2luZG93LnJvdXRlciB8fCBuZXcgUm91dGVyKCk7XG5yb3V0ZXIuc3RhdGUoe1xuICBuYW1lOiAnL3VzZXJzJyxcbiAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZXMvdXNlcmluZGV4Lmh0bWwnXG59KS5zdGF0ZSh7XG4gIG5hbWU6ICcvdXNlci86aWQnLFxuICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlcy91c2VyLmh0bWwnXG59KS5zdGF0ZSh7XG4gIG5hbWU6ICcvdXNlci86aWQvZGV0YWlscycsXG4gIHRlbXBsYXRlVXJsOiAndGVtcGxhdGVzL3VzZXJkZXRhaWxzLmh0bWwnXG59KS5zdGF0ZSh7XG4gIG5hbWU6ICcvdXNlci86aWQvOnN1YmlkJyxcbiAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZXMvdXNlcnN1Yi5odG1sJ1xufSkuc3RhdGUoe1xuICBuYW1lOiAnL2xpc3QnLFxuICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlcy9saXN0Lmh0bWwnXG59KS5zdGF0ZSh7XG4gIG5hbWU6ICcvJyxcbiAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZXMvbGlzdC5odG1sJ1xufSkuZmFsbGJhY2soe1xuICBuYW1lOiAnLzQwNCcsXG4gIHRlbXBsYXRlVXJsOiAndGVtcGxhdGVzLzQwNC5odG1sJ1xufSk7XG4iLCJpbXBvcnQgQmFzZU1vZGVsIGZyb20gJy4vQmFzZU1vZGVsJ1xuXG5leHBvcnQgY2xhc3MgVXNlck1vZGVsIGV4dGVuZHMgQmFzZU1vZGVsIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3VzZXInLCB7XG4gICAgICBpZDoge1xuICAgICAgICB2YWx1ZTogNzg5Nzg3LFxuICAgICAgICB0eXBlOiAnbnVtYmVyJ1xuICAgICAgfSxcbiAgICAgIG5hbWU6IHtcbiAgICAgICAgdmFsdWU6ICduYW1lJyxcbiAgICAgICAgdHlwZTogJ3N0cmluZydcbiAgICAgIH0sXG4gICAgICBhZGRyZXNzOiB7XG4gICAgICAgIHZhbHVlOiAnMjIxYiBiYWtlJyxcbiAgICAgICAgdHlwZTogJ3N0cmluZydcbiAgICAgIH0sXG4gICAgICBhZ2U6IHtcbiAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgIHR5cGU6ICdudW1iZXInXG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvL2V4YW1wbGUgbW9kZWwgaGVscGVyXG4gIHVwQ2FzZShzdHIpIHtcbiAgICByZXR1cm4gc3RyLnRvVXBwZXJDYXNlKCk7XG4gIH1cbn1cbiIsImltcG9ydCBCYXNlTW9kZWwgZnJvbSAnLi9CYXNlTW9kZWwnXG5cbmV4cG9ydCBjbGFzcyBWaWV3TW9kZWwgZXh0ZW5kcyBCYXNlTW9kZWwge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigndmlldycsIHtcbiAgICAgIHNpbmdsZToge1xuICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgdmFsdWU6ICdmcm9tIHNjaGVtYSdcbiAgICAgIH0sXG4gICAgICB1c2VyOiB7XG4gICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIGlkOiB7XG4gICAgICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgICAgIHZhbHVlOiA4ODg4OFxuICAgICAgICAgIH0sXG4gICAgICAgICAgbmFtZToge1xuICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgICAgICB2YWx1ZTogJ1NoZXJsb2NrIEhvbG1lcydcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFkZHJlc3M6IHtcbiAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICAgICAgdmFsdWU6ICcyMjFiIEJha2VyIFN0cmVldCdcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcHJvZ3JhbW1pbmdfbGFuZ3VhZ2VzOiB7XG4gICAgICAgIHR5cGU6ICdhcnJheScsXG4gICAgICAgIHZhbHVlOiBbJ2phdmFzY3JpcHQnLCAncnVieSddXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
